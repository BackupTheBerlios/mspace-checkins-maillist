From luis at berlios.de  Sat Oct  1 16:25:16 2005
From: luis at berlios.de (Luis Bosque at BerliOS)
Date: Sat, 1 Oct 2005 16:25:16 +0200
Subject: [Mspace-checkins] r525 - / Control Views data dll libmonotimer pruebas
Message-ID: <200510011425.j91EPGPq007363@sheep.berlios.de>

Author: luis
Date: 2005-10-01 16:25:13 +0200 (Sat, 01 Oct 2005)
New Revision: 525

Added:
   AUTHORS
   COPYING
   Control/
   Control/Controller.cs
   Main.cs
   Makefile
   Views/
   Views/MainView.cs
   data/
   data/main.glade
   data/main.glade.bak
   data/main.gladep
   data/main.gladep.bak
   dll/
   dll/CookComputing.XmlRpc.dll
   libmonotimer/
   libmonotimer/Communication.cs
   libmonotimer/Project.cs
   monotimer.exe
   pruebas/
   pruebas/Principal.cs
Log:
A?\195?\177adido proyecto Cronus al subversion de Berlios en el espacio MonkeySpace


Added: AUTHORS
===================================================================
--- AUTHORS	2005-09-29 16:57:08 UTC (rev 524)
+++ AUTHORS	2005-10-01 14:25:13 UTC (rev 525)
@@ -0,0 +1 @@
+Luis Bosque <luis.bosque at hispalinux.es>


Property changes on: AUTHORS
___________________________________________________________________
Name: svn:executable
   + 

Added: COPYING
===================================================================
--- COPYING	2005-09-29 16:57:08 UTC (rev 524)
+++ COPYING	2005-10-01 14:25:13 UTC (rev 525)
@@ -0,0 +1,340 @@
+		    GNU GENERAL PUBLIC LICENSE
+		       Version 2, June 1991
+
+ Copyright (C) 1989, 1991 Free Software Foundation, Inc.
+     59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ Everyone is permitted to copy and distribute verbatim copies
+ of this license document, but changing it is not allowed.
+
+			    Preamble
+
+  The licenses for most software are designed to take away your
+freedom to share and change it.  By contrast, the GNU General Public
+License is intended to guarantee your freedom to share and change free
+software--to make sure the software is free for all its users.  This
+General Public License applies to most of the Free Software
+Foundation's software and to any other program whose authors commit to
+using it.  (Some other Free Software Foundation software is covered by
+the GNU Library General Public License instead.)  You can apply it to
+your programs, too.
+
+  When we speak of free software, we are referring to freedom, not
+price.  Our General Public Licenses are designed to make sure that you
+have the freedom to distribute copies of free software (and charge for
+this service if you wish), that you receive source code or can get it
+if you want it, that you can change the software or use pieces of it
+in new free programs; and that you know you can do these things.
+
+  To protect your rights, we need to make restrictions that forbid
+anyone to deny you these rights or to ask you to surrender the rights.
+These restrictions translate to certain responsibilities for you if you
+distribute copies of the software, or if you modify it.
+
+  For example, if you distribute copies of such a program, whether
+gratis or for a fee, you must give the recipients all the rights that
+you have.  You must make sure that they, too, receive or can get the
+source code.  And you must show them these terms so they know their
+rights.
+
+  We protect your rights with two steps: (1) copyright the software, and
+(2) offer you this license which gives you legal permission to copy,
+distribute and/or modify the software.
+
+  Also, for each author's protection and ours, we want to make certain
+that everyone understands that there is no warranty for this free
+software.  If the software is modified by someone else and passed on, we
+want its recipients to know that what they have is not the original, so
+that any problems introduced by others will not reflect on the original
+authors' reputations.
+
+  Finally, any free program is threatened constantly by software
+patents.  We wish to avoid the danger that redistributors of a free
+program will individually obtain patent licenses, in effect making the
+program proprietary.  To prevent this, we have made it clear that any
+patent must be licensed for everyone's free use or not licensed at all.
+
+  The precise terms and conditions for copying, distribution and
+modification follow.
+
+		    GNU GENERAL PUBLIC LICENSE
+   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
+
+  0. This License applies to any program or other work which contains
+a notice placed by the copyright holder saying it may be distributed
+under the terms of this General Public License.  The "Program", below,
+refers to any such program or work, and a "work based on the Program"
+means either the Program or any derivative work under copyright law:
+that is to say, a work containing the Program or a portion of it,
+either verbatim or with modifications and/or translated into another
+language.  (Hereinafter, translation is included without limitation in
+the term "modification".)  Each licensee is addressed as "you".
+
+Activities other than copying, distribution and modification are not
+covered by this License; they are outside its scope.  The act of
+running the Program is not restricted, and the output from the Program
+is covered only if its contents constitute a work based on the
+Program (independent of having been made by running the Program).
+Whether that is true depends on what the Program does.
+
+  1. You may copy and distribute verbatim copies of the Program's
+source code as you receive it, in any medium, provided that you
+conspicuously and appropriately publish on each copy an appropriate
+copyright notice and disclaimer of warranty; keep intact all the
+notices that refer to this License and to the absence of any warranty;
+and give any other recipients of the Program a copy of this License
+along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and
+you may at your option offer warranty protection in exchange for a fee.
+
+  2. You may modify your copy or copies of the Program or any portion
+of it, thus forming a work based on the Program, and copy and
+distribute such modifications or work under the terms of Section 1
+above, provided that you also meet all of these conditions:
+
+    a) You must cause the modified files to carry prominent notices
+    stating that you changed the files and the date of any change.
+
+    b) You must cause any work that you distribute or publish, that in
+    whole or in part contains or is derived from the Program or any
+    part thereof, to be licensed as a whole at no charge to all third
+    parties under the terms of this License.
+
+    c) If the modified program normally reads commands interactively
+    when run, you must cause it, when started running for such
+    interactive use in the most ordinary way, to print or display an
+    announcement including an appropriate copyright notice and a
+    notice that there is no warranty (or else, saying that you provide
+    a warranty) and that users may redistribute the program under
+    these conditions, and telling the user how to view a copy of this
+    License.  (Exception: if the Program itself is interactive but
+    does not normally print such an announcement, your work based on
+    the Program is not required to print an announcement.)
+
+These requirements apply to the modified work as a whole.  If
+identifiable sections of that work are not derived from the Program,
+and can be reasonably considered independent and separate works in
+themselves, then this License, and its terms, do not apply to those
+sections when you distribute them as separate works.  But when you
+distribute the same sections as part of a whole which is a work based
+on the Program, the distribution of the whole must be on the terms of
+this License, whose permissions for other licensees extend to the
+entire whole, and thus to each and every part regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest
+your rights to work written entirely by you; rather, the intent is to
+exercise the right to control the distribution of derivative or
+collective works based on the Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of
+a storage or distribution medium does not bring the other work under
+the scope of this License.
+
+  3. You may copy and distribute the Program (or a work based on it,
+under Section 2) in object code or executable form under the terms of
+Sections 1 and 2 above provided that you also do one of the following:
+
+    a) Accompany it with the complete corresponding machine-readable
+    source code, which must be distributed under the terms of Sections
+    1 and 2 above on a medium customarily used for software interchange; or,
+
+    b) Accompany it with a written offer, valid for at least three
+    years, to give any third party, for a charge no more than your
+    cost of physically performing source distribution, a complete
+    machine-readable copy of the corresponding source code, to be
+    distributed under the terms of Sections 1 and 2 above on a medium
+    customarily used for software interchange; or,
+
+    c) Accompany it with the information you received as to the offer
+    to distribute corresponding source code.  (This alternative is
+    allowed only for noncommercial distribution and only if you
+    received the program in object code or executable form with such
+    an offer, in accord with Subsection b above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it.  For an executable work, complete source
+code means all the source code for all modules it contains, plus any
+associated interface definition files, plus the scripts used to
+control compilation and installation of the executable.  However, as a
+special exception, the source code distributed need not include
+anything that is normally distributed (in either source or binary
+form) with the major components (compiler, kernel, and so on) of the
+operating system on which the executable runs, unless that component
+itself accompanies the executable.
+
+If distribution of executable or object code is made by offering
+access to copy from a designated place, then offering equivalent
+access to copy the source code from the same place counts as
+distribution of the source code, even though third parties are not
+compelled to copy the source along with the object code.
+
+  4. You may not copy, modify, sublicense, or distribute the Program
+except as expressly provided under this License.  Any attempt
+otherwise to copy, modify, sublicense or distribute the Program is
+void, and will automatically terminate your rights under this License.
+However, parties who have received copies, or rights, from you under
+this License will not have their licenses terminated so long as such
+parties remain in full compliance.
+
+  5. You are not required to accept this License, since you have not
+signed it.  However, nothing else grants you permission to modify or
+distribute the Program or its derivative works.  These actions are
+prohibited by law if you do not accept this License.  Therefore, by
+modifying or distributing the Program (or any work based on the
+Program), you indicate your acceptance of this License to do so, and
+all its terms and conditions for copying, distributing or modifying
+the Program or works based on it.
+
+  6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the
+original licensor to copy, distribute or modify the Program subject to
+these terms and conditions.  You may not impose any further
+restrictions on the recipients' exercise of the rights granted herein.
+You are not responsible for enforcing compliance by third parties to
+this License.
+
+  7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues),
+conditions are imposed on you (whether by court order, agreement or
+otherwise) that contradict the conditions of this License, they do not
+excuse you from the conditions of this License.  If you cannot
+distribute so as to satisfy simultaneously your obligations under this
+License and any other pertinent obligations, then as a consequence you
+may not distribute the Program at all.  For example, if a patent
+license would not permit royalty-free redistribution of the Program by
+all those who receive copies directly or indirectly through you, then
+the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under
+any particular circumstance, the balance of the section is intended to
+apply and the section as a whole is intended to apply in other
+circumstances.
+
+It is not the purpose of this section to induce you to infringe any
+patents or other property right claims or to contest validity of any
+such claims; this section has the sole purpose of protecting the
+integrity of the free software distribution system, which is
+implemented by public license practices.  Many people have made
+generous contributions to the wide range of software distributed
+through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing
+to distribute software through any other system and a licensee cannot
+impose that choice.
+
+This section is intended to make thoroughly clear what is believed to
+be a consequence of the rest of this License.
+
+  8. If the distribution and/or use of the Program is restricted in
+certain countries either by patents or by copyrighted interfaces, the
+original copyright holder who places the Program under this License
+may add an explicit geographical distribution limitation excluding
+those countries, so that distribution is permitted only in or among
+countries not thus excluded.  In such case, this License incorporates
+the limitation as if written in the body of this License.
+
+  9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time.  Such new versions will
+be similar in spirit to the present version, but may differ in detail to
+address new problems or concerns.
+
+Each version is given a distinguishing version number.  If the Program
+specifies a version number of this License which applies to it and "any
+later version", you have the option of following the terms and conditions
+either of that version or of any later version published by the Free
+Software Foundation.  If the Program does not specify a version number of
+this License, you may choose any version ever published by the Free Software
+Foundation.
+
+  10. If you wish to incorporate parts of the Program into other free
+programs whose distribution conditions are different, write to the author
+to ask for permission.  For software which is copyrighted by the Free
+Software Foundation, write to the Free Software Foundation; we sometimes
+make exceptions for this.  Our decision will be guided by the two goals
+of preserving the free status of all derivatives of our free software and
+of promoting the sharing and reuse of software generally.
+
+			    NO WARRANTY
+
+  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
+FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
+OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
+PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
+OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
+MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS
+TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
+REPAIR OR CORRECTION.
+
+  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
+WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
+INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
+OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
+TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
+YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
+PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
+POSSIBILITY OF SUCH DAMAGES.
+
+		     END OF TERMS AND CONDITIONS
+
+	    How to Apply These Terms to Your New Programs
+
+  If you develop a new program, and you want it to be of the greatest
+possible use to the public, the best way to achieve this is to make it
+free software which everyone can redistribute and change under these terms.
+
+  To do so, attach the following notices to the program.  It is safest
+to attach them to the start of each source file to most effectively
+convey the exclusion of warranty; and each file should have at least
+the "copyright" line and a pointer to where the full notice is found.
+
+    <one line to give the program's name and a brief idea of what it does.>
+    Copyright (C) <year>  <name of author>
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; either version 2 of the License, or
+    (at your option) any later version.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+
+
+Also add information on how to contact you by electronic and paper mail.
+
+If the program is interactive, make it output a short notice like this
+when it starts in an interactive mode:
+
+    Gnomovision version 69, Copyright (C) year  name of author
+    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.
+    This is free software, and you are welcome to redistribute it
+    under certain conditions; type `show c' for details.
+
+The hypothetical commands `show w' and `show c' should show the appropriate
+parts of the General Public License.  Of course, the commands you use may
+be called something other than `show w' and `show c'; they could even be
+mouse-clicks or menu items--whatever suits your program.
+
+You should also get your employer (if you work as a programmer) or your
+school, if any, to sign a "copyright disclaimer" for the program, if
+necessary.  Here is a sample; alter the names:
+
+  Yoyodyne, Inc., hereby disclaims all copyright interest in the program
+  `Gnomovision' (which makes passes at compilers) written by James Hacker.
+
+  <signature of Ty Coon>, 1 April 1989
+  Ty Coon, President of Vice
+
+This General Public License does not permit incorporating your program into
+proprietary programs.  If your program is a subroutine library, you may
+consider it more useful to permit linking proprietary applications with the
+library.  If this is what you want to do, use the GNU Library General
+Public License instead of this License.


Property changes on: COPYING
___________________________________________________________________
Name: svn:executable
   + 

Added: Control/Controller.cs
===================================================================
--- Control/Controller.cs	2005-09-29 16:57:08 UTC (rev 524)
+++ Control/Controller.cs	2005-10-01 14:25:13 UTC (rev 525)
@@ -0,0 +1,126 @@
+/* Monotimer
+ * Copyright (C) 2003 GNOME Foundation
+ *
+ * AUTHORS:
+ *      Luis Bosque <luis.bosque at hispalinux.es>
+ *
+ * This Library is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Library General Public License as
+ * published by the Free Software Foundation; either version 2 of the
+ * License, or (at your option) any later version.
+ *
+ * This Library is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Library General Public License for more details.
+ *
+ * You should have received a copy of the GNU Library General Public
+ * License along with this Library; see the file COPYING.LIB.  If not,
+ * write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330,
+ * Boston, MA 02111-1307, USA.
+ */
+
+using System;
+using libmonotimer;
+using System.Threading;
+using Mono.Unix;
+
+namespace Control{
+
+	
+//class TimerExampleState {
+//	int counter = 0;
+//	public Timer tmr;
+//}
+public struct CollabProject {
+	public int id;
+	public string nombre;
+}
+
+public class Controller{
+	
+	string login = "";
+	string password = "";
+	
+	proyecto[] Array_Projects;
+	Project[] lista_proyectos;
+	
+	private Project currentProject;
+	public event EventHandler timer;
+	
+	public Controller(){
+		
+		Projects = Communication.login (login, password);
+		if (Projects.Length == 0) {
+			Console.WriteLine ("Autenticacion fallida");
+		}
+		else {
+			//lista_proyectos = new Proyect [Projects.Length];
+			foreach ( proyecto aux in Projects ) {
+				
+			}			
+		}
+
+
+		
+		
+		
+		
+		
+		//this.counter = 0;
+
+		/*TimerExampleState s = new TimerExampleState();
+		// Create the delegate that invokes methods for the timer.
+		TimerCallback timerDelegate = new TimerCallback(CheckStatus);
+		// Create a timer that waits one second, then invokes every second.
+		Timer timer = new Timer(timerDelegate, s,0, 1000);
+   
+		// Keep a handle to the timer, so it can be disposed.
+		s.tmr = timer;
+		// The main thread does nothing until the timer is disposed.
+		while (s.tmr != null)
+		Thread.Sleep(0);
+		Console.WriteLine("Timer example done.");
+		*/
+	}
+	/*
+	public string CurrentProject{
+		get{
+			return currentProject;
+		}
+		set{
+			currentProject = value;
+		}
+	}
+	*/
+	
+	public void incCounter(){
+		//this.counter++;
+		//this.label.Text = this.counter.ToString();;
+	}
+
+	public void StartTimer (){
+		for (int i = 0; i < 10; i++) {
+			Syscall.sleep (1);
+			Console.WriteLine (i);
+			timer (this, EventArgs.Empty);
+		}
+		
+	}
+
+	public void stop(){
+	}
+	
+	/*static void CheckStatus(Object state) {
+		TimerExampleState s = (TimerExampleState) state;
+		s.counter++;
+		Console.WriteLine(s.counter);
+
+	}*/
+	
+	
+}
+
+}
+
+

Added: Main.cs
===================================================================
--- Main.cs	2005-09-29 16:57:08 UTC (rev 524)
+++ Main.cs	2005-10-01 14:25:13 UTC (rev 525)
@@ -0,0 +1,48 @@
+/* Monotimer
+ * Copyright (C) 2003 GNOME Foundation
+ *
+ * AUTHORS:
+ *      Luis Bosque <luis.bosque at hispalinux.es>
+ *
+ * This Library is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Library General Public License as
+ * published by the Free Software Foundation; either version 2 of the
+ * License, or (at your option) any later version.
+ *
+ * This Library is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Library General Public License for more details.
+ *
+ * You should have received a copy of the GNU Library General Public
+ * License along with this Library; see the file COPYING.LIB.  If not,
+ * write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330,
+ * Boston, MA 02111-1307, USA.
+ */
+
+using System;
+using Views;
+using Gtk;
+using libmonotimer;
+using Control;
+
+public class Mainclass{
+	
+	Views.MainView view;
+
+	
+	public Mainclass(){
+
+		Controller app = new Controller();
+		
+		Application.Init();
+		this.view = new MainView(app);
+		Application.Run();
+	}
+
+
+	public static void Main(){
+		new Mainclass();
+	}
+
+}

Added: Makefile
===================================================================
--- Makefile	2005-09-29 16:57:08 UTC (rev 524)
+++ Makefile	2005-10-01 14:25:13 UTC (rev 525)
@@ -0,0 +1,47 @@
+# This makefile is autogenerated by MonoDevelop
+# Do not modify this file
+
+SOURCES = \
+./Main.cs \
+./libmonotimer/Project.cs \
+./libmonotimer/hilo.cs \
+./libmonotimer/ProjectFactory.cs \
+./libmonotimer/Communication.cs \
+./Control/Controller.cs \
+./Views/MainView.cs \
+
+PKG_REFERENCES = \
+gnome-sharp \
+gtk-sharp \
+glade-sharp \
+gnome-vfs-sharp-2.0 \
+gda-sharp-2.0
+
+
+PKG_REFERENCES_BUILD = $(addprefix -pkg:, $(PKG_REFERENCES))
+
+PKG_REFERENCES_CHECK = $(addsuffix .pkgcheck, $(PKG_REFERENCES))
+
+MCS_OPTIONS = 
+
+all: monotimer.exe
+
+monotimer.exe: $(SOURCES)
+	mcs $(MCS_OPTIONS) -r:Mono.Posix -r:CookComputing.XmlRpc.dll -target:exe -out:"monotimer.exe" $(PKG_REFERENCES_BUILD) $(SOURCES)
+
+clean:
+	rm -f monotimer.exe
+
+depcheck: PKG_depcheck 
+
+PKG_depcheck: $(PKG_REFERENCES_CHECK)
+
+%.pkgcheck:
+	@echo -n Checking for package $(subst .pkgcheck,,$@)...
+	@if pkg-config --libs $(subst .pkgcheck,,$@) &> /dev/null; then \
+		echo yes; \
+	else \
+		echo no; \
+		exit 1; \
+	fi
+

Added: Views/MainView.cs
===================================================================
--- Views/MainView.cs	2005-09-29 16:57:08 UTC (rev 524)
+++ Views/MainView.cs	2005-10-01 14:25:13 UTC (rev 525)
@@ -0,0 +1,105 @@
+/* Monotimer
+ * Copyright (C) 2003 GNOME Foundation
+ *
+ * AUTHORS:
+ *      Luis Bosque <luis.bosque at hispalinux.es>
+ *
+ * This Library is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Library General Public License as
+ * published by the Free Software Foundation; either version 2 of the
+ * License, or (at your option) any later version.
+ *
+ * This Library is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Library General Public License for more details.
+ *
+ * You should have received a copy of the GNU Library General Public
+ * License along with this Library; see the file COPYING.LIB.  If not,
+ * write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330,
+ * Boston, MA 02111-1307, USA.
+ */
+
+using Gtk;
+using GLib;
+using Glade;
+using System;
+using libmonotimer;
+using Control;
+using System.Threading;
+
+namespace Views{
+
+public class MainView{
+	
+	[Glade.Widget] private Gtk.Window main;
+	[Glade.Widget] private Gtk.Button btnOK;
+	[Glade.Widget] private Gtk.Button btnLoad;
+	[Glade.Widget] private Gtk.Label label1;
+	[Glade.Widget] private Gtk.TextView lista_proy;
+	[Glade.Widget] private Gtk.Entry id_proy;
+	[Glade.Widget] private Gtk.Entry name_proy;
+	Gtk.TextBuffer buffer;
+	
+	Controller app;
+	int counter;
+	
+	public void deleteEventCb (object o, DeleteEventArgs args) {
+		Application.Quit ();
+	}
+
+	public void OKButtonCb (object o, EventArgs args) {
+		print("ok");
+		label1.Text = "OK";
+		app.incCounter();
+		System.Threading.Thread counter = new System.Threading.Thread ( new ThreadStart (app.StartTimer) );
+		counter.Start ();
+		
+		//app.StartTimer ();
+	}
+		
+	public void LoadButtonCb (object o, EventArgs args) {
+		print("Project Loaded");
+	}
+		
+	public MainView(Controller app){
+		this.app = app;
+		Glade.XML gxml;
+		gxml = new Glade.XML("./data/main.glade","main",null);
+		gxml.Autoconnect(this);
+		System.Console.WriteLine("Vista creada");
+		counter = 0;
+		buffer = lista_proy.Buffer;
+		
+		if (main == null){
+			print("Ventana principal [NULL]");
+		}
+		if (btnOK == null){
+			print("btnOK [NULL]");
+		}
+		
+		
+		app.timer += new EventHandler (OnTimer);
+		
+		
+		main.DeleteEvent += new DeleteEventHandler (deleteEventCb);
+		btnOK.Clicked += new EventHandler (OKButtonCb);
+		btnLoad.Clicked += new EventHandler (LoadButtonCb);
+	}
+
+	public void print (string texto){
+		Console.WriteLine(texto);
+	}
+
+	public void OnTimer (object sender, EventArgs args) {
+		counter++;
+		label1.Text = counter.ToString();;
+	}
+
+
+}
+
+
+
+
+}

Added: data/main.glade
===================================================================
--- data/main.glade	2005-09-29 16:57:08 UTC (rev 524)
+++ data/main.glade	2005-10-01 14:25:13 UTC (rev 525)
@@ -0,0 +1,247 @@
+<?xml version="1.0" standalone="no"?> <!--*- mode: xml -*-->
+<!DOCTYPE glade-interface SYSTEM "http://glade.gnome.org/glade-2.0.dtd">
+
+<glade-interface>
+
+<widget class="GtkWindow" id="main">
+  <property name="visible">True</property>
+  <property name="title" translatable="yes">Monotest 1</property>
+  <property name="type">GTK_WINDOW_TOPLEVEL</property>
+  <property name="window_position">GTK_WIN_POS_NONE</property>
+  <property name="modal">False</property>
+  <property name="default_width">300</property>
+  <property name="default_height">200</property>
+  <property name="resizable">True</property>
+  <property name="destroy_with_parent">False</property>
+  <property name="decorated">True</property>
+  <property name="skip_taskbar_hint">False</property>
+  <property name="skip_pager_hint">False</property>
+  <property name="type_hint">GDK_WINDOW_TYPE_HINT_NORMAL</property>
+  <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
+  <property name="focus_on_map">True</property>
+
+  <child>
+    <widget class="GtkHBox" id="hbox1">
+      <property name="visible">True</property>
+      <property name="homogeneous">False</property>
+      <property name="spacing">0</property>
+
+      <child>
+	<widget class="GtkScrolledWindow" id="scrolledwindow1">
+	  <property name="visible">True</property>
+	  <property name="can_focus">True</property>
+	  <property name="hscrollbar_policy">GTK_POLICY_ALWAYS</property>
+	  <property name="vscrollbar_policy">GTK_POLICY_ALWAYS</property>
+	  <property name="shadow_type">GTK_SHADOW_IN</property>
+	  <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
+
+	  <child>
+	    <widget class="GtkTreeView" id="treeview1">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="headers_visible">True</property>
+	      <property name="rules_hint">True</property>
+	      <property name="reorderable">False</property>
+	      <property name="enable_search">True</property>
+	      <property name="fixed_height_mode">False</property>
+	      <property name="hover_selection">False</property>
+	      <property name="hover_expand">False</property>
+	    </widget>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkVBox" id="vbox1">
+	  <property name="visible">True</property>
+	  <property name="homogeneous">False</property>
+	  <property name="spacing">0</property>
+
+	  <child>
+	    <widget class="GtkLabel" id="label1">
+	      <property name="height_request">52</property>
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">01:39:00</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">False</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0.5</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">False</property>
+	      <property name="fill">True</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkButton" id="btnOK">
+	      <property name="height_request">150</property>
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label" translatable="yes">Start/Pause</property>
+	      <property name="use_underline">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">False</property>
+	      <property name="fill">False</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkVBox" id="vbox2">
+	      <property name="visible">True</property>
+	      <property name="homogeneous">False</property>
+	      <property name="spacing">0</property>
+
+	      <child>
+		<widget class="GtkHBox" id="hbox2">
+		  <property name="border_width">5</property>
+		  <property name="visible">True</property>
+		  <property name="homogeneous">False</property>
+		  <property name="spacing">0</property>
+
+		  <child>
+		    <widget class="GtkLabel" id="id_proy_label">
+		      <property name="visible">True</property>
+		      <property name="label" translatable="yes">ID</property>
+		      <property name="use_underline">False</property>
+		      <property name="use_markup">False</property>
+		      <property name="justify">GTK_JUSTIFY_LEFT</property>
+		      <property name="wrap">False</property>
+		      <property name="selectable">False</property>
+		      <property name="xalign">0.5</property>
+		      <property name="yalign">0.5</property>
+		      <property name="xpad">0</property>
+		      <property name="ypad">0</property>
+		      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+		      <property name="width_chars">-1</property>
+		      <property name="single_line_mode">False</property>
+		      <property name="angle">0</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">False</property>
+		      <property name="fill">False</property>
+		    </packing>
+		  </child>
+
+		  <child>
+		    <widget class="GtkEntry" id="id_proy">
+		      <property name="visible">True</property>
+		      <property name="can_focus">True</property>
+		      <property name="editable">True</property>
+		      <property name="visibility">True</property>
+		      <property name="max_length">0</property>
+		      <property name="text" translatable="yes"></property>
+		      <property name="has_frame">True</property>
+		      <property name="invisible_char">*</property>
+		      <property name="activates_default">False</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">True</property>
+		      <property name="fill">True</property>
+		    </packing>
+		  </child>
+		</widget>
+		<packing>
+		  <property name="padding">0</property>
+		  <property name="expand">True</property>
+		  <property name="fill">True</property>
+		</packing>
+	      </child>
+
+	      <child>
+		<widget class="GtkHBox" id="hbox3">
+		  <property name="border_width">5</property>
+		  <property name="visible">True</property>
+		  <property name="homogeneous">False</property>
+		  <property name="spacing">0</property>
+
+		  <child>
+		    <widget class="GtkLabel" id="name_proy_label">
+		      <property name="visible">True</property>
+		      <property name="label" translatable="yes">Proyecto</property>
+		      <property name="use_underline">False</property>
+		      <property name="use_markup">False</property>
+		      <property name="justify">GTK_JUSTIFY_LEFT</property>
+		      <property name="wrap">False</property>
+		      <property name="selectable">False</property>
+		      <property name="xalign">0.5</property>
+		      <property name="yalign">0.5</property>
+		      <property name="xpad">0</property>
+		      <property name="ypad">0</property>
+		      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+		      <property name="width_chars">-1</property>
+		      <property name="single_line_mode">False</property>
+		      <property name="angle">0</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">False</property>
+		      <property name="fill">False</property>
+		    </packing>
+		  </child>
+
+		  <child>
+		    <widget class="GtkEntry" id="name_proy">
+		      <property name="visible">True</property>
+		      <property name="can_focus">True</property>
+		      <property name="editable">True</property>
+		      <property name="visibility">True</property>
+		      <property name="max_length">0</property>
+		      <property name="text" translatable="yes"></property>
+		      <property name="has_frame">True</property>
+		      <property name="invisible_char">*</property>
+		      <property name="activates_default">False</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">True</property>
+		      <property name="fill">True</property>
+		    </packing>
+		  </child>
+		</widget>
+		<packing>
+		  <property name="padding">0</property>
+		  <property name="expand">True</property>
+		  <property name="fill">True</property>
+		</packing>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">True</property>
+	      <property name="fill">True</property>
+	    </packing>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+    </widget>
+  </child>
+</widget>
+
+</glade-interface>

Added: data/main.glade.bak
===================================================================
--- data/main.glade.bak	2005-09-29 16:57:08 UTC (rev 524)
+++ data/main.glade.bak	2005-10-01 14:25:13 UTC (rev 525)
@@ -0,0 +1,253 @@
+<?xml version="1.0" standalone="no"?> <!--*- mode: xml -*-->
+<!DOCTYPE glade-interface SYSTEM "http://glade.gnome.org/glade-2.0.dtd">
+
+<glade-interface>
+
+<widget class="GtkWindow" id="main">
+  <property name="visible">True</property>
+  <property name="title" translatable="yes">Monotest 1</property>
+  <property name="type">GTK_WINDOW_TOPLEVEL</property>
+  <property name="window_position">GTK_WIN_POS_NONE</property>
+  <property name="modal">False</property>
+  <property name="default_width">300</property>
+  <property name="default_height">200</property>
+  <property name="resizable">True</property>
+  <property name="destroy_with_parent">False</property>
+  <property name="decorated">True</property>
+  <property name="skip_taskbar_hint">False</property>
+  <property name="skip_pager_hint">False</property>
+  <property name="type_hint">GDK_WINDOW_TYPE_HINT_NORMAL</property>
+  <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
+  <property name="focus_on_map">True</property>
+
+  <child>
+    <widget class="GtkHBox" id="hbox1">
+      <property name="visible">True</property>
+      <property name="homogeneous">False</property>
+      <property name="spacing">0</property>
+
+      <child>
+	<widget class="GtkScrolledWindow" id="scrolledwindow1">
+	  <property name="visible">True</property>
+	  <property name="can_focus">True</property>
+	  <property name="hscrollbar_policy">GTK_POLICY_ALWAYS</property>
+	  <property name="vscrollbar_policy">GTK_POLICY_ALWAYS</property>
+	  <property name="shadow_type">GTK_SHADOW_IN</property>
+	  <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
+
+	  <child>
+	    <widget class="GtkTextView" id="lista_proy">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="overwrite">False</property>
+	      <property name="accepts_tab">True</property>
+	      <property name="justification">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap_mode">GTK_WRAP_NONE</property>
+	      <property name="cursor_visible">True</property>
+	      <property name="pixels_above_lines">0</property>
+	      <property name="pixels_below_lines">0</property>
+	      <property name="pixels_inside_wrap">0</property>
+	      <property name="left_margin">0</property>
+	      <property name="right_margin">0</property>
+	      <property name="indent">0</property>
+	      <property name="text" translatable="yes"></property>
+	    </widget>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkVBox" id="vbox1">
+	  <property name="visible">True</property>
+	  <property name="homogeneous">False</property>
+	  <property name="spacing">0</property>
+
+	  <child>
+	    <widget class="GtkLabel" id="label1">
+	      <property name="height_request">52</property>
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">label1</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">False</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0.5</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">False</property>
+	      <property name="fill">True</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkButton" id="btnOK">
+	      <property name="height_request">150</property>
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label" translatable="yes">Start/Pause</property>
+	      <property name="use_underline">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">False</property>
+	      <property name="fill">False</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkVBox" id="vbox2">
+	      <property name="visible">True</property>
+	      <property name="homogeneous">False</property>
+	      <property name="spacing">0</property>
+
+	      <child>
+		<widget class="GtkHBox" id="hbox2">
+		  <property name="border_width">5</property>
+		  <property name="visible">True</property>
+		  <property name="homogeneous">False</property>
+		  <property name="spacing">0</property>
+
+		  <child>
+		    <widget class="GtkLabel" id="id_proy_label">
+		      <property name="visible">True</property>
+		      <property name="label" translatable="yes">ID</property>
+		      <property name="use_underline">False</property>
+		      <property name="use_markup">False</property>
+		      <property name="justify">GTK_JUSTIFY_LEFT</property>
+		      <property name="wrap">False</property>
+		      <property name="selectable">False</property>
+		      <property name="xalign">0.5</property>
+		      <property name="yalign">0.5</property>
+		      <property name="xpad">0</property>
+		      <property name="ypad">0</property>
+		      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+		      <property name="width_chars">-1</property>
+		      <property name="single_line_mode">False</property>
+		      <property name="angle">0</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">False</property>
+		      <property name="fill">False</property>
+		    </packing>
+		  </child>
+
+		  <child>
+		    <widget class="GtkEntry" id="id_proy">
+		      <property name="visible">True</property>
+		      <property name="can_focus">True</property>
+		      <property name="editable">True</property>
+		      <property name="visibility">True</property>
+		      <property name="max_length">0</property>
+		      <property name="text" translatable="yes"></property>
+		      <property name="has_frame">True</property>
+		      <property name="invisible_char">*</property>
+		      <property name="activates_default">False</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">True</property>
+		      <property name="fill">True</property>
+		    </packing>
+		  </child>
+		</widget>
+		<packing>
+		  <property name="padding">0</property>
+		  <property name="expand">True</property>
+		  <property name="fill">True</property>
+		</packing>
+	      </child>
+
+	      <child>
+		<widget class="GtkHBox" id="hbox3">
+		  <property name="border_width">5</property>
+		  <property name="visible">True</property>
+		  <property name="homogeneous">False</property>
+		  <property name="spacing">0</property>
+
+		  <child>
+		    <widget class="GtkLabel" id="name_proy_label">
+		      <property name="visible">True</property>
+		      <property name="label" translatable="yes">Proyecto</property>
+		      <property name="use_underline">False</property>
+		      <property name="use_markup">False</property>
+		      <property name="justify">GTK_JUSTIFY_LEFT</property>
+		      <property name="wrap">False</property>
+		      <property name="selectable">False</property>
+		      <property name="xalign">0.5</property>
+		      <property name="yalign">0.5</property>
+		      <property name="xpad">0</property>
+		      <property name="ypad">0</property>
+		      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+		      <property name="width_chars">-1</property>
+		      <property name="single_line_mode">False</property>
+		      <property name="angle">0</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">False</property>
+		      <property name="fill">False</property>
+		    </packing>
+		  </child>
+
+		  <child>
+		    <widget class="GtkEntry" id="name_proy">
+		      <property name="visible">True</property>
+		      <property name="can_focus">True</property>
+		      <property name="editable">True</property>
+		      <property name="visibility">True</property>
+		      <property name="max_length">0</property>
+		      <property name="text" translatable="yes"></property>
+		      <property name="has_frame">True</property>
+		      <property name="invisible_char">*</property>
+		      <property name="activates_default">False</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">True</property>
+		      <property name="fill">True</property>
+		    </packing>
+		  </child>
+		</widget>
+		<packing>
+		  <property name="padding">0</property>
+		  <property name="expand">True</property>
+		  <property name="fill">True</property>
+		</packing>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">True</property>
+	      <property name="fill">True</property>
+	    </packing>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+    </widget>
+  </child>
+</widget>
+
+</glade-interface>

Added: data/main.gladep
===================================================================
--- data/main.gladep	2005-09-29 16:57:08 UTC (rev 524)
+++ data/main.gladep	2005-10-01 14:25:13 UTC (rev 525)
@@ -0,0 +1,8 @@
+<?xml version="1.0" standalone="no"?> <!--*- mode: xml -*-->
+<!DOCTYPE glade-project SYSTEM "http://glade.gnome.org/glade-project-2.0.dtd">
+
+<glade-project>
+  <name>Main</name>
+  <program_name>main</program_name>
+  <gnome_support>FALSE</gnome_support>
+</glade-project>

Added: data/main.gladep.bak
===================================================================
--- data/main.gladep.bak	2005-09-29 16:57:08 UTC (rev 524)
+++ data/main.gladep.bak	2005-10-01 14:25:13 UTC (rev 525)
@@ -0,0 +1,8 @@
+<?xml version="1.0" standalone="no"?> <!--*- mode: xml -*-->
+<!DOCTYPE glade-project SYSTEM "http://glade.gnome.org/glade-project-2.0.dtd">
+
+<glade-project>
+  <name>Main</name>
+  <program_name>main</program_name>
+  <gnome_support>FALSE</gnome_support>
+</glade-project>

Added: dll/CookComputing.XmlRpc.dll
===================================================================
(Binary files differ)


Property changes on: dll/CookComputing.XmlRpc.dll
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: libmonotimer/Communication.cs
===================================================================
--- libmonotimer/Communication.cs	2005-09-29 16:57:08 UTC (rev 524)
+++ libmonotimer/Communication.cs	2005-10-01 14:25:13 UTC (rev 525)
@@ -0,0 +1,47 @@
+using System;
+using CookComputing.XmlRpc;
+using System.Security.Cryptography;
+using System.Text;
+
+
+namespace libmonotimer {
+	
+
+[XmlRpcUrl("URL_del_server_xmlrpc")]
+interface IStateName
+{
+
+	[XmlRpcMethod("phpcollab.timeControl")]
+	CollabProject[] timeControl (string usuario, string pass); 
+}
+
+public class Communication {
+	
+
+	public static CollabProject[] login (string name, string password) {		
+		IStateName proxy = (IStateName)XmlRpcProxyGen.Create(typeof(IStateName));	
+		CollabProject[] valor = proxy.timeControl ("", "");
+		foreach ( CollabProject i in valor ) {
+			Console.WriteLine (i.id);
+			Console.WriteLine (i.nombre);
+		}
+		return valor;
+	}
+	
+
+}
+		
+}
+
+/*
+		string textToHash = "";
+		byte[] byteRepresentation = UnicodeEncoding.UTF8.GetBytes (textToHash);
+		byte[] hashedTextInBytes = null;
+		MD5CryptoServiceProvider myMD5 = new MD5CryptoServiceProvider();
+		hashedTextInBytes = myMD5.ComputeHash (byteRepresentation);
+		foreach ( byte i in hashedTextInBytes ) {
+			Console.WriteLine (i);
+		}
+		string hashedText = Convert.ToBase64String (hashedTextInBytes);
+		*/
+

Added: libmonotimer/Project.cs
===================================================================
--- libmonotimer/Project.cs	2005-09-29 16:57:08 UTC (rev 524)
+++ libmonotimer/Project.cs	2005-10-01 14:25:13 UTC (rev 525)
@@ -0,0 +1,67 @@
+/* Monotimer
+ * Copyright (C) 2003 GNOME Foundation
+ *
+ * AUTHORS:
+ *      Luis Bosque <luis.bosque at hispalinux.es>
+ *
+ * This Library is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Library General Public License as
+ * published by the Free Software Foundation; either version 2 of the
+ * License, or (at your option) any later version.
+ *
+ * This Library is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Library General Public License for more details.
+ *
+ * You should have received a copy of the GNU Library General Public
+ * License along with this Library; see the file COPYING.LIB.  If not,
+ * write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330,
+ * Boston, MA 02111-1307, USA.
+ */
+
+using System.Threading;
+
+namespace libmonotimer{
+
+	public class Crono {
+		public int counter = 0;
+		public Timer timer;
+	}
+	
+	public sealed class Project{
+	
+		private static Project instance;
+		private string name;
+		private int id;
+		private Timer timer;
+		private counter;
+		
+		public static Project Instance {
+			get {
+				if ( instance == null ) {
+					instance = new Project ();
+				}
+				return instance;
+			}
+		}
+		
+		private Project(){
+			Crono crono = new Crono ();
+			TimerCallback timerDelegate = new TimerCallback (Tick);
+			timer = new Timer (timerDelegate, crono, 0, 1000);
+   
+			crono.timer = timer;
+
+			while (crono.timer != null)
+				Thread.Sleep(0);
+			Console.WriteLine("Final del contador");
+		}
+		
+		private static void Tick (Object state) {
+			Crono crono = (Crono) state;
+			crono.counter++;
+			Console.WriteLine(crono.counter);
+		}
+
+}

Added: monotimer.exe
===================================================================
(Binary files differ)


Property changes on: monotimer.exe
___________________________________________________________________
Name: svn:executable
   + 
Name: svn:mime-type
   + application/octet-stream

Added: pruebas/Principal.cs
===================================================================
--- pruebas/Principal.cs	2005-09-29 16:57:08 UTC (rev 524)
+++ pruebas/Principal.cs	2005-10-01 14:25:13 UTC (rev 525)
@@ -0,0 +1,51 @@
+using System;
+using CookComputing.XmlRpc;
+using System.Security.Cryptography;
+using System.Text;
+
+public struct proyecto {
+	public int id;
+	public string nombre;
+}
+
+[XmlRpcUrl("URL_del_servidor_xmlrpc")]
+interface IStateName
+{
+
+	[XmlRpcMethod("phpcollab.timeControl")]
+	proyecto[] timeControl (string usuario, string pass); 
+}
+
+public class Launcher {
+	
+	public static void Main () {
+
+		
+		IStateName proxy = (IStateName)XmlRpcProxyGen.Create(typeof(IStateName));	
+		proyecto[] valor = proxy.timeControl ("", "");
+		if (valor.Length == 0) {
+			Console.WriteLine ("Respuesta vacia");
+		}
+		else {
+			foreach ( proyecto i in valor ) {
+				Console.WriteLine (i.id);
+				Console.WriteLine (i.nombre);
+			}
+		}
+	}
+
+}
+		
+
+
+/*
+		string textToHash = "";
+		byte[] byteRepresentation = UnicodeEncoding.UTF8.GetBytes (textToHash);
+		byte[] hashedTextInBytes = null;
+		MD5CryptoServiceProvider myMD5 = new MD5CryptoServiceProvider();
+		hashedTextInBytes = myMD5.ComputeHash (byteRepresentation);
+		foreach ( byte i in hashedTextInBytes ) {
+			Console.WriteLine (i);
+		}
+		string hashedText = Convert.ToBase64String (hashedTextInBytes);
+		*/



From luis at berlios.de  Sat Oct  1 16:32:04 2005
From: luis at berlios.de (Luis Bosque at BerliOS)
Date: Sat, 1 Oct 2005 16:32:04 +0200
Subject: [Mspace-checkins] r526 - /
Message-ID: <200510011432.j91EW43n008155@sheep.berlios.de>

Author: luis
Date: 2005-10-01 16:32:03 +0200 (Sat, 01 Oct 2005)
New Revision: 526

Removed:
   Control/
   Views/
   data/
   dll/
   libmonotimer/
   pruebas/
Log:
Eliminadas carpetas que hab?\195?\173a subido de manera incorrecta




From luis at berlios.de  Sat Oct  1 16:33:41 2005
From: luis at berlios.de (Luis Bosque at BerliOS)
Date: Sat, 1 Oct 2005 16:33:41 +0200
Subject: [Mspace-checkins] r527 - /
Message-ID: <200510011433.j91EXfBS008282@sheep.berlios.de>

Author: luis
Date: 2005-10-01 16:33:41 +0200 (Sat, 01 Oct 2005)
New Revision: 527

Removed:
   AUTHORS
   COPYING
   Main.cs
   Makefile
   monotimer.exe
Log:
Eliminados mas elementos subidos de forma incorrecta


Deleted: AUTHORS
===================================================================
--- AUTHORS	2005-10-01 14:32:03 UTC (rev 526)
+++ AUTHORS	2005-10-01 14:33:41 UTC (rev 527)
@@ -1 +0,0 @@
-Luis Bosque <luis.bosque at hispalinux.es>

Deleted: COPYING
===================================================================
--- COPYING	2005-10-01 14:32:03 UTC (rev 526)
+++ COPYING	2005-10-01 14:33:41 UTC (rev 527)
@@ -1,340 +0,0 @@
-		    GNU GENERAL PUBLIC LICENSE
-		       Version 2, June 1991
-
- Copyright (C) 1989, 1991 Free Software Foundation, Inc.
-     59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
- Everyone is permitted to copy and distribute verbatim copies
- of this license document, but changing it is not allowed.
-
-			    Preamble
-
-  The licenses for most software are designed to take away your
-freedom to share and change it.  By contrast, the GNU General Public
-License is intended to guarantee your freedom to share and change free
-software--to make sure the software is free for all its users.  This
-General Public License applies to most of the Free Software
-Foundation's software and to any other program whose authors commit to
-using it.  (Some other Free Software Foundation software is covered by
-the GNU Library General Public License instead.)  You can apply it to
-your programs, too.
-
-  When we speak of free software, we are referring to freedom, not
-price.  Our General Public Licenses are designed to make sure that you
-have the freedom to distribute copies of free software (and charge for
-this service if you wish), that you receive source code or can get it
-if you want it, that you can change the software or use pieces of it
-in new free programs; and that you know you can do these things.
-
-  To protect your rights, we need to make restrictions that forbid
-anyone to deny you these rights or to ask you to surrender the rights.
-These restrictions translate to certain responsibilities for you if you
-distribute copies of the software, or if you modify it.
-
-  For example, if you distribute copies of such a program, whether
-gratis or for a fee, you must give the recipients all the rights that
-you have.  You must make sure that they, too, receive or can get the
-source code.  And you must show them these terms so they know their
-rights.
-
-  We protect your rights with two steps: (1) copyright the software, and
-(2) offer you this license which gives you legal permission to copy,
-distribute and/or modify the software.
-
-  Also, for each author's protection and ours, we want to make certain
-that everyone understands that there is no warranty for this free
-software.  If the software is modified by someone else and passed on, we
-want its recipients to know that what they have is not the original, so
-that any problems introduced by others will not reflect on the original
-authors' reputations.
-
-  Finally, any free program is threatened constantly by software
-patents.  We wish to avoid the danger that redistributors of a free
-program will individually obtain patent licenses, in effect making the
-program proprietary.  To prevent this, we have made it clear that any
-patent must be licensed for everyone's free use or not licensed at all.
-
-  The precise terms and conditions for copying, distribution and
-modification follow.
-
-		    GNU GENERAL PUBLIC LICENSE
-   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
-
-  0. This License applies to any program or other work which contains
-a notice placed by the copyright holder saying it may be distributed
-under the terms of this General Public License.  The "Program", below,
-refers to any such program or work, and a "work based on the Program"
-means either the Program or any derivative work under copyright law:
-that is to say, a work containing the Program or a portion of it,
-either verbatim or with modifications and/or translated into another
-language.  (Hereinafter, translation is included without limitation in
-the term "modification".)  Each licensee is addressed as "you".
-
-Activities other than copying, distribution and modification are not
-covered by this License; they are outside its scope.  The act of
-running the Program is not restricted, and the output from the Program
-is covered only if its contents constitute a work based on the
-Program (independent of having been made by running the Program).
-Whether that is true depends on what the Program does.
-
-  1. You may copy and distribute verbatim copies of the Program's
-source code as you receive it, in any medium, provided that you
-conspicuously and appropriately publish on each copy an appropriate
-copyright notice and disclaimer of warranty; keep intact all the
-notices that refer to this License and to the absence of any warranty;
-and give any other recipients of the Program a copy of this License
-along with the Program.
-
-You may charge a fee for the physical act of transferring a copy, and
-you may at your option offer warranty protection in exchange for a fee.
-
-  2. You may modify your copy or copies of the Program or any portion
-of it, thus forming a work based on the Program, and copy and
-distribute such modifications or work under the terms of Section 1
-above, provided that you also meet all of these conditions:
-
-    a) You must cause the modified files to carry prominent notices
-    stating that you changed the files and the date of any change.
-
-    b) You must cause any work that you distribute or publish, that in
-    whole or in part contains or is derived from the Program or any
-    part thereof, to be licensed as a whole at no charge to all third
-    parties under the terms of this License.
-
-    c) If the modified program normally reads commands interactively
-    when run, you must cause it, when started running for such
-    interactive use in the most ordinary way, to print or display an
-    announcement including an appropriate copyright notice and a
-    notice that there is no warranty (or else, saying that you provide
-    a warranty) and that users may redistribute the program under
-    these conditions, and telling the user how to view a copy of this
-    License.  (Exception: if the Program itself is interactive but
-    does not normally print such an announcement, your work based on
-    the Program is not required to print an announcement.)
-
-These requirements apply to the modified work as a whole.  If
-identifiable sections of that work are not derived from the Program,
-and can be reasonably considered independent and separate works in
-themselves, then this License, and its terms, do not apply to those
-sections when you distribute them as separate works.  But when you
-distribute the same sections as part of a whole which is a work based
-on the Program, the distribution of the whole must be on the terms of
-this License, whose permissions for other licensees extend to the
-entire whole, and thus to each and every part regardless of who wrote it.
-
-Thus, it is not the intent of this section to claim rights or contest
-your rights to work written entirely by you; rather, the intent is to
-exercise the right to control the distribution of derivative or
-collective works based on the Program.
-
-In addition, mere aggregation of another work not based on the Program
-with the Program (or with a work based on the Program) on a volume of
-a storage or distribution medium does not bring the other work under
-the scope of this License.
-
-  3. You may copy and distribute the Program (or a work based on it,
-under Section 2) in object code or executable form under the terms of
-Sections 1 and 2 above provided that you also do one of the following:
-
-    a) Accompany it with the complete corresponding machine-readable
-    source code, which must be distributed under the terms of Sections
-    1 and 2 above on a medium customarily used for software interchange; or,
-
-    b) Accompany it with a written offer, valid for at least three
-    years, to give any third party, for a charge no more than your
-    cost of physically performing source distribution, a complete
-    machine-readable copy of the corresponding source code, to be
-    distributed under the terms of Sections 1 and 2 above on a medium
-    customarily used for software interchange; or,
-
-    c) Accompany it with the information you received as to the offer
-    to distribute corresponding source code.  (This alternative is
-    allowed only for noncommercial distribution and only if you
-    received the program in object code or executable form with such
-    an offer, in accord with Subsection b above.)
-
-The source code for a work means the preferred form of the work for
-making modifications to it.  For an executable work, complete source
-code means all the source code for all modules it contains, plus any
-associated interface definition files, plus the scripts used to
-control compilation and installation of the executable.  However, as a
-special exception, the source code distributed need not include
-anything that is normally distributed (in either source or binary
-form) with the major components (compiler, kernel, and so on) of the
-operating system on which the executable runs, unless that component
-itself accompanies the executable.
-
-If distribution of executable or object code is made by offering
-access to copy from a designated place, then offering equivalent
-access to copy the source code from the same place counts as
-distribution of the source code, even though third parties are not
-compelled to copy the source along with the object code.
-
-  4. You may not copy, modify, sublicense, or distribute the Program
-except as expressly provided under this License.  Any attempt
-otherwise to copy, modify, sublicense or distribute the Program is
-void, and will automatically terminate your rights under this License.
-However, parties who have received copies, or rights, from you under
-this License will not have their licenses terminated so long as such
-parties remain in full compliance.
-
-  5. You are not required to accept this License, since you have not
-signed it.  However, nothing else grants you permission to modify or
-distribute the Program or its derivative works.  These actions are
-prohibited by law if you do not accept this License.  Therefore, by
-modifying or distributing the Program (or any work based on the
-Program), you indicate your acceptance of this License to do so, and
-all its terms and conditions for copying, distributing or modifying
-the Program or works based on it.
-
-  6. Each time you redistribute the Program (or any work based on the
-Program), the recipient automatically receives a license from the
-original licensor to copy, distribute or modify the Program subject to
-these terms and conditions.  You may not impose any further
-restrictions on the recipients' exercise of the rights granted herein.
-You are not responsible for enforcing compliance by third parties to
-this License.
-
-  7. If, as a consequence of a court judgment or allegation of patent
-infringement or for any other reason (not limited to patent issues),
-conditions are imposed on you (whether by court order, agreement or
-otherwise) that contradict the conditions of this License, they do not
-excuse you from the conditions of this License.  If you cannot
-distribute so as to satisfy simultaneously your obligations under this
-License and any other pertinent obligations, then as a consequence you
-may not distribute the Program at all.  For example, if a patent
-license would not permit royalty-free redistribution of the Program by
-all those who receive copies directly or indirectly through you, then
-the only way you could satisfy both it and this License would be to
-refrain entirely from distribution of the Program.
-
-If any portion of this section is held invalid or unenforceable under
-any particular circumstance, the balance of the section is intended to
-apply and the section as a whole is intended to apply in other
-circumstances.
-
-It is not the purpose of this section to induce you to infringe any
-patents or other property right claims or to contest validity of any
-such claims; this section has the sole purpose of protecting the
-integrity of the free software distribution system, which is
-implemented by public license practices.  Many people have made
-generous contributions to the wide range of software distributed
-through that system in reliance on consistent application of that
-system; it is up to the author/donor to decide if he or she is willing
-to distribute software through any other system and a licensee cannot
-impose that choice.
-
-This section is intended to make thoroughly clear what is believed to
-be a consequence of the rest of this License.
-
-  8. If the distribution and/or use of the Program is restricted in
-certain countries either by patents or by copyrighted interfaces, the
-original copyright holder who places the Program under this License
-may add an explicit geographical distribution limitation excluding
-those countries, so that distribution is permitted only in or among
-countries not thus excluded.  In such case, this License incorporates
-the limitation as if written in the body of this License.
-
-  9. The Free Software Foundation may publish revised and/or new versions
-of the General Public License from time to time.  Such new versions will
-be similar in spirit to the present version, but may differ in detail to
-address new problems or concerns.
-
-Each version is given a distinguishing version number.  If the Program
-specifies a version number of this License which applies to it and "any
-later version", you have the option of following the terms and conditions
-either of that version or of any later version published by the Free
-Software Foundation.  If the Program does not specify a version number of
-this License, you may choose any version ever published by the Free Software
-Foundation.
-
-  10. If you wish to incorporate parts of the Program into other free
-programs whose distribution conditions are different, write to the author
-to ask for permission.  For software which is copyrighted by the Free
-Software Foundation, write to the Free Software Foundation; we sometimes
-make exceptions for this.  Our decision will be guided by the two goals
-of preserving the free status of all derivatives of our free software and
-of promoting the sharing and reuse of software generally.
-
-			    NO WARRANTY
-
-  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
-FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
-OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
-PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
-OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
-MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS
-TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE
-PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
-REPAIR OR CORRECTION.
-
-  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
-WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
-REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
-INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
-OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
-TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
-YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
-PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
-POSSIBILITY OF SUCH DAMAGES.
-
-		     END OF TERMS AND CONDITIONS
-
-	    How to Apply These Terms to Your New Programs
-
-  If you develop a new program, and you want it to be of the greatest
-possible use to the public, the best way to achieve this is to make it
-free software which everyone can redistribute and change under these terms.
-
-  To do so, attach the following notices to the program.  It is safest
-to attach them to the start of each source file to most effectively
-convey the exclusion of warranty; and each file should have at least
-the "copyright" line and a pointer to where the full notice is found.
-
-    <one line to give the program's name and a brief idea of what it does.>
-    Copyright (C) <year>  <name of author>
-
-    This program is free software; you can redistribute it and/or modify
-    it under the terms of the GNU General Public License as published by
-    the Free Software Foundation; either version 2 of the License, or
-    (at your option) any later version.
-
-    This program is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU General Public License for more details.
-
-    You should have received a copy of the GNU General Public License
-    along with this program; if not, write to the Free Software
-    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
-
-
-Also add information on how to contact you by electronic and paper mail.
-
-If the program is interactive, make it output a short notice like this
-when it starts in an interactive mode:
-
-    Gnomovision version 69, Copyright (C) year  name of author
-    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.
-    This is free software, and you are welcome to redistribute it
-    under certain conditions; type `show c' for details.
-
-The hypothetical commands `show w' and `show c' should show the appropriate
-parts of the General Public License.  Of course, the commands you use may
-be called something other than `show w' and `show c'; they could even be
-mouse-clicks or menu items--whatever suits your program.
-
-You should also get your employer (if you work as a programmer) or your
-school, if any, to sign a "copyright disclaimer" for the program, if
-necessary.  Here is a sample; alter the names:
-
-  Yoyodyne, Inc., hereby disclaims all copyright interest in the program
-  `Gnomovision' (which makes passes at compilers) written by James Hacker.
-
-  <signature of Ty Coon>, 1 April 1989
-  Ty Coon, President of Vice
-
-This General Public License does not permit incorporating your program into
-proprietary programs.  If your program is a subroutine library, you may
-consider it more useful to permit linking proprietary applications with the
-library.  If this is what you want to do, use the GNU Library General
-Public License instead of this License.

Deleted: Main.cs
===================================================================
--- Main.cs	2005-10-01 14:32:03 UTC (rev 526)
+++ Main.cs	2005-10-01 14:33:41 UTC (rev 527)
@@ -1,48 +0,0 @@
-/* Monotimer
- * Copyright (C) 2003 GNOME Foundation
- *
- * AUTHORS:
- *      Luis Bosque <luis.bosque at hispalinux.es>
- *
- * This Library is free software; you can redistribute it and/or
- * modify it under the terms of the GNU Library General Public License as
- * published by the Free Software Foundation; either version 2 of the
- * License, or (at your option) any later version.
- *
- * This Library is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * Library General Public License for more details.
- *
- * You should have received a copy of the GNU Library General Public
- * License along with this Library; see the file COPYING.LIB.  If not,
- * write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330,
- * Boston, MA 02111-1307, USA.
- */
-
-using System;
-using Views;
-using Gtk;
-using libmonotimer;
-using Control;
-
-public class Mainclass{
-	
-	Views.MainView view;
-
-	
-	public Mainclass(){
-
-		Controller app = new Controller();
-		
-		Application.Init();
-		this.view = new MainView(app);
-		Application.Run();
-	}
-
-
-	public static void Main(){
-		new Mainclass();
-	}
-
-}

Deleted: Makefile
===================================================================
--- Makefile	2005-10-01 14:32:03 UTC (rev 526)
+++ Makefile	2005-10-01 14:33:41 UTC (rev 527)
@@ -1,47 +0,0 @@
-# This makefile is autogenerated by MonoDevelop
-# Do not modify this file
-
-SOURCES = \
-./Main.cs \
-./libmonotimer/Project.cs \
-./libmonotimer/hilo.cs \
-./libmonotimer/ProjectFactory.cs \
-./libmonotimer/Communication.cs \
-./Control/Controller.cs \
-./Views/MainView.cs \
-
-PKG_REFERENCES = \
-gnome-sharp \
-gtk-sharp \
-glade-sharp \
-gnome-vfs-sharp-2.0 \
-gda-sharp-2.0
-
-
-PKG_REFERENCES_BUILD = $(addprefix -pkg:, $(PKG_REFERENCES))
-
-PKG_REFERENCES_CHECK = $(addsuffix .pkgcheck, $(PKG_REFERENCES))
-
-MCS_OPTIONS = 
-
-all: monotimer.exe
-
-monotimer.exe: $(SOURCES)
-	mcs $(MCS_OPTIONS) -r:Mono.Posix -r:CookComputing.XmlRpc.dll -target:exe -out:"monotimer.exe" $(PKG_REFERENCES_BUILD) $(SOURCES)
-
-clean:
-	rm -f monotimer.exe
-
-depcheck: PKG_depcheck 
-
-PKG_depcheck: $(PKG_REFERENCES_CHECK)
-
-%.pkgcheck:
-	@echo -n Checking for package $(subst .pkgcheck,,$@)...
-	@if pkg-config --libs $(subst .pkgcheck,,$@) &> /dev/null; then \
-		echo yes; \
-	else \
-		echo no; \
-		exit 1; \
-	fi
-

Deleted: monotimer.exe
===================================================================
(Binary files differ)



From luis at berlios.de  Sat Oct  1 16:40:27 2005
From: luis at berlios.de (Luis Bosque at BerliOS)
Date: Sat, 1 Oct 2005 16:40:27 +0200
Subject: [Mspace-checkins] r528 - / Cronus Cronus/Control Cronus/Views Cronus/data Cronus/dll Cronus/libmonotimer Cronus/pruebas
Message-ID: <200510011440.j91EeRv0009165@sheep.berlios.de>

Author: luis
Date: 2005-10-01 16:40:23 +0200 (Sat, 01 Oct 2005)
New Revision: 528

Added:
   Cronus/
   Cronus/AUTHORS
   Cronus/COPYING
   Cronus/Control/
   Cronus/Control/Controller.cs
   Cronus/Main.cs
   Cronus/Makefile
   Cronus/Views/
   Cronus/Views/MainView.cs
   Cronus/data/
   Cronus/data/main.glade
   Cronus/data/main.glade.bak
   Cronus/data/main.gladep
   Cronus/data/main.gladep.bak
   Cronus/dll/
   Cronus/dll/CookComputing.XmlRpc.dll
   Cronus/libmonotimer/
   Cronus/libmonotimer/Communication.cs
   Cronus/libmonotimer/Project.cs
   Cronus/pruebas/
   Cronus/pruebas/Principal.cs
Log:
Cronus project added to mspace repository.


Added: Cronus/AUTHORS
===================================================================
--- Cronus/AUTHORS	2005-10-01 14:33:41 UTC (rev 527)
+++ Cronus/AUTHORS	2005-10-01 14:40:23 UTC (rev 528)
@@ -0,0 +1 @@
+Luis Bosque <luis.bosque at hispalinux.es>


Property changes on: Cronus/AUTHORS
___________________________________________________________________
Name: svn:executable
   + *

Added: Cronus/COPYING
===================================================================
--- Cronus/COPYING	2005-10-01 14:33:41 UTC (rev 527)
+++ Cronus/COPYING	2005-10-01 14:40:23 UTC (rev 528)
@@ -0,0 +1,340 @@
+		    GNU GENERAL PUBLIC LICENSE
+		       Version 2, June 1991
+
+ Copyright (C) 1989, 1991 Free Software Foundation, Inc.
+     59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ Everyone is permitted to copy and distribute verbatim copies
+ of this license document, but changing it is not allowed.
+
+			    Preamble
+
+  The licenses for most software are designed to take away your
+freedom to share and change it.  By contrast, the GNU General Public
+License is intended to guarantee your freedom to share and change free
+software--to make sure the software is free for all its users.  This
+General Public License applies to most of the Free Software
+Foundation's software and to any other program whose authors commit to
+using it.  (Some other Free Software Foundation software is covered by
+the GNU Library General Public License instead.)  You can apply it to
+your programs, too.
+
+  When we speak of free software, we are referring to freedom, not
+price.  Our General Public Licenses are designed to make sure that you
+have the freedom to distribute copies of free software (and charge for
+this service if you wish), that you receive source code or can get it
+if you want it, that you can change the software or use pieces of it
+in new free programs; and that you know you can do these things.
+
+  To protect your rights, we need to make restrictions that forbid
+anyone to deny you these rights or to ask you to surrender the rights.
+These restrictions translate to certain responsibilities for you if you
+distribute copies of the software, or if you modify it.
+
+  For example, if you distribute copies of such a program, whether
+gratis or for a fee, you must give the recipients all the rights that
+you have.  You must make sure that they, too, receive or can get the
+source code.  And you must show them these terms so they know their
+rights.
+
+  We protect your rights with two steps: (1) copyright the software, and
+(2) offer you this license which gives you legal permission to copy,
+distribute and/or modify the software.
+
+  Also, for each author's protection and ours, we want to make certain
+that everyone understands that there is no warranty for this free
+software.  If the software is modified by someone else and passed on, we
+want its recipients to know that what they have is not the original, so
+that any problems introduced by others will not reflect on the original
+authors' reputations.
+
+  Finally, any free program is threatened constantly by software
+patents.  We wish to avoid the danger that redistributors of a free
+program will individually obtain patent licenses, in effect making the
+program proprietary.  To prevent this, we have made it clear that any
+patent must be licensed for everyone's free use or not licensed at all.
+
+  The precise terms and conditions for copying, distribution and
+modification follow.
+
+		    GNU GENERAL PUBLIC LICENSE
+   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
+
+  0. This License applies to any program or other work which contains
+a notice placed by the copyright holder saying it may be distributed
+under the terms of this General Public License.  The "Program", below,
+refers to any such program or work, and a "work based on the Program"
+means either the Program or any derivative work under copyright law:
+that is to say, a work containing the Program or a portion of it,
+either verbatim or with modifications and/or translated into another
+language.  (Hereinafter, translation is included without limitation in
+the term "modification".)  Each licensee is addressed as "you".
+
+Activities other than copying, distribution and modification are not
+covered by this License; they are outside its scope.  The act of
+running the Program is not restricted, and the output from the Program
+is covered only if its contents constitute a work based on the
+Program (independent of having been made by running the Program).
+Whether that is true depends on what the Program does.
+
+  1. You may copy and distribute verbatim copies of the Program's
+source code as you receive it, in any medium, provided that you
+conspicuously and appropriately publish on each copy an appropriate
+copyright notice and disclaimer of warranty; keep intact all the
+notices that refer to this License and to the absence of any warranty;
+and give any other recipients of the Program a copy of this License
+along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and
+you may at your option offer warranty protection in exchange for a fee.
+
+  2. You may modify your copy or copies of the Program or any portion
+of it, thus forming a work based on the Program, and copy and
+distribute such modifications or work under the terms of Section 1
+above, provided that you also meet all of these conditions:
+
+    a) You must cause the modified files to carry prominent notices
+    stating that you changed the files and the date of any change.
+
+    b) You must cause any work that you distribute or publish, that in
+    whole or in part contains or is derived from the Program or any
+    part thereof, to be licensed as a whole at no charge to all third
+    parties under the terms of this License.
+
+    c) If the modified program normally reads commands interactively
+    when run, you must cause it, when started running for such
+    interactive use in the most ordinary way, to print or display an
+    announcement including an appropriate copyright notice and a
+    notice that there is no warranty (or else, saying that you provide
+    a warranty) and that users may redistribute the program under
+    these conditions, and telling the user how to view a copy of this
+    License.  (Exception: if the Program itself is interactive but
+    does not normally print such an announcement, your work based on
+    the Program is not required to print an announcement.)
+
+These requirements apply to the modified work as a whole.  If
+identifiable sections of that work are not derived from the Program,
+and can be reasonably considered independent and separate works in
+themselves, then this License, and its terms, do not apply to those
+sections when you distribute them as separate works.  But when you
+distribute the same sections as part of a whole which is a work based
+on the Program, the distribution of the whole must be on the terms of
+this License, whose permissions for other licensees extend to the
+entire whole, and thus to each and every part regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest
+your rights to work written entirely by you; rather, the intent is to
+exercise the right to control the distribution of derivative or
+collective works based on the Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of
+a storage or distribution medium does not bring the other work under
+the scope of this License.
+
+  3. You may copy and distribute the Program (or a work based on it,
+under Section 2) in object code or executable form under the terms of
+Sections 1 and 2 above provided that you also do one of the following:
+
+    a) Accompany it with the complete corresponding machine-readable
+    source code, which must be distributed under the terms of Sections
+    1 and 2 above on a medium customarily used for software interchange; or,
+
+    b) Accompany it with a written offer, valid for at least three
+    years, to give any third party, for a charge no more than your
+    cost of physically performing source distribution, a complete
+    machine-readable copy of the corresponding source code, to be
+    distributed under the terms of Sections 1 and 2 above on a medium
+    customarily used for software interchange; or,
+
+    c) Accompany it with the information you received as to the offer
+    to distribute corresponding source code.  (This alternative is
+    allowed only for noncommercial distribution and only if you
+    received the program in object code or executable form with such
+    an offer, in accord with Subsection b above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it.  For an executable work, complete source
+code means all the source code for all modules it contains, plus any
+associated interface definition files, plus the scripts used to
+control compilation and installation of the executable.  However, as a
+special exception, the source code distributed need not include
+anything that is normally distributed (in either source or binary
+form) with the major components (compiler, kernel, and so on) of the
+operating system on which the executable runs, unless that component
+itself accompanies the executable.
+
+If distribution of executable or object code is made by offering
+access to copy from a designated place, then offering equivalent
+access to copy the source code from the same place counts as
+distribution of the source code, even though third parties are not
+compelled to copy the source along with the object code.
+
+  4. You may not copy, modify, sublicense, or distribute the Program
+except as expressly provided under this License.  Any attempt
+otherwise to copy, modify, sublicense or distribute the Program is
+void, and will automatically terminate your rights under this License.
+However, parties who have received copies, or rights, from you under
+this License will not have their licenses terminated so long as such
+parties remain in full compliance.
+
+  5. You are not required to accept this License, since you have not
+signed it.  However, nothing else grants you permission to modify or
+distribute the Program or its derivative works.  These actions are
+prohibited by law if you do not accept this License.  Therefore, by
+modifying or distributing the Program (or any work based on the
+Program), you indicate your acceptance of this License to do so, and
+all its terms and conditions for copying, distributing or modifying
+the Program or works based on it.
+
+  6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the
+original licensor to copy, distribute or modify the Program subject to
+these terms and conditions.  You may not impose any further
+restrictions on the recipients' exercise of the rights granted herein.
+You are not responsible for enforcing compliance by third parties to
+this License.
+
+  7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues),
+conditions are imposed on you (whether by court order, agreement or
+otherwise) that contradict the conditions of this License, they do not
+excuse you from the conditions of this License.  If you cannot
+distribute so as to satisfy simultaneously your obligations under this
+License and any other pertinent obligations, then as a consequence you
+may not distribute the Program at all.  For example, if a patent
+license would not permit royalty-free redistribution of the Program by
+all those who receive copies directly or indirectly through you, then
+the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under
+any particular circumstance, the balance of the section is intended to
+apply and the section as a whole is intended to apply in other
+circumstances.
+
+It is not the purpose of this section to induce you to infringe any
+patents or other property right claims or to contest validity of any
+such claims; this section has the sole purpose of protecting the
+integrity of the free software distribution system, which is
+implemented by public license practices.  Many people have made
+generous contributions to the wide range of software distributed
+through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing
+to distribute software through any other system and a licensee cannot
+impose that choice.
+
+This section is intended to make thoroughly clear what is believed to
+be a consequence of the rest of this License.
+
+  8. If the distribution and/or use of the Program is restricted in
+certain countries either by patents or by copyrighted interfaces, the
+original copyright holder who places the Program under this License
+may add an explicit geographical distribution limitation excluding
+those countries, so that distribution is permitted only in or among
+countries not thus excluded.  In such case, this License incorporates
+the limitation as if written in the body of this License.
+
+  9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time.  Such new versions will
+be similar in spirit to the present version, but may differ in detail to
+address new problems or concerns.
+
+Each version is given a distinguishing version number.  If the Program
+specifies a version number of this License which applies to it and "any
+later version", you have the option of following the terms and conditions
+either of that version or of any later version published by the Free
+Software Foundation.  If the Program does not specify a version number of
+this License, you may choose any version ever published by the Free Software
+Foundation.
+
+  10. If you wish to incorporate parts of the Program into other free
+programs whose distribution conditions are different, write to the author
+to ask for permission.  For software which is copyrighted by the Free
+Software Foundation, write to the Free Software Foundation; we sometimes
+make exceptions for this.  Our decision will be guided by the two goals
+of preserving the free status of all derivatives of our free software and
+of promoting the sharing and reuse of software generally.
+
+			    NO WARRANTY
+
+  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
+FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
+OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
+PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
+OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
+MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS
+TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
+REPAIR OR CORRECTION.
+
+  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
+WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
+INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
+OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
+TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
+YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
+PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
+POSSIBILITY OF SUCH DAMAGES.
+
+		     END OF TERMS AND CONDITIONS
+
+	    How to Apply These Terms to Your New Programs
+
+  If you develop a new program, and you want it to be of the greatest
+possible use to the public, the best way to achieve this is to make it
+free software which everyone can redistribute and change under these terms.
+
+  To do so, attach the following notices to the program.  It is safest
+to attach them to the start of each source file to most effectively
+convey the exclusion of warranty; and each file should have at least
+the "copyright" line and a pointer to where the full notice is found.
+
+    <one line to give the program's name and a brief idea of what it does.>
+    Copyright (C) <year>  <name of author>
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; either version 2 of the License, or
+    (at your option) any later version.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+
+
+Also add information on how to contact you by electronic and paper mail.
+
+If the program is interactive, make it output a short notice like this
+when it starts in an interactive mode:
+
+    Gnomovision version 69, Copyright (C) year  name of author
+    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.
+    This is free software, and you are welcome to redistribute it
+    under certain conditions; type `show c' for details.
+
+The hypothetical commands `show w' and `show c' should show the appropriate
+parts of the General Public License.  Of course, the commands you use may
+be called something other than `show w' and `show c'; they could even be
+mouse-clicks or menu items--whatever suits your program.
+
+You should also get your employer (if you work as a programmer) or your
+school, if any, to sign a "copyright disclaimer" for the program, if
+necessary.  Here is a sample; alter the names:
+
+  Yoyodyne, Inc., hereby disclaims all copyright interest in the program
+  `Gnomovision' (which makes passes at compilers) written by James Hacker.
+
+  <signature of Ty Coon>, 1 April 1989
+  Ty Coon, President of Vice
+
+This General Public License does not permit incorporating your program into
+proprietary programs.  If your program is a subroutine library, you may
+consider it more useful to permit linking proprietary applications with the
+library.  If this is what you want to do, use the GNU Library General
+Public License instead of this License.


Property changes on: Cronus/COPYING
___________________________________________________________________
Name: svn:executable
   + *

Added: Cronus/Control/Controller.cs
===================================================================
--- Cronus/Control/Controller.cs	2005-10-01 14:33:41 UTC (rev 527)
+++ Cronus/Control/Controller.cs	2005-10-01 14:40:23 UTC (rev 528)
@@ -0,0 +1,126 @@
+/* Monotimer
+ * Copyright (C) 2003 GNOME Foundation
+ *
+ * AUTHORS:
+ *      Luis Bosque <luis.bosque at hispalinux.es>
+ *
+ * This Library is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Library General Public License as
+ * published by the Free Software Foundation; either version 2 of the
+ * License, or (at your option) any later version.
+ *
+ * This Library is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Library General Public License for more details.
+ *
+ * You should have received a copy of the GNU Library General Public
+ * License along with this Library; see the file COPYING.LIB.  If not,
+ * write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330,
+ * Boston, MA 02111-1307, USA.
+ */
+
+using System;
+using libmonotimer;
+using System.Threading;
+using Mono.Unix;
+
+namespace Control{
+
+	
+//class TimerExampleState {
+//	int counter = 0;
+//	public Timer tmr;
+//}
+public struct CollabProject {
+	public int id;
+	public string nombre;
+}
+
+public class Controller{
+	
+	string login = "";
+	string password = "";
+	
+	proyecto[] Array_Projects;
+	Project[] lista_proyectos;
+	
+	private Project currentProject;
+	public event EventHandler timer;
+	
+	public Controller(){
+		
+		Projects = Communication.login (login, password);
+		if (Projects.Length == 0) {
+			Console.WriteLine ("Autenticacion fallida");
+		}
+		else {
+			//lista_proyectos = new Proyect [Projects.Length];
+			foreach ( proyecto aux in Projects ) {
+				
+			}			
+		}
+
+
+		
+		
+		
+		
+		
+		//this.counter = 0;
+
+		/*TimerExampleState s = new TimerExampleState();
+		// Create the delegate that invokes methods for the timer.
+		TimerCallback timerDelegate = new TimerCallback(CheckStatus);
+		// Create a timer that waits one second, then invokes every second.
+		Timer timer = new Timer(timerDelegate, s,0, 1000);
+   
+		// Keep a handle to the timer, so it can be disposed.
+		s.tmr = timer;
+		// The main thread does nothing until the timer is disposed.
+		while (s.tmr != null)
+		Thread.Sleep(0);
+		Console.WriteLine("Timer example done.");
+		*/
+	}
+	/*
+	public string CurrentProject{
+		get{
+			return currentProject;
+		}
+		set{
+			currentProject = value;
+		}
+	}
+	*/
+	
+	public void incCounter(){
+		//this.counter++;
+		//this.label.Text = this.counter.ToString();;
+	}
+
+	public void StartTimer (){
+		for (int i = 0; i < 10; i++) {
+			Syscall.sleep (1);
+			Console.WriteLine (i);
+			timer (this, EventArgs.Empty);
+		}
+		
+	}
+
+	public void stop(){
+	}
+	
+	/*static void CheckStatus(Object state) {
+		TimerExampleState s = (TimerExampleState) state;
+		s.counter++;
+		Console.WriteLine(s.counter);
+
+	}*/
+	
+	
+}
+
+}
+
+

Added: Cronus/Main.cs
===================================================================
--- Cronus/Main.cs	2005-10-01 14:33:41 UTC (rev 527)
+++ Cronus/Main.cs	2005-10-01 14:40:23 UTC (rev 528)
@@ -0,0 +1,48 @@
+/* Monotimer
+ * Copyright (C) 2003 GNOME Foundation
+ *
+ * AUTHORS:
+ *      Luis Bosque <luis.bosque at hispalinux.es>
+ *
+ * This Library is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Library General Public License as
+ * published by the Free Software Foundation; either version 2 of the
+ * License, or (at your option) any later version.
+ *
+ * This Library is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Library General Public License for more details.
+ *
+ * You should have received a copy of the GNU Library General Public
+ * License along with this Library; see the file COPYING.LIB.  If not,
+ * write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330,
+ * Boston, MA 02111-1307, USA.
+ */
+
+using System;
+using Views;
+using Gtk;
+using libmonotimer;
+using Control;
+
+public class Mainclass{
+	
+	Views.MainView view;
+
+	
+	public Mainclass(){
+
+		Controller app = new Controller();
+		
+		Application.Init();
+		this.view = new MainView(app);
+		Application.Run();
+	}
+
+
+	public static void Main(){
+		new Mainclass();
+	}
+
+}

Added: Cronus/Makefile
===================================================================
--- Cronus/Makefile	2005-10-01 14:33:41 UTC (rev 527)
+++ Cronus/Makefile	2005-10-01 14:40:23 UTC (rev 528)
@@ -0,0 +1,47 @@
+# This makefile is autogenerated by MonoDevelop
+# Do not modify this file
+
+SOURCES = \
+./Main.cs \
+./libmonotimer/Project.cs \
+./libmonotimer/hilo.cs \
+./libmonotimer/ProjectFactory.cs \
+./libmonotimer/Communication.cs \
+./Control/Controller.cs \
+./Views/MainView.cs \
+
+PKG_REFERENCES = \
+gnome-sharp \
+gtk-sharp \
+glade-sharp \
+gnome-vfs-sharp-2.0 \
+gda-sharp-2.0
+
+
+PKG_REFERENCES_BUILD = $(addprefix -pkg:, $(PKG_REFERENCES))
+
+PKG_REFERENCES_CHECK = $(addsuffix .pkgcheck, $(PKG_REFERENCES))
+
+MCS_OPTIONS = 
+
+all: monotimer.exe
+
+monotimer.exe: $(SOURCES)
+	mcs $(MCS_OPTIONS) -r:Mono.Posix -r:CookComputing.XmlRpc.dll -target:exe -out:"monotimer.exe" $(PKG_REFERENCES_BUILD) $(SOURCES)
+
+clean:
+	rm -f monotimer.exe
+
+depcheck: PKG_depcheck 
+
+PKG_depcheck: $(PKG_REFERENCES_CHECK)
+
+%.pkgcheck:
+	@echo -n Checking for package $(subst .pkgcheck,,$@)...
+	@if pkg-config --libs $(subst .pkgcheck,,$@) &> /dev/null; then \
+		echo yes; \
+	else \
+		echo no; \
+		exit 1; \
+	fi
+

Added: Cronus/Views/MainView.cs
===================================================================
--- Cronus/Views/MainView.cs	2005-10-01 14:33:41 UTC (rev 527)
+++ Cronus/Views/MainView.cs	2005-10-01 14:40:23 UTC (rev 528)
@@ -0,0 +1,105 @@
+/* Monotimer
+ * Copyright (C) 2003 GNOME Foundation
+ *
+ * AUTHORS:
+ *      Luis Bosque <luis.bosque at hispalinux.es>
+ *
+ * This Library is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Library General Public License as
+ * published by the Free Software Foundation; either version 2 of the
+ * License, or (at your option) any later version.
+ *
+ * This Library is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Library General Public License for more details.
+ *
+ * You should have received a copy of the GNU Library General Public
+ * License along with this Library; see the file COPYING.LIB.  If not,
+ * write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330,
+ * Boston, MA 02111-1307, USA.
+ */
+
+using Gtk;
+using GLib;
+using Glade;
+using System;
+using libmonotimer;
+using Control;
+using System.Threading;
+
+namespace Views{
+
+public class MainView{
+	
+	[Glade.Widget] private Gtk.Window main;
+	[Glade.Widget] private Gtk.Button btnOK;
+	[Glade.Widget] private Gtk.Button btnLoad;
+	[Glade.Widget] private Gtk.Label label1;
+	[Glade.Widget] private Gtk.TextView lista_proy;
+	[Glade.Widget] private Gtk.Entry id_proy;
+	[Glade.Widget] private Gtk.Entry name_proy;
+	Gtk.TextBuffer buffer;
+	
+	Controller app;
+	int counter;
+	
+	public void deleteEventCb (object o, DeleteEventArgs args) {
+		Application.Quit ();
+	}
+
+	public void OKButtonCb (object o, EventArgs args) {
+		print("ok");
+		label1.Text = "OK";
+		app.incCounter();
+		System.Threading.Thread counter = new System.Threading.Thread ( new ThreadStart (app.StartTimer) );
+		counter.Start ();
+		
+		//app.StartTimer ();
+	}
+		
+	public void LoadButtonCb (object o, EventArgs args) {
+		print("Project Loaded");
+	}
+		
+	public MainView(Controller app){
+		this.app = app;
+		Glade.XML gxml;
+		gxml = new Glade.XML("./data/main.glade","main",null);
+		gxml.Autoconnect(this);
+		System.Console.WriteLine("Vista creada");
+		counter = 0;
+		buffer = lista_proy.Buffer;
+		
+		if (main == null){
+			print("Ventana principal [NULL]");
+		}
+		if (btnOK == null){
+			print("btnOK [NULL]");
+		}
+		
+		
+		app.timer += new EventHandler (OnTimer);
+		
+		
+		main.DeleteEvent += new DeleteEventHandler (deleteEventCb);
+		btnOK.Clicked += new EventHandler (OKButtonCb);
+		btnLoad.Clicked += new EventHandler (LoadButtonCb);
+	}
+
+	public void print (string texto){
+		Console.WriteLine(texto);
+	}
+
+	public void OnTimer (object sender, EventArgs args) {
+		counter++;
+		label1.Text = counter.ToString();;
+	}
+
+
+}
+
+
+
+
+}

Added: Cronus/data/main.glade
===================================================================
--- Cronus/data/main.glade	2005-10-01 14:33:41 UTC (rev 527)
+++ Cronus/data/main.glade	2005-10-01 14:40:23 UTC (rev 528)
@@ -0,0 +1,247 @@
+<?xml version="1.0" standalone="no"?> <!--*- mode: xml -*-->
+<!DOCTYPE glade-interface SYSTEM "http://glade.gnome.org/glade-2.0.dtd">
+
+<glade-interface>
+
+<widget class="GtkWindow" id="main">
+  <property name="visible">True</property>
+  <property name="title" translatable="yes">Monotest 1</property>
+  <property name="type">GTK_WINDOW_TOPLEVEL</property>
+  <property name="window_position">GTK_WIN_POS_NONE</property>
+  <property name="modal">False</property>
+  <property name="default_width">300</property>
+  <property name="default_height">200</property>
+  <property name="resizable">True</property>
+  <property name="destroy_with_parent">False</property>
+  <property name="decorated">True</property>
+  <property name="skip_taskbar_hint">False</property>
+  <property name="skip_pager_hint">False</property>
+  <property name="type_hint">GDK_WINDOW_TYPE_HINT_NORMAL</property>
+  <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
+  <property name="focus_on_map">True</property>
+
+  <child>
+    <widget class="GtkHBox" id="hbox1">
+      <property name="visible">True</property>
+      <property name="homogeneous">False</property>
+      <property name="spacing">0</property>
+
+      <child>
+	<widget class="GtkScrolledWindow" id="scrolledwindow1">
+	  <property name="visible">True</property>
+	  <property name="can_focus">True</property>
+	  <property name="hscrollbar_policy">GTK_POLICY_ALWAYS</property>
+	  <property name="vscrollbar_policy">GTK_POLICY_ALWAYS</property>
+	  <property name="shadow_type">GTK_SHADOW_IN</property>
+	  <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
+
+	  <child>
+	    <widget class="GtkTreeView" id="treeview1">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="headers_visible">True</property>
+	      <property name="rules_hint">True</property>
+	      <property name="reorderable">False</property>
+	      <property name="enable_search">True</property>
+	      <property name="fixed_height_mode">False</property>
+	      <property name="hover_selection">False</property>
+	      <property name="hover_expand">False</property>
+	    </widget>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkVBox" id="vbox1">
+	  <property name="visible">True</property>
+	  <property name="homogeneous">False</property>
+	  <property name="spacing">0</property>
+
+	  <child>
+	    <widget class="GtkLabel" id="label1">
+	      <property name="height_request">52</property>
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">01:39:00</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">False</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0.5</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">False</property>
+	      <property name="fill">True</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkButton" id="btnOK">
+	      <property name="height_request">150</property>
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label" translatable="yes">Start/Pause</property>
+	      <property name="use_underline">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">False</property>
+	      <property name="fill">False</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkVBox" id="vbox2">
+	      <property name="visible">True</property>
+	      <property name="homogeneous">False</property>
+	      <property name="spacing">0</property>
+
+	      <child>
+		<widget class="GtkHBox" id="hbox2">
+		  <property name="border_width">5</property>
+		  <property name="visible">True</property>
+		  <property name="homogeneous">False</property>
+		  <property name="spacing">0</property>
+
+		  <child>
+		    <widget class="GtkLabel" id="id_proy_label">
+		      <property name="visible">True</property>
+		      <property name="label" translatable="yes">ID</property>
+		      <property name="use_underline">False</property>
+		      <property name="use_markup">False</property>
+		      <property name="justify">GTK_JUSTIFY_LEFT</property>
+		      <property name="wrap">False</property>
+		      <property name="selectable">False</property>
+		      <property name="xalign">0.5</property>
+		      <property name="yalign">0.5</property>
+		      <property name="xpad">0</property>
+		      <property name="ypad">0</property>
+		      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+		      <property name="width_chars">-1</property>
+		      <property name="single_line_mode">False</property>
+		      <property name="angle">0</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">False</property>
+		      <property name="fill">False</property>
+		    </packing>
+		  </child>
+
+		  <child>
+		    <widget class="GtkEntry" id="id_proy">
+		      <property name="visible">True</property>
+		      <property name="can_focus">True</property>
+		      <property name="editable">True</property>
+		      <property name="visibility">True</property>
+		      <property name="max_length">0</property>
+		      <property name="text" translatable="yes"></property>
+		      <property name="has_frame">True</property>
+		      <property name="invisible_char">*</property>
+		      <property name="activates_default">False</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">True</property>
+		      <property name="fill">True</property>
+		    </packing>
+		  </child>
+		</widget>
+		<packing>
+		  <property name="padding">0</property>
+		  <property name="expand">True</property>
+		  <property name="fill">True</property>
+		</packing>
+	      </child>
+
+	      <child>
+		<widget class="GtkHBox" id="hbox3">
+		  <property name="border_width">5</property>
+		  <property name="visible">True</property>
+		  <property name="homogeneous">False</property>
+		  <property name="spacing">0</property>
+
+		  <child>
+		    <widget class="GtkLabel" id="name_proy_label">
+		      <property name="visible">True</property>
+		      <property name="label" translatable="yes">Proyecto</property>
+		      <property name="use_underline">False</property>
+		      <property name="use_markup">False</property>
+		      <property name="justify">GTK_JUSTIFY_LEFT</property>
+		      <property name="wrap">False</property>
+		      <property name="selectable">False</property>
+		      <property name="xalign">0.5</property>
+		      <property name="yalign">0.5</property>
+		      <property name="xpad">0</property>
+		      <property name="ypad">0</property>
+		      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+		      <property name="width_chars">-1</property>
+		      <property name="single_line_mode">False</property>
+		      <property name="angle">0</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">False</property>
+		      <property name="fill">False</property>
+		    </packing>
+		  </child>
+
+		  <child>
+		    <widget class="GtkEntry" id="name_proy">
+		      <property name="visible">True</property>
+		      <property name="can_focus">True</property>
+		      <property name="editable">True</property>
+		      <property name="visibility">True</property>
+		      <property name="max_length">0</property>
+		      <property name="text" translatable="yes"></property>
+		      <property name="has_frame">True</property>
+		      <property name="invisible_char">*</property>
+		      <property name="activates_default">False</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">True</property>
+		      <property name="fill">True</property>
+		    </packing>
+		  </child>
+		</widget>
+		<packing>
+		  <property name="padding">0</property>
+		  <property name="expand">True</property>
+		  <property name="fill">True</property>
+		</packing>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">True</property>
+	      <property name="fill">True</property>
+	    </packing>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+    </widget>
+  </child>
+</widget>
+
+</glade-interface>

Added: Cronus/data/main.glade.bak
===================================================================
--- Cronus/data/main.glade.bak	2005-10-01 14:33:41 UTC (rev 527)
+++ Cronus/data/main.glade.bak	2005-10-01 14:40:23 UTC (rev 528)
@@ -0,0 +1,253 @@
+<?xml version="1.0" standalone="no"?> <!--*- mode: xml -*-->
+<!DOCTYPE glade-interface SYSTEM "http://glade.gnome.org/glade-2.0.dtd">
+
+<glade-interface>
+
+<widget class="GtkWindow" id="main">
+  <property name="visible">True</property>
+  <property name="title" translatable="yes">Monotest 1</property>
+  <property name="type">GTK_WINDOW_TOPLEVEL</property>
+  <property name="window_position">GTK_WIN_POS_NONE</property>
+  <property name="modal">False</property>
+  <property name="default_width">300</property>
+  <property name="default_height">200</property>
+  <property name="resizable">True</property>
+  <property name="destroy_with_parent">False</property>
+  <property name="decorated">True</property>
+  <property name="skip_taskbar_hint">False</property>
+  <property name="skip_pager_hint">False</property>
+  <property name="type_hint">GDK_WINDOW_TYPE_HINT_NORMAL</property>
+  <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
+  <property name="focus_on_map">True</property>
+
+  <child>
+    <widget class="GtkHBox" id="hbox1">
+      <property name="visible">True</property>
+      <property name="homogeneous">False</property>
+      <property name="spacing">0</property>
+
+      <child>
+	<widget class="GtkScrolledWindow" id="scrolledwindow1">
+	  <property name="visible">True</property>
+	  <property name="can_focus">True</property>
+	  <property name="hscrollbar_policy">GTK_POLICY_ALWAYS</property>
+	  <property name="vscrollbar_policy">GTK_POLICY_ALWAYS</property>
+	  <property name="shadow_type">GTK_SHADOW_IN</property>
+	  <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
+
+	  <child>
+	    <widget class="GtkTextView" id="lista_proy">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="overwrite">False</property>
+	      <property name="accepts_tab">True</property>
+	      <property name="justification">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap_mode">GTK_WRAP_NONE</property>
+	      <property name="cursor_visible">True</property>
+	      <property name="pixels_above_lines">0</property>
+	      <property name="pixels_below_lines">0</property>
+	      <property name="pixels_inside_wrap">0</property>
+	      <property name="left_margin">0</property>
+	      <property name="right_margin">0</property>
+	      <property name="indent">0</property>
+	      <property name="text" translatable="yes"></property>
+	    </widget>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkVBox" id="vbox1">
+	  <property name="visible">True</property>
+	  <property name="homogeneous">False</property>
+	  <property name="spacing">0</property>
+
+	  <child>
+	    <widget class="GtkLabel" id="label1">
+	      <property name="height_request">52</property>
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">label1</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">False</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0.5</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">False</property>
+	      <property name="fill">True</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkButton" id="btnOK">
+	      <property name="height_request">150</property>
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label" translatable="yes">Start/Pause</property>
+	      <property name="use_underline">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">False</property>
+	      <property name="fill">False</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkVBox" id="vbox2">
+	      <property name="visible">True</property>
+	      <property name="homogeneous">False</property>
+	      <property name="spacing">0</property>
+
+	      <child>
+		<widget class="GtkHBox" id="hbox2">
+		  <property name="border_width">5</property>
+		  <property name="visible">True</property>
+		  <property name="homogeneous">False</property>
+		  <property name="spacing">0</property>
+
+		  <child>
+		    <widget class="GtkLabel" id="id_proy_label">
+		      <property name="visible">True</property>
+		      <property name="label" translatable="yes">ID</property>
+		      <property name="use_underline">False</property>
+		      <property name="use_markup">False</property>
+		      <property name="justify">GTK_JUSTIFY_LEFT</property>
+		      <property name="wrap">False</property>
+		      <property name="selectable">False</property>
+		      <property name="xalign">0.5</property>
+		      <property name="yalign">0.5</property>
+		      <property name="xpad">0</property>
+		      <property name="ypad">0</property>
+		      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+		      <property name="width_chars">-1</property>
+		      <property name="single_line_mode">False</property>
+		      <property name="angle">0</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">False</property>
+		      <property name="fill">False</property>
+		    </packing>
+		  </child>
+
+		  <child>
+		    <widget class="GtkEntry" id="id_proy">
+		      <property name="visible">True</property>
+		      <property name="can_focus">True</property>
+		      <property name="editable">True</property>
+		      <property name="visibility">True</property>
+		      <property name="max_length">0</property>
+		      <property name="text" translatable="yes"></property>
+		      <property name="has_frame">True</property>
+		      <property name="invisible_char">*</property>
+		      <property name="activates_default">False</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">True</property>
+		      <property name="fill">True</property>
+		    </packing>
+		  </child>
+		</widget>
+		<packing>
+		  <property name="padding">0</property>
+		  <property name="expand">True</property>
+		  <property name="fill">True</property>
+		</packing>
+	      </child>
+
+	      <child>
+		<widget class="GtkHBox" id="hbox3">
+		  <property name="border_width">5</property>
+		  <property name="visible">True</property>
+		  <property name="homogeneous">False</property>
+		  <property name="spacing">0</property>
+
+		  <child>
+		    <widget class="GtkLabel" id="name_proy_label">
+		      <property name="visible">True</property>
+		      <property name="label" translatable="yes">Proyecto</property>
+		      <property name="use_underline">False</property>
+		      <property name="use_markup">False</property>
+		      <property name="justify">GTK_JUSTIFY_LEFT</property>
+		      <property name="wrap">False</property>
+		      <property name="selectable">False</property>
+		      <property name="xalign">0.5</property>
+		      <property name="yalign">0.5</property>
+		      <property name="xpad">0</property>
+		      <property name="ypad">0</property>
+		      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+		      <property name="width_chars">-1</property>
+		      <property name="single_line_mode">False</property>
+		      <property name="angle">0</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">False</property>
+		      <property name="fill">False</property>
+		    </packing>
+		  </child>
+
+		  <child>
+		    <widget class="GtkEntry" id="name_proy">
+		      <property name="visible">True</property>
+		      <property name="can_focus">True</property>
+		      <property name="editable">True</property>
+		      <property name="visibility">True</property>
+		      <property name="max_length">0</property>
+		      <property name="text" translatable="yes"></property>
+		      <property name="has_frame">True</property>
+		      <property name="invisible_char">*</property>
+		      <property name="activates_default">False</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">True</property>
+		      <property name="fill">True</property>
+		    </packing>
+		  </child>
+		</widget>
+		<packing>
+		  <property name="padding">0</property>
+		  <property name="expand">True</property>
+		  <property name="fill">True</property>
+		</packing>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">True</property>
+	      <property name="fill">True</property>
+	    </packing>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+    </widget>
+  </child>
+</widget>
+
+</glade-interface>

Added: Cronus/data/main.gladep
===================================================================
--- Cronus/data/main.gladep	2005-10-01 14:33:41 UTC (rev 527)
+++ Cronus/data/main.gladep	2005-10-01 14:40:23 UTC (rev 528)
@@ -0,0 +1,8 @@
+<?xml version="1.0" standalone="no"?> <!--*- mode: xml -*-->
+<!DOCTYPE glade-project SYSTEM "http://glade.gnome.org/glade-project-2.0.dtd">
+
+<glade-project>
+  <name>Main</name>
+  <program_name>main</program_name>
+  <gnome_support>FALSE</gnome_support>
+</glade-project>

Added: Cronus/data/main.gladep.bak
===================================================================
--- Cronus/data/main.gladep.bak	2005-10-01 14:33:41 UTC (rev 527)
+++ Cronus/data/main.gladep.bak	2005-10-01 14:40:23 UTC (rev 528)
@@ -0,0 +1,8 @@
+<?xml version="1.0" standalone="no"?> <!--*- mode: xml -*-->
+<!DOCTYPE glade-project SYSTEM "http://glade.gnome.org/glade-project-2.0.dtd">
+
+<glade-project>
+  <name>Main</name>
+  <program_name>main</program_name>
+  <gnome_support>FALSE</gnome_support>
+</glade-project>

Added: Cronus/dll/CookComputing.XmlRpc.dll
===================================================================
(Binary files differ)


Property changes on: Cronus/dll/CookComputing.XmlRpc.dll
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: Cronus/libmonotimer/Communication.cs
===================================================================
--- Cronus/libmonotimer/Communication.cs	2005-10-01 14:33:41 UTC (rev 527)
+++ Cronus/libmonotimer/Communication.cs	2005-10-01 14:40:23 UTC (rev 528)
@@ -0,0 +1,47 @@
+using System;
+using CookComputing.XmlRpc;
+using System.Security.Cryptography;
+using System.Text;
+
+
+namespace libmonotimer {
+	
+
+[XmlRpcUrl("URL_del_server_xmlrpc")]
+interface IStateName
+{
+
+	[XmlRpcMethod("phpcollab.timeControl")]
+	CollabProject[] timeControl (string usuario, string pass); 
+}
+
+public class Communication {
+	
+
+	public static CollabProject[] login (string name, string password) {		
+		IStateName proxy = (IStateName)XmlRpcProxyGen.Create(typeof(IStateName));	
+		CollabProject[] valor = proxy.timeControl ("", "");
+		foreach ( CollabProject i in valor ) {
+			Console.WriteLine (i.id);
+			Console.WriteLine (i.nombre);
+		}
+		return valor;
+	}
+	
+
+}
+		
+}
+
+/*
+		string textToHash = "";
+		byte[] byteRepresentation = UnicodeEncoding.UTF8.GetBytes (textToHash);
+		byte[] hashedTextInBytes = null;
+		MD5CryptoServiceProvider myMD5 = new MD5CryptoServiceProvider();
+		hashedTextInBytes = myMD5.ComputeHash (byteRepresentation);
+		foreach ( byte i in hashedTextInBytes ) {
+			Console.WriteLine (i);
+		}
+		string hashedText = Convert.ToBase64String (hashedTextInBytes);
+		*/
+

Added: Cronus/libmonotimer/Project.cs
===================================================================
--- Cronus/libmonotimer/Project.cs	2005-10-01 14:33:41 UTC (rev 527)
+++ Cronus/libmonotimer/Project.cs	2005-10-01 14:40:23 UTC (rev 528)
@@ -0,0 +1,67 @@
+/* Monotimer
+ * Copyright (C) 2003 GNOME Foundation
+ *
+ * AUTHORS:
+ *      Luis Bosque <luis.bosque at hispalinux.es>
+ *
+ * This Library is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Library General Public License as
+ * published by the Free Software Foundation; either version 2 of the
+ * License, or (at your option) any later version.
+ *
+ * This Library is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Library General Public License for more details.
+ *
+ * You should have received a copy of the GNU Library General Public
+ * License along with this Library; see the file COPYING.LIB.  If not,
+ * write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330,
+ * Boston, MA 02111-1307, USA.
+ */
+
+using System.Threading;
+
+namespace libmonotimer{
+
+	public class Crono {
+		public int counter = 0;
+		public Timer timer;
+	}
+	
+	public sealed class Project{
+	
+		private static Project instance;
+		private string name;
+		private int id;
+		private Timer timer;
+		private counter;
+		
+		public static Project Instance {
+			get {
+				if ( instance == null ) {
+					instance = new Project ();
+				}
+				return instance;
+			}
+		}
+		
+		private Project(){
+			Crono crono = new Crono ();
+			TimerCallback timerDelegate = new TimerCallback (Tick);
+			timer = new Timer (timerDelegate, crono, 0, 1000);
+   
+			crono.timer = timer;
+
+			while (crono.timer != null)
+				Thread.Sleep(0);
+			Console.WriteLine("Final del contador");
+		}
+		
+		private static void Tick (Object state) {
+			Crono crono = (Crono) state;
+			crono.counter++;
+			Console.WriteLine(crono.counter);
+		}
+
+}

Added: Cronus/pruebas/Principal.cs
===================================================================
--- Cronus/pruebas/Principal.cs	2005-10-01 14:33:41 UTC (rev 527)
+++ Cronus/pruebas/Principal.cs	2005-10-01 14:40:23 UTC (rev 528)
@@ -0,0 +1,51 @@
+using System;
+using CookComputing.XmlRpc;
+using System.Security.Cryptography;
+using System.Text;
+
+public struct proyecto {
+	public int id;
+	public string nombre;
+}
+
+[XmlRpcUrl("URL_del_servidor_xmlrpc")]
+interface IStateName
+{
+
+	[XmlRpcMethod("phpcollab.timeControl")]
+	proyecto[] timeControl (string usuario, string pass); 
+}
+
+public class Launcher {
+	
+	public static void Main () {
+
+		
+		IStateName proxy = (IStateName)XmlRpcProxyGen.Create(typeof(IStateName));	
+		proyecto[] valor = proxy.timeControl ("", "");
+		if (valor.Length == 0) {
+			Console.WriteLine ("Respuesta vacia");
+		}
+		else {
+			foreach ( proyecto i in valor ) {
+				Console.WriteLine (i.id);
+				Console.WriteLine (i.nombre);
+			}
+		}
+	}
+
+}
+		
+
+
+/*
+		string textToHash = "";
+		byte[] byteRepresentation = UnicodeEncoding.UTF8.GetBytes (textToHash);
+		byte[] hashedTextInBytes = null;
+		MD5CryptoServiceProvider myMD5 = new MD5CryptoServiceProvider();
+		hashedTextInBytes = myMD5.ComputeHash (byteRepresentation);
+		foreach ( byte i in hashedTextInBytes ) {
+			Console.WriteLine (i);
+		}
+		string hashedText = Convert.ToBase64String (hashedTextInBytes);
+		*/



From luis at berlios.de  Sat Oct  1 16:53:18 2005
From: luis at berlios.de (Luis Bosque at BerliOS)
Date: Sat, 1 Oct 2005 16:53:18 +0200
Subject: [Mspace-checkins] r529 - in Cronus: . Control
Message-ID: <200510011453.j91ErIdx010260@sheep.berlios.de>

Author: luis
Date: 2005-10-01 16:53:17 +0200 (Sat, 01 Oct 2005)
New Revision: 529

Modified:
   Cronus/Control/Controller.cs
   Cronus/Makefile
Log:


Modified: Cronus/Control/Controller.cs
===================================================================
--- Cronus/Control/Controller.cs	2005-10-01 14:40:23 UTC (rev 528)
+++ Cronus/Control/Controller.cs	2005-10-01 14:53:17 UTC (rev 529)
@@ -23,104 +23,28 @@
 using System;
 using libmonotimer;
 using System.Threading;
-using Mono.Unix;
 
 namespace Control{
 
 	
-//class TimerExampleState {
-//	int counter = 0;
-//	public Timer tmr;
-//}
-public struct CollabProject {
-	public int id;
-	public string nombre;
-}
-
-public class Controller{
+	public struct CollabProject {
+		public int id;
+		public string nombre;
+	}
 	
-	string login = "";
-	string password = "";
-	
-	proyecto[] Array_Projects;
-	Project[] lista_proyectos;
-	
-	private Project currentProject;
-	public event EventHandler timer;
-	
-	public Controller(){
+	public sealed class Controller{
 		
-		Projects = Communication.login (login, password);
-		if (Projects.Length == 0) {
-			Console.WriteLine ("Autenticacion fallida");
-		}
-		else {
-			//lista_proyectos = new Proyect [Projects.Length];
-			foreach ( proyecto aux in Projects ) {
-				
-			}			
-		}
-
-
+		CollabProject[] Array_Projects;
+		public event EventHandler timer;
 		
-		
-		
-		
-		
-		//this.counter = 0;
-
-		/*TimerExampleState s = new TimerExampleState();
-		// Create the delegate that invokes methods for the timer.
-		TimerCallback timerDelegate = new TimerCallback(CheckStatus);
-		// Create a timer that waits one second, then invokes every second.
-		Timer timer = new Timer(timerDelegate, s,0, 1000);
-   
-		// Keep a handle to the timer, so it can be disposed.
-		s.tmr = timer;
-		// The main thread does nothing until the timer is disposed.
-		while (s.tmr != null)
-		Thread.Sleep(0);
-		Console.WriteLine("Timer example done.");
-		*/
+		public Controller(string login, string password) {
+			
+			Array_Projects = Communication.login (login, password);
+			if (Array_Projects.Length == 0)
+				Console.WriteLine ("Autenticacion fallida");
+		}	
 	}
-	/*
-	public string CurrentProject{
-		get{
-			return currentProject;
-		}
-		set{
-			currentProject = value;
-		}
-	}
-	*/
 	
-	public void incCounter(){
-		//this.counter++;
-		//this.label.Text = this.counter.ToString();;
-	}
-
-	public void StartTimer (){
-		for (int i = 0; i < 10; i++) {
-			Syscall.sleep (1);
-			Console.WriteLine (i);
-			timer (this, EventArgs.Empty);
-		}
-		
-	}
-
-	public void stop(){
-	}
-	
-	/*static void CheckStatus(Object state) {
-		TimerExampleState s = (TimerExampleState) state;
-		s.counter++;
-		Console.WriteLine(s.counter);
-
-	}*/
-	
-	
 }
 
-}
 
-

Modified: Cronus/Makefile
===================================================================
--- Cronus/Makefile	2005-10-01 14:40:23 UTC (rev 528)
+++ Cronus/Makefile	2005-10-01 14:53:17 UTC (rev 529)
@@ -4,8 +4,6 @@
 SOURCES = \
 ./Main.cs \
 ./libmonotimer/Project.cs \
-./libmonotimer/hilo.cs \
-./libmonotimer/ProjectFactory.cs \
 ./libmonotimer/Communication.cs \
 ./Control/Controller.cs \
 ./Views/MainView.cs \



From luis at berlios.de  Sat Oct  1 18:50:28 2005
From: luis at berlios.de (Luis Bosque at BerliOS)
Date: Sat, 1 Oct 2005 18:50:28 +0200
Subject: [Mspace-checkins] r530 - in Cronus: Control libmonotimer pruebas
Message-ID: <200510011650.j91GoSd1004022@sheep.berlios.de>

Author: luis
Date: 2005-10-01 18:50:27 +0200 (Sat, 01 Oct 2005)
New Revision: 530

Modified:
   Cronus/Control/Controller.cs
   Cronus/libmonotimer/Communication.cs
   Cronus/pruebas/Principal.cs
Log:
Limpieza de codigo inservible para dejar una base relativamente limpia.


Modified: Cronus/Control/Controller.cs
===================================================================
--- Cronus/Control/Controller.cs	2005-10-01 14:53:17 UTC (rev 529)
+++ Cronus/Control/Controller.cs	2005-10-01 16:50:27 UTC (rev 530)
@@ -33,6 +33,8 @@
 	}
 	
 	public sealed class Controller{
+	
+		private Project CurrentProject;
 		
 		CollabProject[] Array_Projects;
 		public event EventHandler timer;
@@ -46,5 +48,3 @@
 	}
 	
 }
-
-

Modified: Cronus/libmonotimer/Communication.cs
===================================================================
--- Cronus/libmonotimer/Communication.cs	2005-10-01 14:53:17 UTC (rev 529)
+++ Cronus/libmonotimer/Communication.cs	2005-10-01 16:50:27 UTC (rev 530)
@@ -3,45 +3,30 @@
 using System.Security.Cryptography;
 using System.Text;
 
-
 namespace libmonotimer {
 	
-
-[XmlRpcUrl("URL_del_server_xmlrpc")]
-interface IStateName
-{
-
-	[XmlRpcMethod("phpcollab.timeControl")]
-	CollabProject[] timeControl (string usuario, string pass); 
-}
-
-public class Communication {
+	[XmlRpcUrl("http://fragg.homeip.net/phpcollab/xmlrpc_server.php")]
+	interface IStateName
+	{
 	
-
-	public static CollabProject[] login (string name, string password) {		
-		IStateName proxy = (IStateName)XmlRpcProxyGen.Create(typeof(IStateName));	
-		CollabProject[] valor = proxy.timeControl ("", "");
-		foreach ( CollabProject i in valor ) {
-			Console.WriteLine (i.id);
-			Console.WriteLine (i.nombre);
-		}
-		return valor;
+		[XmlRpcMethod("phpcollab.timeControl")]
+		CollabProject[] timeControl (string usuario, string pass); 
 	}
 	
-
-}
+	public class Communication {
 		
-}
-
-/*
-		string textToHash = "";
-		byte[] byteRepresentation = UnicodeEncoding.UTF8.GetBytes (textToHash);
-		byte[] hashedTextInBytes = null;
-		MD5CryptoServiceProvider myMD5 = new MD5CryptoServiceProvider();
-		hashedTextInBytes = myMD5.ComputeHash (byteRepresentation);
-		foreach ( byte i in hashedTextInBytes ) {
-			Console.WriteLine (i);
+	
+		public static CollabProject[] login (string name, string password) {		
+			IStateName proxy = (IStateName)XmlRpcProxyGen.Create(typeof(IStateName));	
+			CollabProject[] valor = proxy.timeControl (login, name);
+			foreach ( CollabProject i in valor ) {
+				Console.WriteLine (i.id);
+				Console.WriteLine (i.nombre);
+			}
+			return valor;
 		}
-		string hashedText = Convert.ToBase64String (hashedTextInBytes);
-		*/
-
+		
+	
+	}
+		
+}

Modified: Cronus/pruebas/Principal.cs
===================================================================
--- Cronus/pruebas/Principal.cs	2005-10-01 14:53:17 UTC (rev 529)
+++ Cronus/pruebas/Principal.cs	2005-10-01 16:50:27 UTC (rev 530)
@@ -8,7 +8,7 @@
 	public string nombre;
 }
 
-[XmlRpcUrl("URL_del_servidor_xmlrpc")]
+[XmlRpcUrl("http://fragg.homeip.net/phpcollab/xmlrpc_server.php")]
 interface IStateName
 {
 
@@ -22,7 +22,7 @@
 
 		
 		IStateName proxy = (IStateName)XmlRpcProxyGen.Create(typeof(IStateName));	
-		proyecto[] valor = proxy.timeControl ("", "");
+		proyecto[] valor = proxy.timeControl ("admin", "collab_proyectos");
 		if (valor.Length == 0) {
 			Console.WriteLine ("Respuesta vacia");
 		}



From nestor at berlios.de  Sun Oct  2 03:17:17 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Sun, 2 Oct 2005 03:17:17 +0200
Subject: [Mspace-checkins] r531 - in ComponentModel/trunk: . src/UnitTest/Components/TestComponent src/UnitTest/Components/TestComponent/Bo src/UnitTest/Components/TestComponent/Exceptions
Message-ID: <200510020117.j921HHrK010077@sheep.berlios.de>

Author: nestor
Date: 2005-10-02 03:17:09 +0200 (Sun, 02 Oct 2005)
New Revision: 531

Modified:
   ComponentModel/trunk/ChangeLog
   ComponentModel/trunk/src/UnitTest/Components/TestComponent/Bo/TestComponentComponentModel.cs
   ComponentModel/trunk/src/UnitTest/Components/TestComponent/Exceptions/TestComponentExceptionManager.cs
   ComponentModel/trunk/src/UnitTest/Components/TestComponent/TestComponentUnit.cs
Log:
Test para las excepciones.



Modified: ComponentModel/trunk/ChangeLog
===================================================================
--- ComponentModel/trunk/ChangeLog	2005-10-01 16:50:27 UTC (rev 530)
+++ ComponentModel/trunk/ChangeLog	2005-10-02 01:17:09 UTC (rev 531)
@@ -1,3 +1,8 @@
+29-09-2005 -- N?stor Salceda <nestor.salceda at gmail.com>
+    DefaultComponentModel:
+	Support for property management.
+    UnitTest:
+	Various Tests.
 27-09-2005 -- N?stor Salceda <nestor.salceda at gmail.com>
     DefaultComponentModel:
 	Support for overloaded execution of use case.

Modified: ComponentModel/trunk/src/UnitTest/Components/TestComponent/Bo/TestComponentComponentModel.cs
===================================================================
--- ComponentModel/trunk/src/UnitTest/Components/TestComponent/Bo/TestComponentComponentModel.cs	2005-10-01 16:50:27 UTC (rev 530)
+++ ComponentModel/trunk/src/UnitTest/Components/TestComponent/Bo/TestComponentComponentModel.cs	2005-10-02 01:17:09 UTC (rev 531)
@@ -21,5 +21,10 @@
             return obj;
         }
 
+        [ComponentMethod ("UnitTest.Components.TestComponent.Form.MainTestComponentForm", "ResponseTestException")]
+        public void TestException () {
+            throw new Exception ("Testing exception Manager, and flags");
+        }
+
     }
 }

Modified: ComponentModel/trunk/src/UnitTest/Components/TestComponent/Exceptions/TestComponentExceptionManager.cs
===================================================================
--- ComponentModel/trunk/src/UnitTest/Components/TestComponent/Exceptions/TestComponentExceptionManager.cs	2005-10-01 16:50:27 UTC (rev 530)
+++ ComponentModel/trunk/src/UnitTest/Components/TestComponent/Exceptions/TestComponentExceptionManager.cs	2005-10-02 01:17:09 UTC (rev 531)
@@ -1,13 +1,13 @@
 using System;
 using ComponentModel.Interfaces;
 
-namespace UnitTest.Components.TestComponent {
+namespace UnitTest.Components.TestComponent.Exceptions {
     public sealed class TestComponentExceptionManager : IExceptionManager {
         public void ProcessException (Exception exception) {
-            Console.WriteLine ("BEGIN EXCEPTION");
+            Console.WriteLine ("BEGIN CAUGHT MANAGED EXCEPTION");
             Console.WriteLine ("Exception caught !! by " + this.GetType ());
-            Console.WriteLine (exception.ToString ());
-            Console.WriteLine ("END EXCEPTION");
+            Console.WriteLine (exception.Message);
+            Console.WriteLine ("END CAUGHT MANAGED EXCEPTION");
         }
     }
 }

Modified: ComponentModel/trunk/src/UnitTest/Components/TestComponent/TestComponentUnit.cs
===================================================================
--- ComponentModel/trunk/src/UnitTest/Components/TestComponent/TestComponentUnit.cs	2005-10-01 16:50:27 UTC (rev 530)
+++ ComponentModel/trunk/src/UnitTest/Components/TestComponent/TestComponentUnit.cs	2005-10-02 01:17:09 UTC (rev 531)
@@ -17,6 +17,8 @@
 
         [TearDown]
         public void TearDown () {
+            IComponentModel componentModel = DefaultContainer.Instance.GetComponentByName ("TestUnidad1");
+            componentModel.SetProperty ("Entero", 0);
         }
 
         /*A partir de aqui escribiremos los tests*/
@@ -87,5 +89,15 @@
             Assert.IsNotNull (componentModel.GetProperty ("Entero"));
             Assert.AreEqual ((int) componentModel.GetProperty ("Entero"), 5);
         }
+
+        [Test]
+        public void Exception () {
+            ResponseMethodVO responseMethodVO;
+            
+            IComponentModel componentModel = DefaultContainer.Instance.GetComponentByName ("TestUnidad1");
+            responseMethodVO = componentModel.Execute ("TestException", null, false);
+            Assert.AreEqual (responseMethodVO.ExecutionSuccess, false);
+            Assert.IsNull (responseMethodVO.MethodResult);
+        }
     }
 }



From nestor at berlios.de  Sun Oct  2 04:07:31 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Sun, 2 Oct 2005 04:07:31 +0200
Subject: [Mspace-checkins] r532 - in ComponentModel/trunk/src/ComponentModel: . Collections
Message-ID: <200510020207.j9227VoT017032@sheep.berlios.de>

Author: nestor
Date: 2005-10-02 04:07:23 +0200 (Sun, 02 Oct 2005)
New Revision: 532

Added:
   ComponentModel/trunk/src/ComponentModel/Collections/
   ComponentModel/trunk/src/ComponentModel/Collections/IViewHandlerCollection.cs
   ComponentModel/trunk/src/ComponentModel/Collections/IViewHandlerEnumerator.cs
Log:
Added ViewHandlerCollection, in order to store references of views of one
component.



Added: ComponentModel/trunk/src/ComponentModel/Collections/IViewHandlerCollection.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Collections/IViewHandlerCollection.cs	2005-10-02 01:17:09 UTC (rev 531)
+++ ComponentModel/trunk/src/ComponentModel/Collections/IViewHandlerCollection.cs	2005-10-02 02:07:23 UTC (rev 532)
@@ -0,0 +1,122 @@
+using System;
+using System.Collections;
+using ComponentModel.Interfaces;
+
+namespace ComponentModel.Collections {
+    //Without generics support; this is the way to implement a collection which
+    //only support IViewHandler interfaces.
+    public sealed class IViewHandlerCollection : IList, IEnumerable, ICollection {
+        private ArrayList arrayList;
+
+        public IViewHandlerCollection () {
+            arrayList = new ArrayList ();
+        }
+        
+        public IViewHandler this [int index] {
+            get {return (IViewHandler) arrayList [index];}
+            set {arrayList [index] = value;}
+        }
+        
+        public int Count {
+            get {return arrayList.Count;}
+        }
+
+        bool IList.IsReadOnly {
+            get {return arrayList.IsReadOnly;}
+        }
+
+        bool IList.IsFixedSize {
+            get {return arrayList.IsFixedSize;}
+        }
+        
+        public int Add (IViewHandler value) {
+            return arrayList.Add (value);
+        }
+
+        public void AddRange (IViewHandler[] value) {
+            if (value == null) {
+                throw new ArgumentNullException ("Value null");
+            }
+            arrayList.AddRange (value);
+        }
+
+        public void Clear () {
+            arrayList.Clear ();
+        }
+
+        public bool Contains (IViewHandler value) {
+            return arrayList.Contains (value);
+        }
+
+        public void CopyTo (IViewHandler[] array, int index) {
+            arrayList.CopyTo (array, index);
+        }
+
+
+        //IViewHandler enumerator please.
+        public IViewHandlerEnumerator GetEnumerator () {
+            return new IViewHandlerEnumerator (this);
+        }
+
+        public int IndexOf (IViewHandler value) {
+            return arrayList.IndexOf (value);
+        }
+
+        public void Insert (int index, IViewHandler value) {
+            arrayList.Insert (index, value);
+        }
+
+        public bool IsReadOnly {
+            get {return arrayList.IsReadOnly;}
+        }
+
+        public bool IsSynchronized {
+            get {return arrayList.IsSynchronized;}
+        }
+
+        public void Remove (IViewHandler value) {
+            arrayList.Remove (value);
+        }
+
+        public void RemoveAt (int index) {
+            arrayList.RemoveAt (index);
+        }
+
+        public object SyncRoot {
+            get {return this;}
+        }
+
+        object IList.this [int index] {
+            get {return this [index];}
+            set {this[index] = (IViewHandler) value;}
+        }
+
+        int IList.Add (object value) {
+            return Add ((IViewHandler) value);
+        }
+
+        bool IList.Contains (object value) {
+            return Contains ((IViewHandler) value);
+        }
+
+        int IList.IndexOf (object value) {
+            return IndexOf ((IViewHandler) value);
+        }
+
+        void IList.Insert (int index, object value) {
+            Insert (index, (IViewHandler) value);
+        }
+
+        void IList.Remove (object value) {
+            Remove ((IViewHandler) value);
+        }
+
+        void ICollection.CopyTo (Array array, int index) {
+            arrayList.CopyTo (array, index);
+        }
+
+        IEnumerator IEnumerable.GetEnumerator () {
+            return arrayList.GetEnumerator ();
+        }
+    }
+}

Added: ComponentModel/trunk/src/ComponentModel/Collections/IViewHandlerEnumerator.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Collections/IViewHandlerEnumerator.cs	2005-10-02 01:17:09 UTC (rev 531)
+++ ComponentModel/trunk/src/ComponentModel/Collections/IViewHandlerEnumerator.cs	2005-10-02 02:07:23 UTC (rev 532)
@@ -0,0 +1,38 @@
+using System;
+using System.Collections;
+using ComponentModel.Interfaces;
+
+namespace ComponentModel.Collections {
+    public class IViewHandlerEnumerator : IEnumerator {
+        private IEnumerator enumerator;
+
+        internal IViewHandlerEnumerator (IViewHandlerCollection collection) {
+            this.enumerator = ((IEnumerable)collection).GetEnumerator ();
+        }
+
+        public IViewHandler Current {
+            get {return (IViewHandler) enumerator.Current;}
+        }
+
+        public bool MoveNext () {
+            return enumerator.MoveNext ();
+        }
+
+        public void Reset () {
+            enumerator.Reset ();
+        }
+
+        object IEnumerator.Current {
+            get {return Current;}
+        }
+
+        bool IEnumerator.MoveNext () {
+            return MoveNext ();
+        }
+
+        void IEnumerator.Reset () {
+            Reset ();
+        }
+
+    }
+}



From luis at berlios.de  Sun Oct  2 19:37:41 2005
From: luis at berlios.de (Luis Bosque at BerliOS)
Date: Sun, 2 Oct 2005 19:37:41 +0200
Subject: [Mspace-checkins] r533 - in Cronus: . Views libmonotimer pruebas
Message-ID: <200510021737.j92Hbf7S022269@sheep.berlios.de>

Author: luis
Date: 2005-10-02 19:37:39 +0200 (Sun, 02 Oct 2005)
New Revision: 533

Added:
   Cronus/libmonotimer/Source.cs
   Cronus/pruebas/Serializer.cs
   Cronus/pruebas/testXML.cs
Modified:
   Cronus/Makefile
   Cronus/Views/MainView.cs
   Cronus/libmonotimer/Communication.cs
   Cronus/libmonotimer/Project.cs
Log:
Ficheros nuevos y nuevas tonterias variadas usadas de pruebas.


Modified: Cronus/Makefile
===================================================================
--- Cronus/Makefile	2005-10-02 02:07:23 UTC (rev 532)
+++ Cronus/Makefile	2005-10-02 17:37:39 UTC (rev 533)
@@ -2,18 +2,17 @@
 # Do not modify this file
 
 SOURCES = \
-./Main.cs \
 ./libmonotimer/Project.cs \
 ./libmonotimer/Communication.cs \
 ./Control/Controller.cs \
 ./Views/MainView.cs \
+./pruebas/Serializer.cs \
 
 PKG_REFERENCES = \
 gnome-sharp \
 gtk-sharp \
 glade-sharp \
 gnome-vfs-sharp-2.0 \
-gda-sharp-2.0
 
 
 PKG_REFERENCES_BUILD = $(addprefix -pkg:, $(PKG_REFERENCES))
@@ -25,7 +24,7 @@
 all: monotimer.exe
 
 monotimer.exe: $(SOURCES)
-	mcs $(MCS_OPTIONS) -r:Mono.Posix -r:CookComputing.XmlRpc.dll -target:exe -out:"monotimer.exe" $(PKG_REFERENCES_BUILD) $(SOURCES)
+	mcs $(MCS_OPTIONS) -r:Mono.Posix -r:dll/CookComputing.XmlRpc.dll -target:exe -out:"monotimer.exe" $(PKG_REFERENCES_BUILD) $(SOURCES)
 
 clean:
 	rm -f monotimer.exe

Modified: Cronus/Views/MainView.cs
===================================================================
--- Cronus/Views/MainView.cs	2005-10-02 02:07:23 UTC (rev 532)
+++ Cronus/Views/MainView.cs	2005-10-02 17:37:39 UTC (rev 533)
@@ -51,9 +51,9 @@
 	public void OKButtonCb (object o, EventArgs args) {
 		print("ok");
 		label1.Text = "OK";
-		app.incCounter();
-		System.Threading.Thread counter = new System.Threading.Thread ( new ThreadStart (app.StartTimer) );
-		counter.Start ();
+		//app.incCounter();
+		//System.Threading.Thread counter = new System.Threading.Thread ( new ThreadStart (app.StartTimer) );
+		//counter.Start ();
 		
 		//app.StartTimer ();
 	}

Modified: Cronus/libmonotimer/Communication.cs
===================================================================
--- Cronus/libmonotimer/Communication.cs	2005-10-02 02:07:23 UTC (rev 532)
+++ Cronus/libmonotimer/Communication.cs	2005-10-02 17:37:39 UTC (rev 533)
@@ -2,23 +2,22 @@
 using CookComputing.XmlRpc;
 using System.Security.Cryptography;
 using System.Text;
+using Control;
 
 namespace libmonotimer {
 	
 	[XmlRpcUrl("http://fragg.homeip.net/phpcollab/xmlrpc_server.php")]
 	interface IStateName
 	{
-	
 		[XmlRpcMethod("phpcollab.timeControl")]
 		CollabProject[] timeControl (string usuario, string pass); 
 	}
 	
 	public class Communication {
 		
-	
 		public static CollabProject[] login (string name, string password) {		
 			IStateName proxy = (IStateName)XmlRpcProxyGen.Create(typeof(IStateName));	
-			CollabProject[] valor = proxy.timeControl (login, name);
+			CollabProject[] valor = proxy.timeControl (name, password);
 			foreach ( CollabProject i in valor ) {
 				Console.WriteLine (i.id);
 				Console.WriteLine (i.nombre);

Modified: Cronus/libmonotimer/Project.cs
===================================================================
--- Cronus/libmonotimer/Project.cs	2005-10-02 02:07:23 UTC (rev 532)
+++ Cronus/libmonotimer/Project.cs	2005-10-02 17:37:39 UTC (rev 533)
@@ -19,10 +19,11 @@
  * write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330,
  * Boston, MA 02111-1307, USA.
  */
-
+using System;
 using System.Threading;
 
-namespace libmonotimer{
+namespace libmonotimer
+{
 
 	public class Crono {
 		public int counter = 0;
@@ -34,34 +35,56 @@
 		private static Project instance;
 		private string name;
 		private int id;
+		[NonSerialized()]
 		private Timer timer;
-		private counter;
+		private int counter;
+		private static int contador = 0;
 		
-		public static Project Instance {
-			get {
-				if ( instance == null ) {
-					instance = new Project ();
-				}
-				return instance;
-			}
-		}
-		
 		private Project(){
+			contador ++;
+			counter = 0;
+			id = contador;
 			Crono crono = new Crono ();
 			TimerCallback timerDelegate = new TimerCallback (Tick);
 			timer = new Timer (timerDelegate, crono, 0, 1000);
-   
+   			/*
 			crono.timer = timer;
 
 			while (crono.timer != null)
 				Thread.Sleep(0);
 			Console.WriteLine("Final del contador");
+			*/
 		}
 		
+		public static Project Instance {
+			get {
+				if ( instance == null ) {
+					instance = new Project ();
+				}
+				return instance;
+			}
+		}
+		
+		public string Name {
+			get {
+				return name;
+			}
+			set {
+				name = value;
+			}
+		}
+		public int Id {
+			get {
+				return id;
+			}
+		}
+		
+		
 		private static void Tick (Object state) {
 			Crono crono = (Crono) state;
 			crono.counter++;
 			Console.WriteLine(crono.counter);
 		}
 
+	}
 }

Added: Cronus/libmonotimer/Source.cs
===================================================================
--- Cronus/libmonotimer/Source.cs	2005-10-02 02:07:23 UTC (rev 532)
+++ Cronus/libmonotimer/Source.cs	2005-10-02 17:37:39 UTC (rev 533)
@@ -0,0 +1,52 @@
+using System;
+
+namespace libmonotimer
+{
+	public interface ISource {
+		void GetName ();
+	}
+
+
+	public class SourceXML : ISource {
+		public void GetName () {
+			Console.WriteLine ("Soy un Source de tipo XML");
+		}	
+	}
+
+	public class SourceRemote : ISource {
+		public void GetName () {
+			Console.WriteLine ("Soy un Source de tipo XML");
+		}	
+	}
+
+
+	public class Factory {
+		public ISource GetObject (int type){
+			ISource source = null;
+			switch (type) {
+				case 0:
+					source = new SourceXML ();
+					break;
+				case 1:
+					source = new SourceRemote ();
+					break;
+				default:
+					source = null;
+					break;
+			}
+			return source;
+		}
+	}
+
+	public class Launcher {
+		public static void Main () {
+			Factory factory = new Factory ();
+			ISource source = factory.GetObject (1);
+			source.GetName ();
+		}
+	}
+	
+}
+
+
+

Added: Cronus/pruebas/Serializer.cs
===================================================================
--- Cronus/pruebas/Serializer.cs	2005-10-02 02:07:23 UTC (rev 532)
+++ Cronus/pruebas/Serializer.cs	2005-10-02 17:37:39 UTC (rev 533)
@@ -0,0 +1,31 @@
+// Simple XML serialization
+using System;
+using System.IO;
+using System.Xml.Serialization;
+using libmonotimer;
+using Control;
+
+
+public class MyObject {
+	public int X;
+	public int Y;
+
+	public MyObject() {
+	}
+
+	public MyObject(int x, int y) {
+		this.X = x;
+		this.Y = y;
+	}    
+
+	public static void Main(string[] args)
+	{
+		Project p1 = Project.Instance;
+		p1.Name = "Proyecto 1";
+		Console.WriteLine ("OK");
+		using (FileStream fs = new FileStream("test.xml", FileMode.Create)) {        
+			XmlSerializer serializer = new XmlSerializer(p1.GetType()); 
+			serializer.Serialize(Console.Out, p1);     
+		}
+     }
+}

Added: Cronus/pruebas/testXML.cs
===================================================================
--- Cronus/pruebas/testXML.cs	2005-10-02 02:07:23 UTC (rev 532)
+++ Cronus/pruebas/testXML.cs	2005-10-02 17:37:39 UTC (rev 533)
@@ -0,0 +1,28 @@
+// Simple XML serialization
+using System;
+using System.IO;
+using System.Xml.Serialization;
+
+public class MyObject {
+    public int X;
+    public int Y;
+
+    public MyObject() {
+    }
+
+    public MyObject(int x, int y) {
+        this.X = x;
+        this.Y = y;
+    }    
+
+     public static void Main(string[] args)
+     {
+          MyObject[] array = new MyObject[2];
+	  array[0] = new MyObject (5, 8);
+	  array[1] = new MyObject (12, 3);
+          using (FileStream fs = new FileStream("test.xml", FileMode.Create)) {        
+               XmlSerializer serializer = new XmlSerializer(array.GetType()); 
+               serializer.Serialize(Console.Out, array);     
+          }
+     }
+}



From nestor at berlios.de  Thu Oct  6 15:27:35 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Thu, 6 Oct 2005 15:27:35 +0200
Subject: [Mspace-checkins] r534 - / BabuineComponentBuilder
Message-ID: <200510061327.j96DRZ23023153@sheep.berlios.de>

Author: nestor
Date: 2005-10-06 15:27:35 +0200 (Thu, 06 Oct 2005)
New Revision: 534

Added:
   BabuineComponentBuilder/
   BabuineComponentBuilder/branches/
   BabuineComponentBuilder/releases/
   BabuineComponentBuilder/trunk/
Log:
Nuevo proyecto iniciado.

Se trata de un tipo de ayuda para autogenerar los esqueletos de los componentes.

Es probable incluso la inclusi?\195?\179n de un AddOnn para Monodevelop (?\194?\191??\194?\191?)




From nestor at berlios.de  Thu Oct  6 15:41:46 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Thu, 6 Oct 2005 15:41:46 +0200
Subject: [Mspace-checkins] r535 - in BabuineComponentBuilder/trunk: . lib
Message-ID: <200510061341.j96Dfk3I024477@sheep.berlios.de>

Author: nestor
Date: 2005-10-06 15:41:46 +0200 (Thu, 06 Oct 2005)
New Revision: 535

Added:
   BabuineComponentBuilder/trunk/BabuineComponentBuilder.build
   BabuineComponentBuilder/trunk/lib/
   BabuineComponentBuilder/trunk/lib/components/
   BabuineComponentBuilder/trunk/resources/
   BabuineComponentBuilder/trunk/src/
Log:


Added: BabuineComponentBuilder/trunk/BabuineComponentBuilder.build
===================================================================
--- BabuineComponentBuilder/trunk/BabuineComponentBuilder.build	2005-10-06 13:27:35 UTC (rev 534)
+++ BabuineComponentBuilder/trunk/BabuineComponentBuilder.build	2005-10-06 13:41:46 UTC (rev 535)
@@ -0,0 +1,147 @@
+<?xml version="1.0" encoding="utf-8"?>
+
+<!--
+    (c) N?stor Salceda & Sergio Rubio  (Monkey Space Developers)
+    File: 
+        nant.xml
+    Description:
+        base nant file template for automate basic task deployment.
+
+      INSERTAR LA WEB DE MONKEY SPACE Y TAL  
+-->
+
+<project basedir="." default="build" name="Monkey Space -- Component Model">
+<!-- Properties -->
+    <!--
+        PENSAR LAS PROPIEDADES Y PONERLAS
+        DEBER?N SER AS? COMO VARIABLES QUE SOLO HAYA QUE CAMBIAR
+        PARA ADAPTAR EL COMPONENTE.  EL RESTO DE CONFIGURACI?N Y COMPILACI?N
+        SER? IGUAL.
+    -->
+   
+    <property name="nant.settings.currentframework" value="mono-1.0"/>
+   
+    <!--Configuracion (Igual ser?a recomendable que coincidieran con el
+    manifiesto del ensamblado)-->
+    <property name="version" value="0.1"/>
+    <property name="description" value="A Little Bulder for Babuine Components"/>
+    <property name="component_name" value="ComponentBuilder"/> 
+    
+    <!-- Directory Tree--> 
+    <!-- Localizacion de dependencias -->
+    <property name="src" value="src"/>
+    <property name="lib" value="lib"/>
+    <!-- Other mspace components -->
+    <property name="components" value="lib/components"/>
+    <property name="doc" value="doc"/>
+    <property name="resources" value="resources"/>
+        <!--Aqui se guardar?n los ejecutables generados-->
+    <property name="bin" value="bin"/>
+
+<!-- Targets -->
+
+    <!-- Elimina los ficheros existentes en bin y en doc -->
+    <target name="clean">
+        <delete dir="${bin}" if="${directory::exists(bin)}" failonerror="false"/> 
+        <delete dir="${doc}" if="${directory::exists(doc)}" failonerror="false"/> 
+        <tstamp/>
+    </target>
+
+    <!-- Crea una nueva jerarquia con bin y doc para la compilaci?n -->
+    <target name="create-skeleton" depends="clean">
+        <mkdir dir="${bin}"/>
+        <mkdir dir="${doc}"/>
+        <tstamp/>
+    </target>
+    
+    <!-- Compila el componente y lo guarda en bin -->
+    <target name="build" depends="create-skeleton">
+        <csc target="library" output="${bin}/${component_name}.dll" debug="true"
+        verbose="false">
+            <sources basedir="${src}">
+                <include name="**/*.cs"/>
+            </sources>
+            <references>
+                <include name="**/${lib}/*.dll"/>
+                <include name="**/${lib}/components/*.dll"/>
+            </references>
+        </csc>
+        <tstamp/>
+    </target>
+
+    <!-- Ejecuta el componente (Lo compila como un exe y luego lo ejecuta) -->
+    <!-- En este caso solo deber? ejecutar los test de unidad-->
+    <target name="run" depends="build">
+        <csc target="winexe" output="${bin}/${component_name}.exe" debug="true"
+        verbose="false">
+            <sources basedir="${src}">
+                <include name="**/*.cs"/>
+            </sources>
+            <references>
+                <include name="**/${lib}/*.dll"/>
+                <include name="**/${lib}/components/*.dll"/>
+                <include name="**/${bin}/*.dll"/>    
+            </references>
+        </csc>
+        <exec program="${bin}/{component_name}.exe" useruntimeengine="true"
+        verbose = "false">
+            <!-- Esto se queda ahi temporalmente, se deber? hacer que se meta a
+            resources/ComponentModelTest.xml-->
+            <environment>
+                <variable name="MONO_PATH">
+                    <path>
+                        <pathelement file="${lib}"/>
+                        <pathelement file="${components}"/>
+                        <pathelement file="${bin}"/>
+                    </path>
+                </variable>
+            </environment>
+        </exec>
+        <tstamp/>
+    </target>
+
+    <!-- Por defecto compilar? el componente y escribir? la documentaci?n-->
+    <target name="all" depends="build,doc">
+        <tstamp/>
+    </target>
+
+    <!-- Documenta el componente y lo guarda en doc-->
+    <target name="doc" depends="build">
+        <tstamp/>
+    </target>
+
+    <!-- Ayuda sobre este fichero -->
+    <target name="usage">
+        <echo>
+            Monkey Space NAnt buildfile for component 
+            ${component_name} version ${version}.
+
+            Component's Description:
+                ${description}
+
+            Available task:
+                
+                -all
+                    Compile, and creates binary files.
+
+                -doc
+                    Creates documentation.  ?Monodoc or ndoc?
+
+                -clean
+                    Delete component binaries.
+                
+                -run
+                    Runs the application.
+               
+                -build
+                    Build component.
+               
+                -all
+                    Builds component and document it.
+                
+                -usage
+                    Show this help.
+        </echo>
+        <tstamp/>
+    </target>
+</project>



From nestor at berlios.de  Thu Oct  6 15:46:57 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Thu, 6 Oct 2005 15:46:57 +0200
Subject: [Mspace-checkins] r536 - in ComponentModel/trunk: . src/ComponentModel/Container src/ComponentModel/Container/Dao
Message-ID: <200510061346.j96DkvVv024946@sheep.berlios.de>

Author: nestor
Date: 2005-10-06 15:46:56 +0200 (Thu, 06 Oct 2005)
New Revision: 536

Modified:
   ComponentModel/trunk/ComponentModel.build
   ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs
   ComponentModel/trunk/src/ComponentModel/Container/DefaultContainer.cs
Log:
Optimizacion en la b?\195?\186squeda de tipos.
    No realizar?\195?\161 una b?\195?\186squeda en ensamblados como mscorlib (est?\195?\161 claro que ahi
    no va a existir ning?\195?\186n componente)
    Tampoco realizar?\195?\161 b?\195?\186squeda en ning?\195?\186n ensamblado que empiece como ^System



Modified: ComponentModel/trunk/ComponentModel.build
===================================================================
--- ComponentModel/trunk/ComponentModel.build	2005-10-06 13:41:46 UTC (rev 535)
+++ ComponentModel/trunk/ComponentModel.build	2005-10-06 13:46:56 UTC (rev 536)
@@ -23,7 +23,7 @@
    
     <!--Configuracion (Igual ser?a recomendable que coincidieran con el
     manifiesto del ensamblado)-->
-    <property name="version" value="0.1"/>
+    <property name="version" value="0.2"/>
     <property name="description" value="MSpace Component Model for develop
     Components"/>
     <property name="component_name" value="ComponentModel"/> 

Modified: ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs	2005-10-06 13:41:46 UTC (rev 535)
+++ ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs	2005-10-06 13:46:56 UTC (rev 536)
@@ -59,6 +59,16 @@
         public ICollection ProcessAssembly (Assembly assembly) {
             logger.Debug ("Assembly to Process: " + assembly.FullName);
             ArrayList list = new ArrayList ();
+            //VAmos a comprobar que no se procesen ensamblados que sean del
+            //core.
+            
+            if (assembly.FullName.StartsWith ("mscorlib") ||
+                assembly.FullName.StartsWith ("System")
+                    ) {
+                logger.Debug ("Core Assembly detected: " + assembly.FullName);
+                return list;
+            }
+            
             Type[] types = assembly.GetTypes ();
             //TODO filter with memberfilter :)
             for (int i = 0; i < types.Length; i++) {

Modified: ComponentModel/trunk/src/ComponentModel/Container/DefaultContainer.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Container/DefaultContainer.cs	2005-10-06 13:41:46 UTC (rev 535)
+++ ComponentModel/trunk/src/ComponentModel/Container/DefaultContainer.cs	2005-10-06 13:46:56 UTC (rev 536)
@@ -47,13 +47,14 @@
             //Antes de nada, cargar los ensamblados que se encuentren en el
             //MONO_PATH
             this.LoadAssembliesInPath ();
+            
             //Getting data from assembly resolv.
             componentHashtable = new Hashtable ();
             //En cada ensamblado, cargar? el / los componente y lo registrar? con el
             //nombre que se le ha dado al atributo.
             GetAllComponents (); 
         }
-
+        
         private void LoadAssembliesInPath () {
             //Get el path
             string monoPathEnvironment = Environment.GetEnvironmentVariable ("MONO_PATH");



From luis at berlios.de  Wed Oct 12 13:38:19 2005
From: luis at berlios.de (Luis Bosque at BerliOS)
Date: Wed, 12 Oct 2005 13:38:19 +0200
Subject: [Mspace-checkins] r537 - in Cronus: . GTKViews Views draft libmonotimer
Message-ID: <200510121138.j9CBcJw6003158@sheep.berlios.de>

Author: luis
Date: 2005-10-12 13:38:17 +0200 (Wed, 12 Oct 2005)
New Revision: 537

Added:
   Cronus/GTKViews/
   Cronus/GTKViews/MainView.cs
   Cronus/GTKViews/data/
   Cronus/WFViews/
   Cronus/draft/
   Cronus/draft/Communication.cs
   Cronus/libmonotimer/Dto.cs
   Cronus/libmonotimer/ISource.cs
   Cronus/libmonotimer/RPCSource.cs
   Cronus/libmonotimer/SourcesFactory.cs
   Cronus/libmonotimer/XMLSource.cs
Removed:
   Cronus/Views/MainView.cs
   Cronus/data/
   Cronus/libmonotimer/Communication.cs
   Cronus/libmonotimer/Source.cs
Modified:
   Cronus/Makefile
   Cronus/libmonotimer/Project.cs
Log:
Cambios varios en la estructura basica de la aplicacion.


Copied: Cronus/GTKViews/MainView.cs (from rev 536, Cronus/Views/MainView.cs)

Copied: Cronus/GTKViews/data (from rev 536, Cronus/data)

Modified: Cronus/Makefile
===================================================================
--- Cronus/Makefile	2005-10-06 13:46:56 UTC (rev 536)
+++ Cronus/Makefile	2005-10-12 11:38:17 UTC (rev 537)
@@ -3,10 +3,12 @@
 
 SOURCES = \
 ./libmonotimer/Project.cs \
-./libmonotimer/Communication.cs \
+./libmonotimer/ISource.cs \
+./libmonotimer/SourcesFactory.cs \
+./libmonotimer/XMLSource.cs \
+./libmonotimer/RPCSource.cs \
 ./Control/Controller.cs \
-./Views/MainView.cs \
-./pruebas/Serializer.cs \
+./GTKViews/MainView.cs \
 
 PKG_REFERENCES = \
 gnome-sharp \

Deleted: Cronus/Views/MainView.cs
===================================================================
--- Cronus/Views/MainView.cs	2005-10-06 13:46:56 UTC (rev 536)
+++ Cronus/Views/MainView.cs	2005-10-12 11:38:17 UTC (rev 537)
@@ -1,105 +0,0 @@
-/* Monotimer
- * Copyright (C) 2003 GNOME Foundation
- *
- * AUTHORS:
- *      Luis Bosque <luis.bosque at hispalinux.es>
- *
- * This Library is free software; you can redistribute it and/or
- * modify it under the terms of the GNU Library General Public License as
- * published by the Free Software Foundation; either version 2 of the
- * License, or (at your option) any later version.
- *
- * This Library is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * Library General Public License for more details.
- *
- * You should have received a copy of the GNU Library General Public
- * License along with this Library; see the file COPYING.LIB.  If not,
- * write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330,
- * Boston, MA 02111-1307, USA.
- */
-
-using Gtk;
-using GLib;
-using Glade;
-using System;
-using libmonotimer;
-using Control;
-using System.Threading;
-
-namespace Views{
-
-public class MainView{
-	
-	[Glade.Widget] private Gtk.Window main;
-	[Glade.Widget] private Gtk.Button btnOK;
-	[Glade.Widget] private Gtk.Button btnLoad;
-	[Glade.Widget] private Gtk.Label label1;
-	[Glade.Widget] private Gtk.TextView lista_proy;
-	[Glade.Widget] private Gtk.Entry id_proy;
-	[Glade.Widget] private Gtk.Entry name_proy;
-	Gtk.TextBuffer buffer;
-	
-	Controller app;
-	int counter;
-	
-	public void deleteEventCb (object o, DeleteEventArgs args) {
-		Application.Quit ();
-	}
-
-	public void OKButtonCb (object o, EventArgs args) {
-		print("ok");
-		label1.Text = "OK";
-		//app.incCounter();
-		//System.Threading.Thread counter = new System.Threading.Thread ( new ThreadStart (app.StartTimer) );
-		//counter.Start ();
-		
-		//app.StartTimer ();
-	}
-		
-	public void LoadButtonCb (object o, EventArgs args) {
-		print("Project Loaded");
-	}
-		
-	public MainView(Controller app){
-		this.app = app;
-		Glade.XML gxml;
-		gxml = new Glade.XML("./data/main.glade","main",null);
-		gxml.Autoconnect(this);
-		System.Console.WriteLine("Vista creada");
-		counter = 0;
-		buffer = lista_proy.Buffer;
-		
-		if (main == null){
-			print("Ventana principal [NULL]");
-		}
-		if (btnOK == null){
-			print("btnOK [NULL]");
-		}
-		
-		
-		app.timer += new EventHandler (OnTimer);
-		
-		
-		main.DeleteEvent += new DeleteEventHandler (deleteEventCb);
-		btnOK.Clicked += new EventHandler (OKButtonCb);
-		btnLoad.Clicked += new EventHandler (LoadButtonCb);
-	}
-
-	public void print (string texto){
-		Console.WriteLine(texto);
-	}
-
-	public void OnTimer (object sender, EventArgs args) {
-		counter++;
-		label1.Text = counter.ToString();;
-	}
-
-
-}
-
-
-
-
-}

Copied: Cronus/draft/Communication.cs (from rev 536, Cronus/libmonotimer/Communication.cs)

Deleted: Cronus/libmonotimer/Communication.cs
===================================================================
--- Cronus/libmonotimer/Communication.cs	2005-10-06 13:46:56 UTC (rev 536)
+++ Cronus/libmonotimer/Communication.cs	2005-10-12 11:38:17 UTC (rev 537)
@@ -1,31 +0,0 @@
-using System;
-using CookComputing.XmlRpc;
-using System.Security.Cryptography;
-using System.Text;
-using Control;
-
-namespace libmonotimer {
-	
-	[XmlRpcUrl("http://fragg.homeip.net/phpcollab/xmlrpc_server.php")]
-	interface IStateName
-	{
-		[XmlRpcMethod("phpcollab.timeControl")]
-		CollabProject[] timeControl (string usuario, string pass); 
-	}
-	
-	public class Communication {
-		
-		public static CollabProject[] login (string name, string password) {		
-			IStateName proxy = (IStateName)XmlRpcProxyGen.Create(typeof(IStateName));	
-			CollabProject[] valor = proxy.timeControl (name, password);
-			foreach ( CollabProject i in valor ) {
-				Console.WriteLine (i.id);
-				Console.WriteLine (i.nombre);
-			}
-			return valor;
-		}
-		
-	
-	}
-		
-}

Added: Cronus/libmonotimer/Dto.cs
===================================================================
--- Cronus/libmonotimer/Dto.cs	2005-10-06 13:46:56 UTC (rev 536)
+++ Cronus/libmonotimer/Dto.cs	2005-10-12 11:38:17 UTC (rev 537)
@@ -0,0 +1,11 @@
+namespace libmonotimer {
+	class Dto {
+		string src;
+		
+		public string Src {
+			get {
+				return src;
+			}
+		}
+	}
+}

Added: Cronus/libmonotimer/ISource.cs
===================================================================
--- Cronus/libmonotimer/ISource.cs	2005-10-06 13:46:56 UTC (rev 536)
+++ Cronus/libmonotimer/ISource.cs	2005-10-12 11:38:17 UTC (rev 537)
@@ -0,0 +1,16 @@
+namespace libmonotimer
+{
+	/* This interface must be implemented by all the kind of Sources working in the application.
+	 * For example:
+	 * 	A XML source must implement all this functions to work with a local file.
+	 * 	A XML-RPC source must implement all this functions in order to work remotely.
+	*/
+	public interface ISource {
+		SProject[] getProjects ();
+		Project loadProject ();
+		bool saveProject ();
+	}
+}
+
+
+

Modified: Cronus/libmonotimer/Project.cs
===================================================================
--- Cronus/libmonotimer/Project.cs	2005-10-06 13:46:56 UTC (rev 536)
+++ Cronus/libmonotimer/Project.cs	2005-10-12 11:38:17 UTC (rev 537)
@@ -25,6 +25,11 @@
 namespace libmonotimer
 {
 
+	struct SProject {
+		int id;
+		string name;
+	}
+	
 	public class Crono {
 		public int counter = 0;
 		public Timer timer;

Added: Cronus/libmonotimer/RPCSource.cs
===================================================================
--- Cronus/libmonotimer/RPCSource.cs	2005-10-06 13:46:56 UTC (rev 536)
+++ Cronus/libmonotimer/RPCSource.cs	2005-10-12 11:38:17 UTC (rev 537)
@@ -0,0 +1,17 @@
+namespace libmonotimer
+{
+	public class RPCSource : ISource {
+
+		SProject[] getProjects () {
+		
+		}
+		
+		Project loadProject () {
+		
+		}
+		
+		bool saveProject () {
+		
+		}
+	}
+}

Deleted: Cronus/libmonotimer/Source.cs
===================================================================
--- Cronus/libmonotimer/Source.cs	2005-10-06 13:46:56 UTC (rev 536)
+++ Cronus/libmonotimer/Source.cs	2005-10-12 11:38:17 UTC (rev 537)
@@ -1,52 +0,0 @@
-using System;
-
-namespace libmonotimer
-{
-	public interface ISource {
-		void GetName ();
-	}
-
-
-	public class SourceXML : ISource {
-		public void GetName () {
-			Console.WriteLine ("Soy un Source de tipo XML");
-		}	
-	}
-
-	public class SourceRemote : ISource {
-		public void GetName () {
-			Console.WriteLine ("Soy un Source de tipo XML");
-		}	
-	}
-
-
-	public class Factory {
-		public ISource GetObject (int type){
-			ISource source = null;
-			switch (type) {
-				case 0:
-					source = new SourceXML ();
-					break;
-				case 1:
-					source = new SourceRemote ();
-					break;
-				default:
-					source = null;
-					break;
-			}
-			return source;
-		}
-	}
-
-	public class Launcher {
-		public static void Main () {
-			Factory factory = new Factory ();
-			ISource source = factory.GetObject (1);
-			source.GetName ();
-		}
-	}
-	
-}
-
-
-

Added: Cronus/libmonotimer/SourcesFactory.cs
===================================================================
--- Cronus/libmonotimer/SourcesFactory.cs	2005-10-06 13:46:56 UTC (rev 536)
+++ Cronus/libmonotimer/SourcesFactory.cs	2005-10-12 11:38:17 UTC (rev 537)
@@ -0,0 +1,21 @@
+using System;
+
+namespace libmonotimer
+{
+	/* Depending on the parameters passed to the GetObjetc function, the factory will return
+	 * the proper source.
+	 */
+
+	public class Factory {
+		
+		public ISource GetObject (string url, string login, string password) {
+			ISource source = new RPCSource ();
+			return source;
+		}
+
+		public ISource GetObjetc (string path) {
+			ISource source = new XMLSource ();
+			return source;
+		}
+	}
+}

Added: Cronus/libmonotimer/XMLSource.cs
===================================================================
--- Cronus/libmonotimer/XMLSource.cs	2005-10-06 13:46:56 UTC (rev 536)
+++ Cronus/libmonotimer/XMLSource.cs	2005-10-12 11:38:17 UTC (rev 537)
@@ -0,0 +1,21 @@
+namespace libmonotimer
+{
+	public class XMLSource : ISource {
+
+		SProject[] getProjects () {
+		
+		}
+		
+		Project loadProject () {
+		
+		}
+		
+		bool saveProject () {
+		
+		}
+		
+	}
+}
+
+
+



From luis at berlios.de  Wed Oct 12 13:55:05 2005
From: luis at berlios.de (Luis Bosque at BerliOS)
Date: Wed, 12 Oct 2005 13:55:05 +0200
Subject: [Mspace-checkins] r538 - in Cronus: . libmonotimer
Message-ID: <200510121155.j9CBt5j8012839@sheep.berlios.de>

Author: luis
Date: 2005-10-12 13:54:59 +0200 (Wed, 12 Oct 2005)
New Revision: 538

Removed:
   Cronus/Views/
   Cronus/libmonotimer/Dto.cs
Log:


Deleted: Cronus/libmonotimer/Dto.cs
===================================================================
--- Cronus/libmonotimer/Dto.cs	2005-10-12 11:38:17 UTC (rev 537)
+++ Cronus/libmonotimer/Dto.cs	2005-10-12 11:54:59 UTC (rev 538)
@@ -1,11 +0,0 @@
-namespace libmonotimer {
-	class Dto {
-		string src;
-		
-		public string Src {
-			get {
-				return src;
-			}
-		}
-	}
-}



From luis at berlios.de  Fri Oct 14 00:58:42 2005
From: luis at berlios.de (Luis Bosque at BerliOS)
Date: Fri, 14 Oct 2005 00:58:42 +0200
Subject: [Mspace-checkins] r539 - in Cronus: Control libmonotimer
Message-ID: <200510132258.j9DMwg1d004544@sheep.berlios.de>

Author: luis
Date: 2005-10-14 00:58:41 +0200 (Fri, 14 Oct 2005)
New Revision: 539

Modified:
   Cronus/Control/Controller.cs
   Cronus/libmonotimer/ISource.cs
   Cronus/libmonotimer/SourcesFactory.cs
   Cronus/libmonotimer/XMLSource.cs
Log:


Modified: Cronus/Control/Controller.cs
===================================================================
--- Cronus/Control/Controller.cs	2005-10-12 11:54:59 UTC (rev 538)
+++ Cronus/Control/Controller.cs	2005-10-13 22:58:41 UTC (rev 539)
@@ -26,24 +26,14 @@
 
 namespace Control{
 
-	
-	public struct CollabProject {
-		public int id;
-		public string nombre;
-	}
-	
 	public sealed class Controller{
 	
 		private Project CurrentProject;
-		
-		CollabProject[] Array_Projects;
+		private SProject[] projects;	
 		public event EventHandler timer;
 		
-		public Controller(string login, string password) {
-			
-			Array_Projects = Communication.login (login, password);
-			if (Array_Projects.Length == 0)
-				Console.WriteLine ("Autenticacion fallida");
+		public Controller(string[] args) {
+			projects = Factory.GetObject (args);
 		}	
 	}
 	

Modified: Cronus/libmonotimer/ISource.cs
===================================================================
--- Cronus/libmonotimer/ISource.cs	2005-10-12 11:54:59 UTC (rev 538)
+++ Cronus/libmonotimer/ISource.cs	2005-10-13 22:58:41 UTC (rev 539)
@@ -8,7 +8,7 @@
 	public interface ISource {
 		SProject[] getProjects ();
 		Project loadProject ();
-		bool saveProject ();
+		void saveProject (SProject[] projects);
 	}
 }
 

Modified: Cronus/libmonotimer/SourcesFactory.cs
===================================================================
--- Cronus/libmonotimer/SourcesFactory.cs	2005-10-12 11:54:59 UTC (rev 538)
+++ Cronus/libmonotimer/SourcesFactory.cs	2005-10-13 22:58:41 UTC (rev 539)
@@ -8,14 +8,21 @@
 
 	public class Factory {
 		
-		public ISource GetObject (string url, string login, string password) {
-			ISource source = new RPCSource ();
+		ISource source;
+		
+		public static ISource GetObject (string[] args) {
+			switch (args.Length) {
+				case 1:
+					source = new XMLSource ();
+					break;
+				case 3:
+					source = new RPCSource ();
+					break;
+				default:
+					source = null;
+			}
 			return source;
 		}
 
-		public ISource GetObjetc (string path) {
-			ISource source = new XMLSource ();
-			return source;
-		}
 	}
 }

Modified: Cronus/libmonotimer/XMLSource.cs
===================================================================
--- Cronus/libmonotimer/XMLSource.cs	2005-10-12 11:54:59 UTC (rev 538)
+++ Cronus/libmonotimer/XMLSource.cs	2005-10-13 22:58:41 UTC (rev 539)
@@ -1,3 +1,6 @@
+using System.XML;
+using System.IO;
+
 namespace libmonotimer
 {
 	public class XMLSource : ISource {
@@ -2,4 +5,15 @@
 
+		string filename;
+
+		public XMLSource (string filename) {
+			this.filename = filename;
+			loadProject ();
+		}
+
 		SProject[] getProjects () {
-		
+			SProject[] projects;
+			XmlSerializer serializer = new XmlSerializer (projects.getType ());
+			FileStream stream = new FileStream (FileMode.Open, FileAccess.Read);
+			projects = (SProject[]) serializer.Deserialize (stream);
+			return projects;
 		}
@@ -10,8 +24,10 @@
 		
 		}
 		
-		bool saveProject () {
-		
+		void saveProject (SProject[] projects) {
+			XmlSerializer serializer = new XmlSerializer (projets.getType ());
+			FileStream stream = new FileStream (this.filename, FileMode.Create);
+			serializer.Serialize (stream, projects);
 		}
 		
 	}



From nestor at berlios.de  Sun Oct 16 18:05:44 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Sun, 16 Oct 2005 18:05:44 +0200
Subject: [Mspace-checkins] r540 - in ComponentModel/trunk/src/ComponentModel: . Collections Container/Dao
Message-ID: <200510161605.j9GG5ijW024352@sheep.berlios.de>

Author: nestor
Date: 2005-10-16 18:05:44 +0200 (Sun, 16 Oct 2005)
New Revision: 540

Modified:
   ComponentModel/trunk/src/ComponentModel/Collections/IViewHandlerCollection.cs
   ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs
   ComponentModel/trunk/src/ComponentModel/DefaultComponentModel.cs
Log:


Modified: ComponentModel/trunk/src/ComponentModel/Collections/IViewHandlerCollection.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Collections/IViewHandlerCollection.cs	2005-10-13 22:58:41 UTC (rev 539)
+++ ComponentModel/trunk/src/ComponentModel/Collections/IViewHandlerCollection.cs	2005-10-16 16:05:44 UTC (rev 540)
@@ -52,8 +52,6 @@
             arrayList.CopyTo (array, index);
         }
 
-
-        //IViewHandler enumerator please.
         public IViewHandlerEnumerator GetEnumerator () {
             return new IViewHandlerEnumerator (this);
         }

Modified: ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs	2005-10-13 22:58:41 UTC (rev 539)
+++ ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs	2005-10-16 16:05:44 UTC (rev 540)
@@ -66,6 +66,7 @@
                 assembly.FullName.StartsWith ("System")
                     ) {
                 logger.Debug ("Core Assembly detected: " + assembly.FullName);
+                logger.Info ("* SKIPPING * Core Assembly: " + assembly.FullName);
                 return list;
             }
             

Modified: ComponentModel/trunk/src/ComponentModel/DefaultComponentModel.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/DefaultComponentModel.cs	2005-10-13 22:58:41 UTC (rev 539)
+++ ComponentModel/trunk/src/ComponentModel/DefaultComponentModel.cs	2005-10-16 16:05:44 UTC (rev 540)
@@ -27,6 +27,7 @@
 using ComponentModel.ExceptionManager;
 using ComponentModel.Threading;
 using ComponentModel.Exceptions;
+using ComponentModel.Collections;
 using NLog;
 
 namespace ComponentModel {
@@ -39,7 +40,13 @@
         private IExceptionManager defaultExceptionManager;
 
         private VirtualMethod virtualMethod;
+        private IViewHandlerCollection viewHandlerCollection;
 
+        public IViewHandlerCollection ViewHandlerCollection {
+            get {return viewHandlerCollection;}
+            set {viewHandlerCollection = value;}
+        }
+        
         public VirtualMethod VirtualMethod {
             get {return virtualMethod;}
             set {virtualMethod = value;}
@@ -58,6 +65,7 @@
         //Ctor
         protected DefaultComponentModel () {
             logger.Debug ("Executing ctor for: " + this.GetType ().FullName);
+            viewHandlerCollection = new IViewHandlerCollection ();
         }
       
         private Type GetTypeExceptionManager (string exceptionManagerClassName) {
@@ -84,7 +92,7 @@
         private MethodInfo GetMethodToExecute (string methodName, object[] parameters, Type componentType) {
             //Precondition: methodName != null && methodName != String.Empty &&
             //componentType != null
-            logger.Debug ("Entering GetMethodToExecute.  Searching " + methodName + "in: " + componentType.ToString ());
+            logger.Debug ("Entering GetMethodToExecute.  Searching " + methodName + " in: " + componentType.ToString ());
             Type[] typeParam = Type.EmptyTypes;
             if (parameters != null) {
                 typeParam = new Type[parameters.Length];



From nestor at berlios.de  Mon Oct 17 09:35:35 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Mon, 17 Oct 2005 09:35:35 +0200
Subject: [Mspace-checkins] r541 - in ComponentModel/trunk: . src/ComponentModel src/ComponentModel/Container src/ComponentModel/Dto src/ComponentModel/Factory src/ComponentModel/Interfaces src/ComponentModel/Threading src/ComponentModel/VO src/UnitTest/Components/TestComponent
Message-ID: <200510170735.j9H7ZZXJ016791@sheep.berlios.de>

Author: nestor
Date: 2005-10-17 09:35:33 +0200 (Mon, 17 Oct 2005)
New Revision: 541

Added:
   ComponentModel/trunk/src/ComponentModel/Dto/ComponentModelDTO.cs
   ComponentModel/trunk/src/ComponentModel/Dto/ResponseMethodDTO.cs
   ComponentModel/trunk/src/ComponentModel/Factory/FactoryDTO.cs
   ComponentModel/trunk/src/ComponentModel/Interfaces/IComponentModelDTO.cs
Removed:
   ComponentModel/trunk/src/ComponentModel/Interfaces/IComponentModelVO.cs
Modified:
   ComponentModel/trunk/TODO
   ComponentModel/trunk/src/ComponentModel/Container/DefaultContainer.cs
   ComponentModel/trunk/src/ComponentModel/DefaultComponentModel.cs
   ComponentModel/trunk/src/ComponentModel/Factory/FactoryVO.cs
   ComponentModel/trunk/src/ComponentModel/Interfaces/IComponentModel.cs
   ComponentModel/trunk/src/ComponentModel/Interfaces/IContainer.cs
   ComponentModel/trunk/src/ComponentModel/Interfaces/IVO.cs
   ComponentModel/trunk/src/ComponentModel/Threading/ComponentActionDispatcher.cs
   ComponentModel/trunk/src/ComponentModel/VO/ComponentModelVO.cs
   ComponentModel/trunk/src/ComponentModel/VO/ResponseMethodVO.cs
   ComponentModel/trunk/src/UnitTest/Components/TestComponent/TestComponentUnit.cs
Log:
Est?\195?\161 a mitad el cambio de Api.

Ahora solo falta el DefaultContainerDao y poco m?\195?\161s para tener todo con DTO. 
(Fucking CORE j2ee patterns ?\194?\172?\194?\172)


Modified: ComponentModel/trunk/TODO
===================================================================
--- ComponentModel/trunk/TODO	2005-10-16 16:05:44 UTC (rev 540)
+++ ComponentModel/trunk/TODO	2005-10-17 07:35:33 UTC (rev 541)
@@ -6,14 +6,20 @@
   sobrecarga de casos de uso seg??n la firma.  Esto es sencillo de arreglar.
   Hay una implementaci??n de referencia sin testear.
 
+    DONE!
+    
 * Implementaci??n de un ViewCache, almacenando todas las vistas de un componente;
   poder acceder as?? a cada una de ellas.  Ser?? as?? un modo de tener un Proxy en
   cada componente que pueda autogestionar sus vistas; y en caso necesario poder
   conseguir nosotros a una vista asociada a un componente.
 
+    DONE! (Think at 70%)
+    
 * Implementaci??n de m??todos para conseguir la devoluci??n de Propiedades que
   tenga un componente.
 
+    DONE! 
+    
 * Mejora de la concurrencia de un componente, varios accesos; varias llamadas,
   respuestas y esperas.
 
@@ -25,13 +31,19 @@
 * Problemas de nomenclatura; deprecar el interface IVO, dado que no es
   estrictamente un Value Object.  Sustituir por IDataTransferObject.
 
+    DONE! (Think at 50%) -- Only Refactor Now.
+    
 * El interface de la vista, dejar?? de estar vacio; para implementar 3 m??todos
   que se suelen utilizar en las vistas siempre, esto es GetDataForm,
   LoadDataForm y ClearForm.
 
+    DONE!
+
 * Preejecuci??n y postejecuci??n; con m??todos virtuales e implementaci??n de
   callbacks.
 
 * ????????? Uso de delegates para poder responder a varios responses de golpe.
 
 * Dejar de hacer los test a pelo !! Uso intensivo de NUnit para ello.
+    
+    DONE!

Modified: ComponentModel/trunk/src/ComponentModel/Container/DefaultContainer.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Container/DefaultContainer.cs	2005-10-16 16:05:44 UTC (rev 540)
+++ ComponentModel/trunk/src/ComponentModel/Container/DefaultContainer.cs	2005-10-17 07:35:33 UTC (rev 541)
@@ -25,7 +25,7 @@
 using ComponentModel.Interfaces;
 using ComponentModel.Container.Dao;
 using ComponentModel.Exceptions;
-using ComponentModel.VO;
+using ComponentModel.DTO;
 using NLog;
 
 
@@ -117,29 +117,29 @@
         }
 
         public void Add (IComponentModel component) {
-            componentHashtable.Add (component.VO.ComponentName, component);
-            logger.Info ("Registering component: " + component + " as Name: " + component.VO.ComponentName);
+            componentHashtable.Add (component.ComponentModelDTO.ComponentName, component);
+            logger.Info ("Registering component: " + component + " as Name: " + component.ComponentModelDTO.ComponentName);
         }
 
         public void Remove (IComponentModel component) {
-            componentHashtable.Remove (component.VO.ComponentName);
+            componentHashtable.Remove (component.ComponentModelDTO.ComponentName);
         }
 
         /*Servicio ejecutor*/
-        public ResponseMethodVO Execute (string componentName, string methodName, object[] parameters, bool redirect, IViewHandler viewHandler, bool block) {
+        public ResponseMethodDTO Execute (string componentName, string methodName, object[] parameters, bool redirect, IViewHandler viewHandler, bool block) {
             IComponentModel componentModel = this.GetComponentByName (componentName);
             return componentModel.Execute (methodName, parameters, redirect, viewHandler, block);
         }
 
-        public ResponseMethodVO Execute (string componentName, string methodName, object[] parameters, IViewHandler viewHandler) {
+        public ResponseMethodDTO Execute (string componentName, string methodName, object[] parameters, IViewHandler viewHandler) {
             return this.Execute (componentName, methodName, parameters, true, viewHandler, true);
         }       
 
-        public ResponseMethodVO Execute (string componentName, string methodName, object[] parameters, bool redirect) {
+        public ResponseMethodDTO Execute (string componentName, string methodName, object[] parameters, bool redirect) {
             return this.Execute (componentName, methodName, parameters, redirect, null, true);
         }
 
-        public ResponseMethodVO Execute (string componentName, string methodName, object[] parameters) {
+        public ResponseMethodDTO Execute (string componentName, string methodName, object[] parameters) {
             return this.Execute (componentName, methodName, parameters, true, null, true);
         }
     }

Modified: ComponentModel/trunk/src/ComponentModel/DefaultComponentModel.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/DefaultComponentModel.cs	2005-10-16 16:05:44 UTC (rev 540)
+++ ComponentModel/trunk/src/ComponentModel/DefaultComponentModel.cs	2005-10-17 07:35:33 UTC (rev 541)
@@ -1,6 +1,6 @@
 /*
 Babuine Component Model & Babuine Framework
-Copyright (C) 2005  N??stor Salceda Alonso
+Copyright (C) 2005  N?stor Salceda Alonso
 
 This library is free software; you can redistribute it and/or
 modify it under the terms of the GNU Lesser General Public
@@ -21,6 +21,7 @@
 using System.Reflection;
 using ComponentModel.Interfaces;
 using ComponentModel.VO;
+using ComponentModel.DTO;
 using ComponentModel.Container;
 using ComponentModel.Container.Dao;
 using ComponentModel.Factory;
@@ -35,7 +36,11 @@
         //Logging
         private Logger logger = LogManager.GetLogger ("ComponentModel.DefaultComponentModel");
         //Value object with information associated to component
+        [Obsolete ("This field is deprecated.")]
         private ComponentModelVO vO;
+        
+        private ComponentModelDTO componentModelDTO;
+        
         //Exception manager to process exceptions.
         private IExceptionManager defaultExceptionManager;
 
@@ -61,6 +66,10 @@
         public ComponentModelVO VO {
             get {return vO;}
         }
+
+        public ComponentModelDTO ComponentModelDTO {
+            get {return componentModelDTO;}
+        }
         
         //Ctor
         protected DefaultComponentModel () {
@@ -139,7 +148,8 @@
                 throw exception.InnerException;
             else {
                 if (this.defaultExceptionManager == null) {
-                    Type typeManager = this.GetTypeExceptionManager (this.VO.ExceptionManagerClassName);
+                    //Type typeManager = this.GetTypeExceptionManager (this.VO.ExceptionManagerClassName);
+                    Type typeManager = this.GetTypeExceptionManager (this.ComponentModelDTO.ExceptionManagerClassName);
                     this.defaultExceptionManager = (IExceptionManager) typeManager.GetConstructor (null).Invoke (null);
                 }
                 this.defaultExceptionManager.ProcessException (exception.InnerException);
@@ -179,76 +189,96 @@
         }
 
 
-        private ResponseMethodVO ExecuteRedirectNewView (MethodInfo methodToExecute, object[] parameters, Type viewType, MethodInfo methodToResponse) {
-            ResponseMethodVO responseMethodVO = FactoryVO.Instance.CreateResponseMethodVO (); 
+        private ResponseMethodDTO ExecuteRedirectNewView (MethodInfo methodToExecute, object[] parameters, Type viewType, MethodInfo methodToResponse) {
+            ResponseMethodDTO responseMethodDTO = (ResponseMethodDTO) FactoryDTO.Instance.Create (CreateDTO.ResponseMethod); 
             try {
                 object ret = methodToExecute.Invoke (this, parameters);
-                responseMethodVO.MethodResult = ret;
+                responseMethodDTO.MethodResult = ret;
                 object obj = viewType.GetConstructor (null).Invoke (null);
-                responseMethodVO.SetExecutionSuccess (true);
+                responseMethodDTO.SetExecutionSuccess (true);
                 if (VirtualMethod != null) {
-                    VirtualMethod (responseMethodVO);
+                    VirtualMethod (responseMethodDTO);
                     VirtualMethod = null;
                 }
-                methodToResponse.Invoke (obj, new object[] {responseMethodVO});
-                return responseMethodVO;
+                methodToResponse.Invoke (obj, new object[] {responseMethodDTO});
+                //Beta Implementation
+                //
+                //Siempre se va a a?adir esta vista puesto que es una vista
+                //nueva.
+                ViewHandlerCollection.Add ((IViewHandler)obj);
+                logger.Debug ("A new view has been added to View Cache.");
+                //
+                //End
+                return responseMethodDTO;
             }
             catch (TargetInvocationException exception) {
                 this.MapException (exception);
             }
-            return responseMethodVO;
+            return responseMethodDTO;
         }
 
-        private ResponseMethodVO ExecuteRedirectView (MethodInfo methodToExecute, object[] parameters, IViewHandler viewHandler, MethodInfo methodToResponse) {
-            ResponseMethodVO responseMethodVO =  FactoryVO.Instance.CreateResponseMethodVO ();
+        private ResponseMethodDTO ExecuteRedirectView (MethodInfo methodToExecute, object[] parameters, IViewHandler viewHandler, MethodInfo methodToResponse) {
+            ResponseMethodDTO responseMethodDTO = (ResponseMethodDTO) FactoryDTO.Instance.Create (CreateDTO.ResponseMethod);
             try {
                 object ret = methodToExecute.Invoke (this, parameters);
-                responseMethodVO.MethodResult = ret;
-                responseMethodVO.SetExecutionSuccess (true);
+                responseMethodDTO.MethodResult = ret;
+                responseMethodDTO.SetExecutionSuccess (true);
                 if (VirtualMethod != null) {
-                    VirtualMethod (responseMethodVO);
+                    VirtualMethod (responseMethodDTO);
                     VirtualMethod = null;
                 }
-                methodToResponse.Invoke (viewHandler, new object[] {responseMethodVO});
+                //Beta Implementation
+                //
+                if (!ViewHandlerCollection.Contains (viewHandler)) {
+                    ViewHandlerCollection.Add (viewHandler);
+                    logger.Debug ("A new view has been added to View Cache");
+                }
+                else {
+                    logger.Debug ("This view has already been registered at View Cache.");
+                }
+                //
+                //End
+                
+                methodToResponse.Invoke (viewHandler, new object[] {responseMethodDTO});
             }
             catch (TargetInvocationException exception) {
                 this.MapException (exception);
             }
-            return responseMethodVO;
+            return responseMethodDTO;
         }
         
-        private ResponseMethodVO ExecuteNoRedirect (MethodInfo methodToExecute, object[] parameters) {
-            ResponseMethodVO responseMethodVO = FactoryVO.Instance.CreateResponseMethodVO ();
+        private ResponseMethodDTO ExecuteNoRedirect (MethodInfo methodToExecute, object[] parameters) {
+            ResponseMethodDTO responseMethodDTO = (ResponseMethodDTO) FactoryDTO.Instance.Create (CreateDTO.ResponseMethod);
             try {
                 object ret = methodToExecute.Invoke (this, parameters);
-                responseMethodVO.MethodResult = ret;
-                responseMethodVO.SetExecutionSuccess (true);
+                responseMethodDTO.MethodResult = ret;
+                responseMethodDTO.SetExecutionSuccess (true);
                 if (VirtualMethod != null) {
-                    VirtualMethod (responseMethodVO);
+                    VirtualMethod (responseMethodDTO);
                     VirtualMethod = null;
                 }
             }
             catch (TargetInvocationException exception) {
                 this.MapException (exception);
             }
-            return responseMethodVO;
+            return responseMethodDTO;
         }
         
         /*Executor overloads*/
-        public ResponseMethodVO Execute (string methodName, object[] parameters) {
+        public ResponseMethodDTO Execute (string methodName, object[] parameters) {
             return this.Execute (methodName, parameters, true, null, true);
         }
         
-        public ResponseMethodVO Execute (string methodName, object[] parameters, bool redirect) {
+        public ResponseMethodDTO Execute (string methodName, object[] parameters, bool redirect) {
             return this.Execute (methodName, parameters, redirect, null, true);
         }
         
-        public ResponseMethodVO Execute (string methodName, object[] parameters, IViewHandler viewHandler) {
+        public ResponseMethodDTO Execute (string methodName, object[] parameters, IViewHandler viewHandler) {
             return this.Execute (methodName, parameters, true, viewHandler, true);
         }       
         
         /*Executor commander !*/
-        public ResponseMethodVO Execute (string methodName, object[] parameters, bool redirect, IViewHandler viewHandler, bool block) {
+        public ResponseMethodDTO Execute (string methodName, object[] parameters, bool redirect, IViewHandler viewHandler, bool block) {
             /*Existen cosas que siempre deben de buscarse*/
             MethodInfo methodToExecute = this.GetMethodToExecute (methodName, parameters); 
             ComponentMethodAttribute componentMethodAttribute = this.GetComponentAttributes (methodToExecute);
@@ -294,7 +324,7 @@
                         catch (TargetInvocationException exception) {
                             this.MapException (exception);
                         }
-                        return componentActionDispatcher.ResponseMethodVO;
+                        return componentActionDispatcher.ResponseMethodDTO;
                     }
                     else {
                         viewType = viewHandler.GetType ();
@@ -306,7 +336,7 @@
                         catch (TargetInvocationException exception) {
                             this.MapException (exception);
                         }
-                        return componentActionDispatcher.ResponseMethodVO;
+                        return componentActionDispatcher.ResponseMethodDTO;
                     }
                 }
                 else {
@@ -317,7 +347,7 @@
                     catch (TargetInvocationException exception) {
                         this.MapException (exception);
                     }
-                    return componentActionDispatcher.ResponseMethodVO;
+                    return componentActionDispatcher.ResponseMethodDTO;
                 }
             }
             //return null;

Added: ComponentModel/trunk/src/ComponentModel/Dto/ComponentModelDTO.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Dto/ComponentModelDTO.cs	2005-10-16 16:05:44 UTC (rev 540)
+++ ComponentModel/trunk/src/ComponentModel/Dto/ComponentModelDTO.cs	2005-10-17 07:35:33 UTC (rev 541)
@@ -0,0 +1,48 @@
+/*
+Babuine Component Model & Babuine Framework
+Copyright (C) 2005  N??stor Salceda Alonso
+
+This library is free software; you can redistribute it and/or
+modify it under the terms of the GNU Lesser General Public
+License as published by the Free Software Foundation; either
+version 2.1 of the License, or (at your option) any later version.
+
+This library is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+Lesser General Public License for more details.
+
+You should have received a copy of the GNU Lesser General Public
+License along with this library; if not, write to the Free Software
+Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+*/
+
+using System;
+using System.Collections;
+using ComponentModel.Interfaces;
+
+namespace ComponentModel.DTO {
+    public sealed class ComponentModelDTO : IComponentModelDTO {
+        private string componentName;
+        private string componentClassName;
+        private string exceptionManagerClassName;
+
+        internal ComponentModelDTO () {
+        }
+        
+        public string ExceptionManagerClassName {
+            get {return exceptionManagerClassName;}
+            set {exceptionManagerClassName = value;}
+        }
+        
+        public string ComponentClassName {
+            get {return componentClassName;}
+            set {componentClassName = value;}
+        }
+        
+        public string ComponentName {
+            get {return componentName;}
+            set {componentName = value;}
+        }
+    }
+}

Added: ComponentModel/trunk/src/ComponentModel/Dto/ResponseMethodDTO.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Dto/ResponseMethodDTO.cs	2005-10-16 16:05:44 UTC (rev 540)
+++ ComponentModel/trunk/src/ComponentModel/Dto/ResponseMethodDTO.cs	2005-10-17 07:35:33 UTC (rev 541)
@@ -0,0 +1,46 @@
+/*
+Babuine Component Model & Babuine Framework
+Copyright (C) 2005  N??stor Salceda Alonso
+
+This library is free software; you can redistribute it and/or
+modify it under the terms of the GNU Lesser General Public
+License as published by the Free Software Foundation; either
+version 2.1 of the License, or (at your option) any later version.
+
+This library is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+Lesser General Public License for more details.
+
+You should have received a copy of the GNU Lesser General Public
+License along with this library; if not, write to the Free Software
+Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+*/
+
+using System;
+using ComponentModel.Interfaces;
+
+namespace ComponentModel.DTO {
+    public sealed class ResponseMethodDTO : IComponentModelDTO {
+        private bool executionSuccess;
+        private object methodResult;
+
+        internal ResponseMethodDTO () {
+            //this.SetExecutionSuccess (false);
+        }
+        
+        public object MethodResult {
+            get {return methodResult;}
+            set {methodResult = value;}
+        }
+        
+        public bool ExecutionSuccess {
+            get {return executionSuccess;}
+        }
+
+        internal void SetExecutionSuccess (bool executionSuccess) {
+            this.executionSuccess = executionSuccess;
+        }
+        
+    }
+}

Added: ComponentModel/trunk/src/ComponentModel/Factory/FactoryDTO.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Factory/FactoryDTO.cs	2005-10-16 16:05:44 UTC (rev 540)
+++ ComponentModel/trunk/src/ComponentModel/Factory/FactoryDTO.cs	2005-10-17 07:35:33 UTC (rev 541)
@@ -0,0 +1,58 @@
+/*
+Babuine Component Model & Babuine Framework
+Copyright (C) 2005  N??stor Salceda Alonso
+
+This library is free software; you can redistribute it and/or
+modify it under the terms of the GNU Lesser General Public
+License as published by the Free Software Foundation; either
+version 2.1 of the License, or (at your option) any later version.
+
+This library is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+Lesser General Public License for more details.
+
+You should have received a copy of the GNU Lesser General Public
+License along with this library; if not, write to the Free Software
+Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+*/
+
+using System;
+using ComponentModel.DTO;
+using ComponentModel.Interfaces;
+
+namespace ComponentModel.Factory {
+    public enum CreateDTO {
+        ComponentModel,
+        ResponseMethod
+    }
+    
+    public sealed class FactoryDTO {
+        private static FactoryDTO instance;
+
+        private FactoryDTO () {
+        }
+
+        public static FactoryDTO Instance {
+            get {
+                if (instance == null)
+                    instance = new FactoryDTO ();
+                return instance;
+            }
+        }
+
+        public IComponentModelDTO Create (CreateDTO value) {
+            switch (value) {
+                case CreateDTO.ComponentModel:
+                    return new ComponentModelDTO ();
+                case CreateDTO.ResponseMethod:
+                    ResponseMethodDTO responseMethodDTO = new ResponseMethodDTO ();
+                    responseMethodDTO.SetExecutionSuccess (false); //Por defecto inicializar?? a false.
+                    return responseMethodDTO;
+                default:
+                    return null;
+            }
+        }
+
+    }
+}

Modified: ComponentModel/trunk/src/ComponentModel/Factory/FactoryVO.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Factory/FactoryVO.cs	2005-10-16 16:05:44 UTC (rev 540)
+++ ComponentModel/trunk/src/ComponentModel/Factory/FactoryVO.cs	2005-10-17 07:35:33 UTC (rev 541)
@@ -21,6 +21,7 @@
 using ComponentModel.VO;
 
 namespace ComponentModel.Factory {
+    [Obsolete ("FactoryVO is being removed at next version.  Please use FactoryDto instead.")]
     public sealed class FactoryVO {
         private static FactoryVO instance;
 

Modified: ComponentModel/trunk/src/ComponentModel/Interfaces/IComponentModel.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Interfaces/IComponentModel.cs	2005-10-16 16:05:44 UTC (rev 540)
+++ ComponentModel/trunk/src/ComponentModel/Interfaces/IComponentModel.cs	2005-10-17 07:35:33 UTC (rev 541)
@@ -19,18 +19,24 @@
 
 using System;
 using ComponentModel.VO;
+using ComponentModel.DTO;
+using ComponentModel.Collections;
 
 namespace ComponentModel.Interfaces {
-    public delegate void VirtualMethod (ResponseMethodVO responseMethodVO);
+    public delegate void VirtualMethod (ResponseMethodDTO responseMethodDTO);
     
     public interface IComponentModel {
+        [Obsolete("Property Deprecated.  Use ComponentModelDTO instead")]
         ComponentModelVO VO {get;}
+
+        ComponentModelDTO ComponentModelDTO {get;}
         VirtualMethod VirtualMethod {get; set;}
+        IViewHandlerCollection ViewHandlerCollection {get; set;}
         
-        ResponseMethodVO Execute (string methodName, object[] parameters);//Redirige & bloquea a la vista por defecto.
-        ResponseMethodVO Execute (string methodName, object[] parameters, IViewHandler viewHandler);//Redirige y elige vista.
-        ResponseMethodVO Execute (string methodName, object[] parameters, bool redirect);//Redirige o no redirige, si redirige vista nueva.
-        ResponseMethodVO Execute (string methodName, object[] parameters, bool redirect, IViewHandler viewHandler, bool block);
+        ResponseMethodDTO Execute (string methodName, object[] parameters);//Redirige & bloquea a la vista por defecto.
+        ResponseMethodDTO Execute (string methodName, object[] parameters, IViewHandler viewHandler);//Redirige y elige vista.
+        ResponseMethodDTO Execute (string methodName, object[] parameters, bool redirect);//Redirige o no redirige, si redirige vista nueva.
+        ResponseMethodDTO Execute (string methodName, object[] parameters, bool redirect, IViewHandler viewHandler, bool block);
 
         object GetProperty (string propertyName);
         void SetProperty (string propertyName, object valor);

Copied: ComponentModel/trunk/src/ComponentModel/Interfaces/IComponentModelDTO.cs (from rev 540, ComponentModel/trunk/src/ComponentModel/Interfaces/IComponentModelVO.cs)
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Interfaces/IComponentModelVO.cs	2005-10-16 16:05:44 UTC (rev 540)
+++ ComponentModel/trunk/src/ComponentModel/Interfaces/IComponentModelDTO.cs	2005-10-17 07:35:33 UTC (rev 541)
@@ -0,0 +1,27 @@
+/*
+Babuine Component Model & Babuine Framework
+Copyright (C) 2005  N??stor Salceda Alonso
+
+This library is free software; you can redistribute it and/or
+modify it under the terms of the GNU Lesser General Public
+License as published by the Free Software Foundation; either
+version 2.1 of the License, or (at your option) any later version.
+
+This library is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+Lesser General Public License for more details.
+
+You should have received a copy of the GNU Lesser General Public
+License along with this library; if not, write to the Free Software
+Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+*/
+
+using System;
+
+namespace ComponentModel.Interfaces {
+    //Usaremos este interfaz para separar los DTO que son propios a la
+    //construcci??n del modelo de componentes.
+    public interface IComponentModelDTO: IDataTransferObject {
+    }
+}

Deleted: ComponentModel/trunk/src/ComponentModel/Interfaces/IComponentModelVO.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Interfaces/IComponentModelVO.cs	2005-10-16 16:05:44 UTC (rev 540)
+++ ComponentModel/trunk/src/ComponentModel/Interfaces/IComponentModelVO.cs	2005-10-17 07:35:33 UTC (rev 541)
@@ -1,25 +0,0 @@
-/*
-Babuine Component Model & Babuine Framework
-Copyright (C) 2005  N??stor Salceda Alonso
-
-This library is free software; you can redistribute it and/or
-modify it under the terms of the GNU Lesser General Public
-License as published by the Free Software Foundation; either
-version 2.1 of the License, or (at your option) any later version.
-
-This library is distributed in the hope that it will be useful,
-but WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
-Lesser General Public License for more details.
-
-You should have received a copy of the GNU Lesser General Public
-License along with this library; if not, write to the Free Software
-Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
-*/
-
-using System;
-
-namespace ComponentModel.Interfaces {
-    public interface IComponentModelVO {
-    }
-}

Modified: ComponentModel/trunk/src/ComponentModel/Interfaces/IContainer.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Interfaces/IContainer.cs	2005-10-16 16:05:44 UTC (rev 540)
+++ ComponentModel/trunk/src/ComponentModel/Interfaces/IContainer.cs	2005-10-17 07:35:33 UTC (rev 541)
@@ -18,7 +18,7 @@
 */
 
 using System;
-using ComponentModel.VO;
+using ComponentModel.DTO;
 
 namespace ComponentModel.Interfaces {
     //Igual si extendemos de System.ComponentModel.IContainer est?? bien tambi??n.
@@ -28,9 +28,9 @@
         void Add (IComponentModel componentModel);
         void Remove (IComponentModel componentModel);
 
-        ResponseMethodVO Execute (string componentName, string methodName, object[] parameters);//Redirige & bloquea a la vista por defecto.
-        ResponseMethodVO Execute (string componentName, string methodName, object[] parameters, IViewHandler viewHandler);//Redirige y elige vista.
-        ResponseMethodVO Execute (string componentName, string methodName, object[] parameters, bool redirect);//Redirige o no redirige, si redirige vista nueva.
-        ResponseMethodVO Execute (string componentName, string methodName, object[] parameters, bool redirect, IViewHandler viewHandler, bool block);
+        ResponseMethodDTO Execute (string componentName, string methodName, object[] parameters);//Redirige & bloquea a la vista por defecto.
+        ResponseMethodDTO Execute (string componentName, string methodName, object[] parameters, IViewHandler viewHandler);//Redirige y elige vista.
+        ResponseMethodDTO Execute (string componentName, string methodName, object[] parameters, bool redirect);//Redirige o no redirige, si redirige vista nueva.
+        ResponseMethodDTO Execute (string componentName, string methodName, object[] parameters, bool redirect, IViewHandler viewHandler, bool block);
     }
 }

Modified: ComponentModel/trunk/src/ComponentModel/Interfaces/IVO.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Interfaces/IVO.cs	2005-10-16 16:05:44 UTC (rev 540)
+++ ComponentModel/trunk/src/ComponentModel/Interfaces/IVO.cs	2005-10-17 07:35:33 UTC (rev 541)
@@ -20,6 +20,7 @@
 using System;
 
 namespace ComponentModel.Interfaces {
+    [Obsolete ("Please IVO is being removed at next version.  Please use IDto instead.")]
     public interface IVO {
     }
 }

Modified: ComponentModel/trunk/src/ComponentModel/Threading/ComponentActionDispatcher.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Threading/ComponentActionDispatcher.cs	2005-10-16 16:05:44 UTC (rev 540)
+++ ComponentModel/trunk/src/ComponentModel/Threading/ComponentActionDispatcher.cs	2005-10-17 07:35:33 UTC (rev 541)
@@ -19,11 +19,11 @@
 
 using System;
 using System.Threading;
-using ComponentModel.VO;
 using System.Reflection;
 using ComponentModel;
 using ComponentModel.Factory;
 using ComponentModel.Interfaces;
+using ComponentModel.DTO;
 
 namespace ComponentModel.Threading {
     internal class ComponentActionDispatcher  {
@@ -38,12 +38,12 @@
         Type viewType;
         IViewHandler viewHandler;
         MethodInfo methodToResponse;
-        ResponseMethodVO responseMethodVO;
+        ResponseMethodDTO responseMethodDTO;
 
-        internal ResponseMethodVO ResponseMethodVO {
+        internal ResponseMethodDTO ResponseMethodDTO {
             get {
-                lock (responseMethodVO) {
-                    return responseMethodVO;
+                lock (responseMethodDTO) {
+                    return responseMethodDTO;
                 }
             }
         }
@@ -84,42 +84,42 @@
         }
         
         private void CallBackExecuteRedirectNewView () {
-            lock (responseMethodVO) {
-                responseMethodVO = FactoryVO.Instance.CreateResponseMethodVO ();
+            lock (responseMethodDTO) {
+                responseMethodDTO = (ResponseMethodDTO) FactoryDTO.Instance.Create (CreateDTO.ResponseMethod);
                 object ret = methodToExecute.Invoke (componentModel, parameters);
-                responseMethodVO.MethodResult = ret;
-                responseMethodVO.SetExecutionSuccess (true);
+                responseMethodDTO.MethodResult = ret;
+                responseMethodDTO.SetExecutionSuccess (true);
                 if (componentModel.VirtualMethod != null) {
-                    componentModel.VirtualMethod (responseMethodVO);
+                    componentModel.VirtualMethod (responseMethodDTO);
                     componentModel.VirtualMethod = null;
                 }
                 object obj = viewType.GetConstructor (null).Invoke (null);
-                methodToResponse.Invoke (obj, new object[] {responseMethodVO});
+                methodToResponse.Invoke (obj, new object[] {responseMethodDTO});
             }
         }
 
         private void CallBackExecuteRedirectView () {
-            lock (responseMethodVO) {
-                responseMethodVO = FactoryVO.Instance.CreateResponseMethodVO ();
+            lock (responseMethodDTO) {
+                responseMethodDTO = (ResponseMethodDTO)FactoryDTO.Instance.Create (CreateDTO.ResponseMethod);
                 object ret = methodToExecute.Invoke (componentModel, parameters);
-                responseMethodVO.MethodResult = ret;
-                responseMethodVO.SetExecutionSuccess (true);
+                responseMethodDTO.MethodResult = ret;
+                responseMethodDTO.SetExecutionSuccess (true);
                 if (componentModel.VirtualMethod != null) {
-                    componentModel.VirtualMethod (responseMethodVO);
+                    componentModel.VirtualMethod (responseMethodDTO);
                     componentModel.VirtualMethod = null;
                 }
-                methodToResponse.Invoke (viewHandler, new object[] {responseMethodVO});
+                methodToResponse.Invoke (viewHandler, new object[] {responseMethodDTO});
             }
         }
 
         private void CallBackExecuteNoRedirect () {
-            lock (responseMethodVO) {
-                responseMethodVO = FactoryVO.Instance.CreateResponseMethodVO ();
+            lock (responseMethodDTO) {
+                responseMethodDTO = (ResponseMethodDTO)FactoryDTO.Instance.Create (CreateDTO.ResponseMethod);
                 object ret = methodToExecute.Invoke (componentModel, parameters);
-                responseMethodVO.MethodResult = ret;
-                responseMethodVO.SetExecutionSuccess (true);
+                responseMethodDTO.MethodResult = ret;
+                responseMethodDTO.SetExecutionSuccess (true);
                 if (componentModel.VirtualMethod != null) {
-                    componentModel.VirtualMethod (responseMethodVO);
+                    componentModel.VirtualMethod (responseMethodDTO);
                     componentModel.VirtualMethod = null;
                 }
             }

Modified: ComponentModel/trunk/src/ComponentModel/VO/ComponentModelVO.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/VO/ComponentModelVO.cs	2005-10-16 16:05:44 UTC (rev 540)
+++ ComponentModel/trunk/src/ComponentModel/VO/ComponentModelVO.cs	2005-10-17 07:35:33 UTC (rev 541)
@@ -21,7 +21,8 @@
 using System.Collections;
 
 namespace ComponentModel.VO {
-    public class ComponentModelVO {
+    [Obsolete ("ComponentModelVO is being removed in future Babuine Component Model version.  Please, use ComponentModelDto instead")]    
+    public sealed class ComponentModelVO {
         private string componentName;
         private string componentClassName;
         private string exceptionManagerClassName;

Modified: ComponentModel/trunk/src/ComponentModel/VO/ResponseMethodVO.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/VO/ResponseMethodVO.cs	2005-10-16 16:05:44 UTC (rev 540)
+++ ComponentModel/trunk/src/ComponentModel/VO/ResponseMethodVO.cs	2005-10-17 07:35:33 UTC (rev 541)
@@ -20,7 +20,8 @@
 using System;
 
 namespace ComponentModel.VO {
-    public class ResponseMethodVO {
+    [Obsolete ("ResponseMethodVO is being removed at next version.  Please use ResponseMethodDto instead")]
+    public sealed class ResponseMethodVO {
         private bool executionSuccess;
         private object methodResult;
 

Modified: ComponentModel/trunk/src/UnitTest/Components/TestComponent/TestComponentUnit.cs
===================================================================
--- ComponentModel/trunk/src/UnitTest/Components/TestComponent/TestComponentUnit.cs	2005-10-16 16:05:44 UTC (rev 540)
+++ ComponentModel/trunk/src/UnitTest/Components/TestComponent/TestComponentUnit.cs	2005-10-17 07:35:33 UTC (rev 541)
@@ -67,12 +67,13 @@
         public void ExecuteRedirectNewView () {
             int x = 4;
             ResponseMethodVO responseMethodVO;
-            int returnValue;
 
             IComponentModel componentModel = DefaultContainer.Instance.GetComponentByName ("TestUnidad1");
             responseMethodVO = componentModel.Execute ("ReturnValue", new object[]{x});
             Assert.AreEqual (responseMethodVO.ExecutionSuccess, true);
             Assert.IsNotNull (responseMethodVO.MethodResult);
+            Assert.AreEqual (responseMethodVO.MethodResult, x);
+            Assert.IsTrue (componentModel.ViewHandlerCollection.Count != 0);
         }
 
         [Test]



From nestor at berlios.de  Mon Oct 17 09:44:19 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Mon, 17 Oct 2005 09:44:19 +0200
Subject: [Mspace-checkins] r542 - in ComponentModel/trunk/src/ComponentModel: . Container/Dao
Message-ID: <200510170744.j9H7iJC5018288@sheep.berlios.de>

Author: nestor
Date: 2005-10-17 09:44:16 +0200 (Mon, 17 Oct 2005)
New Revision: 542

Modified:
   ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs
   ComponentModel/trunk/src/ComponentModel/DefaultComponentModel.cs
Log:
Creo que ha finalizado la refactorizaci?\195?\179n.

Probar y probar y probar :)


Modified: ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs	2005-10-17 07:35:33 UTC (rev 541)
+++ ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs	2005-10-17 07:44:16 UTC (rev 542)
@@ -23,7 +23,7 @@
 using ComponentModel.Interfaces;
 using ComponentModel.Factory;
 using ComponentModel.Container;
-using ComponentModel.VO;
+using ComponentModel.DTO;
 using ComponentModel.Exceptions;
 using NLog;
 
@@ -79,8 +79,8 @@
                     Attribute[] attributes = (Attribute[])types[i].GetCustomAttributes (typeof (ComponentAttribute), true); 
                     if (attributes.Length.Equals (1)) { 
                         //Deberiamos registrar el tipo en el Container. Y
-                        //parsear la informaci?n para rellenar su VO.
-                        ComponentModelVO componentModelVO = this.fillVO (types[i]);
+                        //parsear la informaci?n para rellenar su DTO.
+                        ComponentModelDTO componentModelDTO = this.fillDTO (types[i]);
                         ConstructorInfo constructorInfo = types[i].GetConstructor (null);
                         DefaultComponentModel defaultComponentModel = (DefaultComponentModel)constructorInfo.Invoke (null);
                         //Seteamos el vo con reflection y mantener oculto el
@@ -88,7 +88,7 @@
                         FieldInfo voFieldInfo = types[i].GetField ("vO", BindingFlags.NonPublic | BindingFlags.Instance | BindingFlags.SetField); // | BindingFlags.DeclaredOnly);
                         //if (voFieldInfo == null)
                         //    Console.WriteLine ("FieldInfo == null.");
-                        voFieldInfo.SetValue (defaultComponentModel, componentModelVO);
+                        voFieldInfo.SetValue (defaultComponentModel, componentModelDTO);
                         list.Add (defaultComponentModel);
                     }
                 }
@@ -97,17 +97,17 @@
         }
 
         /**
-         * Rellenamos el VO con los valores que tenga asociado ese tipo.
+         * Rellenamos el DTO con los valores que tenga asociado ese tipo.
          */
-        private ComponentModelVO fillVO (Type type) {
-            ComponentModelVO componentModelVO =  FactoryVO.Instance.CreateComponentModelVO ();
+        private ComponentModelDTO fillDTO (Type type) {
+            ComponentModelDTO componentModelDTO =  (ComponentModelDTO) FactoryDTO.Instance.Create (CreateDTO.ComponentModel);
             ComponentAttribute componentAttribute = (ComponentAttribute)(type.GetCustomAttributes (typeof (ComponentAttribute), true)[0]);
             
-            componentModelVO.ComponentClassName = type.FullName;
-            componentModelVO.ComponentName = componentAttribute.ComponentName;
-            componentModelVO.ExceptionManagerClassName = componentAttribute.ExceptionManager;
+            componentModelDTO.ComponentClassName = type.FullName;
+            componentModelDTO.ComponentName = componentAttribute.ComponentName;
+            componentModelDTO.ExceptionManagerClassName = componentAttribute.ExceptionManager;
             
-            return componentModelVO;
+            return componentModelDTO;
         }
     }
 }

Modified: ComponentModel/trunk/src/ComponentModel/DefaultComponentModel.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/DefaultComponentModel.cs	2005-10-17 07:35:33 UTC (rev 541)
+++ ComponentModel/trunk/src/ComponentModel/DefaultComponentModel.cs	2005-10-17 07:44:16 UTC (rev 542)
@@ -36,9 +36,6 @@
         //Logging
         private Logger logger = LogManager.GetLogger ("ComponentModel.DefaultComponentModel");
         //Value object with information associated to component
-        [Obsolete ("This field is deprecated.")]
-        private ComponentModelVO vO;
-        
         private ComponentModelDTO componentModelDTO;
         
         //Exception manager to process exceptions.
@@ -64,7 +61,7 @@
  
         //Properties}
         public ComponentModelVO VO {
-            get {return vO;}
+            get {return null;}
         }
 
         public ComponentModelDTO ComponentModelDTO {



From nestor at berlios.de  Mon Oct 17 09:53:39 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Mon, 17 Oct 2005 09:53:39 +0200
Subject: [Mspace-checkins] r543 - in ComponentModel/trunk/src: ComponentModel/Container/Dao UnitTest/Components/TestComponent UnitTest/Components/TestComponent/Form
Message-ID: <200510170753.j9H7rd7Q019020@sheep.berlios.de>

Author: nestor
Date: 2005-10-17 09:53:36 +0200 (Mon, 17 Oct 2005)
New Revision: 543

Modified:
   ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs
   ComponentModel/trunk/src/UnitTest/Components/TestComponent/Form/MainTestComponentForm.cs
   ComponentModel/trunk/src/UnitTest/Components/TestComponent/TestComponentUnit.cs
Log:
Tests Ok.



Modified: ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs	2005-10-17 07:44:16 UTC (rev 542)
+++ ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs	2005-10-17 07:53:36 UTC (rev 543)
@@ -85,7 +85,7 @@
                         DefaultComponentModel defaultComponentModel = (DefaultComponentModel)constructorInfo.Invoke (null);
                         //Seteamos el vo con reflection y mantener oculto el
                         //resto.
-                        FieldInfo voFieldInfo = types[i].GetField ("vO", BindingFlags.NonPublic | BindingFlags.Instance | BindingFlags.SetField); // | BindingFlags.DeclaredOnly);
+                        FieldInfo voFieldInfo = types[i].GetField ("componentModelDTO", BindingFlags.NonPublic | BindingFlags.Instance | BindingFlags.SetField); // | BindingFlags.DeclaredOnly);
                         //if (voFieldInfo == null)
                         //    Console.WriteLine ("FieldInfo == null.");
                         voFieldInfo.SetValue (defaultComponentModel, componentModelDTO);

Modified: ComponentModel/trunk/src/UnitTest/Components/TestComponent/Form/MainTestComponentForm.cs
===================================================================
--- ComponentModel/trunk/src/UnitTest/Components/TestComponent/Form/MainTestComponentForm.cs	2005-10-17 07:44:16 UTC (rev 542)
+++ ComponentModel/trunk/src/UnitTest/Components/TestComponent/Form/MainTestComponentForm.cs	2005-10-17 07:53:36 UTC (rev 543)
@@ -1,6 +1,6 @@
 using System;
 using ComponentModel.Interfaces;
-using ComponentModel.VO;
+using ComponentModel.DTO;
 using System.Windows.Forms;
 
 namespace UnitTest.Components.TestComponent.Form {
@@ -15,9 +15,9 @@
         public void ClearForm () {
         }
 
-        public void ResponseReturnValue (ResponseMethodVO responseMethodVO) {
-            if (responseMethodVO.ExecutionSuccess) {
-                MessageBox.Show ("Yeah !!, el valor de retorno es: " + responseMethodVO.MethodResult); 
+        public void ResponseReturnValue (ResponseMethodDTO responseMethodDTO) {
+            if (responseMethodDTO.ExecutionSuccess) {
+                MessageBox.Show ("Yeah !!, el valor de retorno es: " + responseMethodDTO.MethodResult); 
             }
         }
     }

Modified: ComponentModel/trunk/src/UnitTest/Components/TestComponent/TestComponentUnit.cs
===================================================================
--- ComponentModel/trunk/src/UnitTest/Components/TestComponent/TestComponentUnit.cs	2005-10-17 07:44:16 UTC (rev 542)
+++ ComponentModel/trunk/src/UnitTest/Components/TestComponent/TestComponentUnit.cs	2005-10-17 07:53:36 UTC (rev 543)
@@ -1,7 +1,7 @@
 using System;
 using ComponentModel.Container;
 using ComponentModel.Interfaces;
-using ComponentModel.VO;
+using ComponentModel.DTO;
 using NUnit.Framework;
 
 namespace UnitTest.Components.TestComponent {
@@ -31,15 +31,15 @@
         [Test]
         public void ExecutionNonRedirect () {
             int x = 4;
-            ResponseMethodVO responseMethodVO;
+            ResponseMethodDTO responseMethodDTO;
             int returnValue;
             
             IComponentModel componentModel = DefaultContainer.Instance.GetComponentByName ("TestUnidad1");
-            responseMethodVO = componentModel.Execute ("ReturnValue", new object[]{x}, false);
-            Assert.AreEqual (responseMethodVO.ExecutionSuccess, true);
-            Assert.IsNotNull (responseMethodVO.MethodResult);
-            if (responseMethodVO.ExecutionSuccess == true) {
-                returnValue = (int) responseMethodVO.MethodResult;    
+            responseMethodDTO = componentModel.Execute ("ReturnValue", new object[]{x}, false);
+            Assert.AreEqual (responseMethodDTO.ExecutionSuccess, true);
+            Assert.IsNotNull (responseMethodDTO.MethodResult);
+            if (responseMethodDTO.ExecutionSuccess == true) {
+                returnValue = (int) responseMethodDTO.MethodResult;    
                 Assert.AreEqual (returnValue, x);
                 //Al estar usando reflection, no creo que se devuelva la misma
                 //posici?n de memoria.
@@ -50,15 +50,15 @@
         [Test]
         public void ExecutionNonRedirectOverload () {
             char c = 'a';
-            ResponseMethodVO responseMethodVO;
+            ResponseMethodDTO responseMethodDTO;
             char returnValue;
 
             IComponentModel componentModel = DefaultContainer.Instance.GetComponentByName ("TestUnidad1");
-            responseMethodVO = componentModel.Execute ("ReturnValue", new object[]{c}, false);
-            Assert.AreEqual (responseMethodVO.ExecutionSuccess, true);
-            Assert.IsNotNull (responseMethodVO.MethodResult);
-            if (responseMethodVO.ExecutionSuccess == true) {
-                returnValue = (char) responseMethodVO.MethodResult;
+            responseMethodDTO = componentModel.Execute ("ReturnValue", new object[]{c}, false);
+            Assert.AreEqual (responseMethodDTO.ExecutionSuccess, true);
+            Assert.IsNotNull (responseMethodDTO.MethodResult);
+            if (responseMethodDTO.ExecutionSuccess == true) {
+                returnValue = (char) responseMethodDTO.MethodResult;
                 Assert.AreEqual (returnValue, c);
             }
         }
@@ -66,13 +66,13 @@
         [Test]
         public void ExecuteRedirectNewView () {
             int x = 4;
-            ResponseMethodVO responseMethodVO;
+            ResponseMethodDTO responseMethodDTO;
 
             IComponentModel componentModel = DefaultContainer.Instance.GetComponentByName ("TestUnidad1");
-            responseMethodVO = componentModel.Execute ("ReturnValue", new object[]{x});
-            Assert.AreEqual (responseMethodVO.ExecutionSuccess, true);
-            Assert.IsNotNull (responseMethodVO.MethodResult);
-            Assert.AreEqual (responseMethodVO.MethodResult, x);
+            responseMethodDTO = componentModel.Execute ("ReturnValue", new object[]{x});
+            Assert.AreEqual (responseMethodDTO.ExecutionSuccess, true);
+            Assert.IsNotNull (responseMethodDTO.MethodResult);
+            Assert.AreEqual (responseMethodDTO.MethodResult, x);
             Assert.IsTrue (componentModel.ViewHandlerCollection.Count != 0);
         }
 
@@ -93,12 +93,12 @@
 
         [Test]
         public void Exception () {
-            ResponseMethodVO responseMethodVO;
+            ResponseMethodDTO responseMethodDTO;
             
             IComponentModel componentModel = DefaultContainer.Instance.GetComponentByName ("TestUnidad1");
-            responseMethodVO = componentModel.Execute ("TestException", null, false);
-            Assert.AreEqual (responseMethodVO.ExecutionSuccess, false);
-            Assert.IsNull (responseMethodVO.MethodResult);
+            responseMethodDTO = componentModel.Execute ("TestException", null, false);
+            Assert.AreEqual (responseMethodDTO.ExecutionSuccess, false);
+            Assert.IsNull (responseMethodDTO.MethodResult);
         }
     }
 }



From nestor at berlios.de  Mon Oct 17 20:13:23 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Mon, 17 Oct 2005 20:13:23 +0200
Subject: [Mspace-checkins] r544 - ComponentModel/trunk
Message-ID: <200510171813.j9HIDNx4017736@sheep.berlios.de>

Author: nestor
Date: 2005-10-17 20:13:23 +0200 (Mon, 17 Oct 2005)
New Revision: 544

Modified:
   ComponentModel/trunk/TODO
Log:
Sugerencia para la proxima version en la b?\195?\186squeda de Responses.



Modified: ComponentModel/trunk/TODO
===================================================================
--- ComponentModel/trunk/TODO	2005-10-17 07:53:36 UTC (rev 543)
+++ ComponentModel/trunk/TODO	2005-10-17 18:13:23 UTC (rev 544)
@@ -32,6 +32,9 @@
   estrictamente un Value Object.  Sustituir por IDataTransferObject.
 
     DONE! (Think at 50%) -- Only Refactor Now.
+    -- Ahora solo queda que al buscar una response lo haga tambi?n buscando el
+    par?metro para evitar una ParameterException fea, y por lo menos mapearla y
+    saber cual es el error.
     
 * El interface de la vista, dejar? de estar vacio; para implementar 3 m?todos
   que se suelen utilizar en las vistas siempre, esto es GetDataForm,



From nestor at berlios.de  Tue Oct 18 23:02:49 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Tue, 18 Oct 2005 23:02:49 +0200
Subject: [Mspace-checkins] r545 - in ComponentModel/trunk: . src/ComponentModel/Container src/ComponentModel/Container/Dao
Message-ID: <200510182102.j9IL2nFV018335@sheep.berlios.de>

Author: nestor
Date: 2005-10-18 23:02:48 +0200 (Tue, 18 Oct 2005)
New Revision: 545

Modified:
   ComponentModel/trunk/ChangeLog
   ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs
   ComponentModel/trunk/src/ComponentModel/Container/DefaultContainer.cs
Log:


Modified: ComponentModel/trunk/ChangeLog
===================================================================
--- ComponentModel/trunk/ChangeLog	2005-10-17 18:13:23 UTC (rev 544)
+++ ComponentModel/trunk/ChangeLog	2005-10-18 21:02:48 UTC (rev 545)
@@ -1,3 +1,12 @@
+18-10-2005 -- N?stor Salceda <nestor.salceda at gmail.com>
+    DefaultContainer:
+	Se bloquea la tabla hash hasta que termina de cargar todos los
+	componentes.
+17-10-2005 -- N?stor Salceda <nestor.salceda at gmail.com>
+    Refactorization:
+	Use of DTO instead of VO.  Marked as obsolete.
+    DefaultComponentModel:
+	Reference implementation of ViewCache.
 29-09-2005 -- N?stor Salceda <nestor.salceda at gmail.com>
     DefaultComponentModel:
 	Support for property management.

Modified: ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs	2005-10-17 18:13:23 UTC (rev 544)
+++ ComponentModel/trunk/src/ComponentModel/Container/Dao/DefaultContainerDao.cs	2005-10-18 21:02:48 UTC (rev 545)
@@ -61,12 +61,12 @@
             ArrayList list = new ArrayList ();
             //VAmos a comprobar que no se procesen ensamblados que sean del
             //core.
-            
+           
             if (assembly.FullName.StartsWith ("mscorlib") ||
                 assembly.FullName.StartsWith ("System")
                     ) {
                 logger.Debug ("Core Assembly detected: " + assembly.FullName);
-                logger.Info ("* SKIPPING * Core Assembly: " + assembly.FullName);
+                logger.Debug ("* SKIPPING * Core Assembly: " + assembly.FullName);
                 return list;
             }
             

Modified: ComponentModel/trunk/src/ComponentModel/Container/DefaultContainer.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Container/DefaultContainer.cs	2005-10-17 18:13:23 UTC (rev 544)
+++ ComponentModel/trunk/src/ComponentModel/Container/DefaultContainer.cs	2005-10-18 21:02:48 UTC (rev 545)
@@ -50,9 +50,11 @@
             
             //Getting data from assembly resolv.
             componentHashtable = new Hashtable ();
+            lock (componentHashtable) {
             //En cada ensamblado, cargar? el / los componente y lo registrar? con el
             //nombre que se le ha dado al atributo.
-            GetAllComponents (); 
+            GetAllComponents ();
+            }
         }
         
         private void LoadAssembliesInPath () {
@@ -109,11 +111,13 @@
         }
 
         public IComponentModel GetComponentByName (string componentName) {
+            lock (componentHashtable) {
             IComponentModel componentModel = (IComponentModel) componentHashtable[componentName];
             if (componentModel == null) {
                 throw new ComponentNotFoundException ("Component " + componentName + " not found in container.");
             }
             return componentModel;
+            }
         }
 
         public void Add (IComponentModel component) {



From nestor at berlios.de  Wed Oct 19 00:20:00 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Wed, 19 Oct 2005 00:20:00 +0200
Subject: [Mspace-checkins] r546 - in BabuineComponentBuilder/trunk: . lib src src/ComponentBuilder src/ComponentBuilder/Bo src/ComponentBuilder/Dto src/ComponentBuilder/Exceptions src/ComponentBuilder/Forms src/ComponentBuilder/Resources src/MainComponent src/MainComponent/Bo src/MainComponent/Forms
Message-ID: <200510182220.j9IMK0Wc025665@sheep.berlios.de>

Author: nestor
Date: 2005-10-19 00:20:00 +0200 (Wed, 19 Oct 2005)
New Revision: 546

Added:
   BabuineComponentBuilder/trunk/lib/ComponentModel.dll
   BabuineComponentBuilder/trunk/lib/NLog.dll
   BabuineComponentBuilder/trunk/lib/NLog.dll.nlog
   BabuineComponentBuilder/trunk/src/ComponentBuilder/
   BabuineComponentBuilder/trunk/src/ComponentBuilder/AssemblyInfo.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/ComponentSettingsDTO.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/MethodDTO.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/ParameterDTO.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Exceptions/
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Exceptions/ComponentBuilderExceptionManager.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.gladep
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.gladep.bak
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/
   BabuineComponentBuilder/trunk/src/MainComponent/
   BabuineComponentBuilder/trunk/src/MainComponent/AssemblyInfo.cs
   BabuineComponentBuilder/trunk/src/MainComponent/Bo/
   BabuineComponentBuilder/trunk/src/MainComponent/Bo/MainComponentComponentModel.cs
   BabuineComponentBuilder/trunk/src/MainComponent/Forms/
   BabuineComponentBuilder/trunk/src/MainComponent/Forms/MainComponentForm.cs
   BabuineComponentBuilder/trunk/src/MainComponent/Launcher.cs
Modified:
   BabuineComponentBuilder/trunk/BabuineComponentBuilder.build
Log:
Initial commit.

Please, warn which assembly names; because runtime do strange things.


Modified: BabuineComponentBuilder/trunk/BabuineComponentBuilder.build
===================================================================
--- BabuineComponentBuilder/trunk/BabuineComponentBuilder.build	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/BabuineComponentBuilder.build	2005-10-18 22:20:00 UTC (rev 546)
@@ -30,6 +30,8 @@
     <!-- Directory Tree--> 
     <!-- Localizacion de dependencias -->
     <property name="src" value="src"/>
+    <property name="src_component" value="${src}/${component_name}"/>
+    <property name="src_main" value="${src}/MainComponent"/>
     <property name="lib" value="lib"/>
     <!-- Other mspace components -->
     <property name="components" value="lib/components"/>
@@ -58,13 +60,22 @@
     <target name="build" depends="create-skeleton">
         <csc target="library" output="${bin}/${component_name}.dll" debug="true"
         verbose="false">
-            <sources basedir="${src}">
+            <sources basedir="${src_component}">
                 <include name="**/*.cs"/>
             </sources>
             <references>
                 <include name="**/${lib}/*.dll"/>
                 <include name="**/${lib}/components/*.dll"/>
             </references>
+
+            <pkg-references>
+                <package name="gtk-sharp-2.0"/>
+                <package name="glade-sharp-2.0"/>
+            </pkg-references>
+            
+            <resources>
+                <include name="**/*.glade"/>
+            </resources>
         </csc>
         <tstamp/>
     </target>
@@ -72,9 +83,9 @@
     <!-- Ejecuta el componente (Lo compila como un exe y luego lo ejecuta) -->
     <!-- En este caso solo deber? ejecutar los test de unidad-->
     <target name="run" depends="build">
-        <csc target="winexe" output="${bin}/${component_name}.exe" debug="true"
+        <csc target="winexe" output="${bin}/${component_name}Launcher.exe" debug="true"
         verbose="false">
-            <sources basedir="${src}">
+            <sources basedir="${src_main}">
                 <include name="**/*.cs"/>
             </sources>
             <references>
@@ -82,8 +93,11 @@
                 <include name="**/${lib}/components/*.dll"/>
                 <include name="**/${bin}/*.dll"/>    
             </references>
+            <pkg-references>
+                <package name="gtk-sharp-2.0"/>
+            </pkg-references>
         </csc>
-        <exec program="${bin}/{component_name}.exe" useruntimeengine="true"
+        <exec program="${bin}/${component_name}Launcher.exe" useruntimeengine="true"
         verbose = "false">
             <!-- Esto se queda ahi temporalmente, se deber? hacer que se meta a
             resources/ComponentModelTest.xml-->

Added: BabuineComponentBuilder/trunk/lib/ComponentModel.dll
===================================================================
--- BabuineComponentBuilder/trunk/lib/ComponentModel.dll	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/lib/ComponentModel.dll	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1 @@
+link /home/nestor/devel/mspace/ComponentModel/trunk/bin/ComponentModel.dll
\ No newline at end of file


Property changes on: BabuineComponentBuilder/trunk/lib/ComponentModel.dll
___________________________________________________________________
Name: svn:special
   + *

Added: BabuineComponentBuilder/trunk/lib/NLog.dll
===================================================================
--- BabuineComponentBuilder/trunk/lib/NLog.dll	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/lib/NLog.dll	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1 @@
+link /home/nestor/devel/mspace/ComponentModel/trunk/lib/NLog.dll
\ No newline at end of file


Property changes on: BabuineComponentBuilder/trunk/lib/NLog.dll
___________________________________________________________________
Name: svn:special
   + *

Added: BabuineComponentBuilder/trunk/lib/NLog.dll.nlog
===================================================================
--- BabuineComponentBuilder/trunk/lib/NLog.dll.nlog	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/lib/NLog.dll.nlog	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1,8 @@
+<nlog>
+	<appenders>
+            <appender name="debug"  type="Console" />
+        </appenders>
+	<rules>
+		<logger name="*" levels="Info, Warn, Debug" appendTo="debug"/>
+	</rules>
+</nlog>

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/AssemblyInfo.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/AssemblyInfo.cs	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/AssemblyInfo.cs	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1,12 @@
+using System.Reflection;
+using System.Runtime.CompilerServices;
+
+[assembly: AssemblyTitle("MSpace ComponentBuilder")]
+[assembly: AssemblyDescription("A little Component Builder")]
+[assembly: AssemblyConfiguration("")]
+[assembly: AssemblyCompany("MSpace")]
+[assembly: AssemblyProduct("ComponentBuilder")]
+[assembly: AssemblyCopyright("2005 (C) N?stor Salceda Alonso")]
+[assembly: AssemblyTrademark("")]
+[assembly: AssemblyCulture("")]
+[assembly: AssemblyVersion("0.1.*")]

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1,12 @@
+using System;
+using ComponentModel;
+
+namespace ComponentBuilder.Bo {
+    [Component ("ComponentBuilder", "ComponentBuilder.Exceptions.ComponenBuilderExceptionManager")]
+    public sealed class ComponentBuilderComponentModel : DefaultComponentModel {
+       
+        [ComponentMethod ("ComponentBuilder.Forms.MainComponentBuilderForm", "ResponseShowForm")]
+        public void ShowForm () {
+        }
+    }
+}

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/ComponentSettingsDTO.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/ComponentSettingsDTO.cs	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/ComponentSettingsDTO.cs	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1,40 @@
+using System;
+using System.Collections;
+using System.Collections.Specialized;
+using ComponentModel.Interfaces;
+
+namespace ComponentBuilder.DTO {
+    [Serializable]
+    public sealed class ComponentSettingsDTO : IDataTransferObject {
+        //Nombre del componente
+        private string componentName;
+        //Gestor de exceptions
+        private string classExceptionManager;
+        //Collection de vistas
+        private StringCollection viewCollections; 
+        //Collection de casos de uso
+        private IList methodCollection;
+
+        public IList MethodCollection {
+            get {return methodCollection;}
+            set {methodCollection = value;}
+        }
+
+        public StringCollection ViewCollections {
+            get {return viewCollections;}
+            set {viewCollections = value;}
+        }
+
+        public string ClassExceptionManager {
+            get {return classExceptionManager;}
+            set {classExceptionManager = value;}
+        }   
+        
+        public string ComponentName {
+            get {return componentName;}
+            set {componentName = value;}
+        }
+
+        
+    }
+}

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/MethodDTO.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/MethodDTO.cs	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/MethodDTO.cs	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1,40 @@
+using System;
+using System.Collections;
+using ComponentModel.Interfaces;
+
+namespace ComponentBuilder.DTO {
+    [Serializable]
+    public sealed class MethodDTO : IDataTransferObject {
+        private string returnType;
+        private string methodName;
+        private string viewToResponse;
+        private string responseMethod;
+        private IList parameterCollection;
+
+        public IList ParameterCollection {
+            get {return parameterCollection;}
+            set {parameterCollection = value;}
+        }
+        
+        public string ResponseMethod {
+            get {return responseMethod;}
+            set {responseMethod = value;}
+        }
+        
+        public string ViewToResponse {
+            get {return viewToResponse;}
+            set {viewToResponse = value;}
+        }
+        
+        public string MethodName {
+            get {return methodName;}
+            set {methodName = value;}
+        }
+        
+        public string ReturnType {
+            get {return returnType;}
+            set {returnType = value;}
+        }
+        
+    }
+}

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/ParameterDTO.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/ParameterDTO.cs	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/ParameterDTO.cs	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1,20 @@
+using System;
+using ComponentModel.Interfaces;
+
+namespace ComponentBuilder.DTO {
+    [Serializable]
+    public sealed class ParameterDTO : IDataTransferObject {
+        private string typeName;
+        private string varName;
+
+        public string VarName {
+            get {return varName;}
+            set {varName = value;}
+        }
+        
+        public string TypeName {
+            get {return typeName;}
+            set {typeName = value;}
+        }
+    }
+}

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Exceptions/ComponentBuilderExceptionManager.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Exceptions/ComponentBuilderExceptionManager.cs	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Exceptions/ComponentBuilderExceptionManager.cs	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1,10 @@
+using System;
+using ComponentModel.Interfaces;
+
+namespace ComponentBuilder.Exceptions {
+    public sealed class ComponentBuilderExceptionManager : IExceptionManager {
+        public void ProcessException (Exception exception) {
+
+        }
+    }
+}

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1,38 @@
+using System;
+using ComponentModel.Interfaces;
+using ComponentModel.DTO;
+using Gtk;
+using Glade;
+
+namespace ComponentBuilder.Forms {
+    public sealed class MainComponentBuilderForm : IViewHandler {
+        Glade.XML gxml = null;
+        [Widget] Statusbar statusbar1;
+        
+        public MainComponentBuilderForm () {
+            gxml = new Glade.XML (null, "MainComponentBuilderForm.glade", "window1", null);
+            gxml.Autoconnect (this);
+        }
+        
+        public IDataTransferObject GetDataForm () {
+            return null;
+        }
+
+        public void LoadDataForm (IDataTransferObject dto) {
+        }
+
+        public void ClearForm () {
+        }
+
+        public void ResponseShowForm (ResponseMethodDTO response) {
+            if (response.ExecutionSuccess) {
+                response.MethodResult = gxml["vbox1"];
+                statusbar1.Push (0, String.Format ("Welcome to Babuine Component Builder: {0}@{1}", Environment.UserName, Environment.MachineName));
+            }
+        }
+        
+        private void OnWindow1DeleteEvent (object sender, DeleteEventArgs args) {
+            Application.Quit ();
+        }
+    }
+}

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1,453 @@
+<?xml version="1.0" standalone="no"?> <!--*- mode: xml -*-->
+<!DOCTYPE glade-interface SYSTEM "http://glade.gnome.org/glade-2.0.dtd">
+
+<glade-interface>
+
+<widget class="GtkWindow" id="window1">
+  <property name="visible">True</property>
+  <property name="title" translatable="yes">Babuine Component Builder</property>
+  <property name="type">GTK_WINDOW_TOPLEVEL</property>
+  <property name="window_position">GTK_WIN_POS_CENTER</property>
+  <property name="modal">False</property>
+  <property name="default_width">800</property>
+  <property name="default_height">600</property>
+  <property name="resizable">True</property>
+  <property name="destroy_with_parent">False</property>
+  <property name="decorated">True</property>
+  <property name="skip_taskbar_hint">False</property>
+  <property name="skip_pager_hint">False</property>
+  <property name="type_hint">GDK_WINDOW_TYPE_HINT_NORMAL</property>
+  <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
+  <property name="focus_on_map">True</property>
+  <property name="urgency_hint">False</property>
+  <signal name="delete_event" handler="OnWindow1DeleteEvent" last_modification_time="Tue, 18 Oct 2005 13:05:42 GMT"/>
+
+  <child>
+    <widget class="GtkVBox" id="vbox1">
+      <property name="visible">True</property>
+      <property name="homogeneous">False</property>
+      <property name="spacing">0</property>
+
+      <child>
+	<placeholder/>
+      </child>
+
+      <child>
+	<widget class="GtkToolbar" id="toolbar1">
+	  <property name="visible">True</property>
+	  <property name="orientation">GTK_ORIENTATION_HORIZONTAL</property>
+	  <property name="toolbar_style">GTK_TOOLBAR_BOTH</property>
+	  <property name="tooltips">True</property>
+	  <property name="show_arrow">True</property>
+
+	  <child>
+	    <widget class="GtkToolButton" id="toolbutton1">
+	      <property name="visible">True</property>
+	      <property name="stock_id">gtk-new</property>
+	      <property name="visible_horizontal">True</property>
+	      <property name="visible_vertical">True</property>
+	      <property name="is_important">False</property>
+	    </widget>
+	    <packing>
+	      <property name="expand">False</property>
+	      <property name="homogeneous">True</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkToolButton" id="toolbutton2">
+	      <property name="visible">True</property>
+	      <property name="stock_id">gtk-preferences</property>
+	      <property name="visible_horizontal">True</property>
+	      <property name="visible_vertical">True</property>
+	      <property name="is_important">False</property>
+	    </widget>
+	    <packing>
+	      <property name="expand">False</property>
+	      <property name="homogeneous">True</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <placeholder/>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">False</property>
+	  <property name="fill">False</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkTable" id="table1">
+	  <property name="visible">True</property>
+	  <property name="n_rows">6</property>
+	  <property name="n_columns">2</property>
+	  <property name="homogeneous">False</property>
+	  <property name="row_spacing">0</property>
+	  <property name="column_spacing">0</property>
+
+	  <child>
+	    <widget class="GtkLabel" id="label1">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Component Name:&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="entry1">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label2">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Exception Manager Class Name&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="entry2">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkScrolledWindow" id="scrolledwindow1">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="hscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="vscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="shadow_type">GTK_SHADOW_ETCHED_OUT</property>
+	      <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
+
+	      <child>
+		<widget class="GtkTreeView" id="treeview1">
+		  <property name="visible">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="headers_visible">True</property>
+		  <property name="rules_hint">False</property>
+		  <property name="reorderable">False</property>
+		  <property name="enable_search">True</property>
+		  <property name="fixed_height_mode">False</property>
+		  <property name="hover_selection">False</property>
+		  <property name="hover_expand">False</property>
+		</widget>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="x_options">fill</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label3">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;View Classes&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkScrolledWindow" id="scrolledwindow2">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="hscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="vscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="shadow_type">GTK_SHADOW_ETCHED_OUT</property>
+	      <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
+
+	      <child>
+		<widget class="GtkViewport" id="viewport1">
+		  <property name="visible">True</property>
+		  <property name="shadow_type">GTK_SHADOW_IN</property>
+
+		  <child>
+		    <widget class="GtkHButtonBox" id="hbuttonbox1">
+		      <property name="visible">True</property>
+		      <property name="layout_style">GTK_BUTTONBOX_DEFAULT_STYLE</property>
+		      <property name="spacing">0</property>
+
+		      <child>
+			<widget class="GtkButton" id="button1">
+			  <property name="visible">True</property>
+			  <property name="can_default">True</property>
+			  <property name="can_focus">True</property>
+			  <property name="label">gtk-new</property>
+			  <property name="use_stock">True</property>
+			  <property name="relief">GTK_RELIEF_NORMAL</property>
+			  <property name="focus_on_click">True</property>
+			</widget>
+		      </child>
+
+		      <child>
+			<widget class="GtkButton" id="button2">
+			  <property name="visible">True</property>
+			  <property name="can_default">True</property>
+			  <property name="can_focus">True</property>
+			  <property name="label">gtk-delete</property>
+			  <property name="use_stock">True</property>
+			  <property name="relief">GTK_RELIEF_NORMAL</property>
+			  <property name="focus_on_click">True</property>
+			</widget>
+		      </child>
+
+		      <child>
+			<widget class="GtkButton" id="button3">
+			  <property name="visible">True</property>
+			  <property name="can_default">True</property>
+			  <property name="can_focus">True</property>
+			  <property name="label">gtk-clear</property>
+			  <property name="use_stock">True</property>
+			  <property name="relief">GTK_RELIEF_NORMAL</property>
+			  <property name="focus_on_click">True</property>
+			</widget>
+		      </child>
+		    </widget>
+		  </child>
+		</widget>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">3</property>
+	      <property name="bottom_attach">4</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options">fill</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label4">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Methods: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">4</property>
+	      <property name="bottom_attach">5</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkHButtonBox" id="hbuttonbox2">
+	      <property name="visible">True</property>
+	      <property name="layout_style">GTK_BUTTONBOX_DEFAULT_STYLE</property>
+	      <property name="spacing">0</property>
+
+	      <child>
+		<widget class="GtkButton" id="button4">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-new</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		</widget>
+	      </child>
+
+	      <child>
+		<widget class="GtkButton" id="button5">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-delete</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		</widget>
+	      </child>
+
+	      <child>
+		<widget class="GtkButton" id="button6">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-clear</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		</widget>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">5</property>
+	      <property name="bottom_attach">6</property>
+	      <property name="x_options">fill</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkScrolledWindow" id="scrolledwindow3">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="hscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="vscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="shadow_type">GTK_SHADOW_ETCHED_IN</property>
+	      <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
+
+	      <child>
+		<widget class="GtkTreeView" id="treeview2">
+		  <property name="visible">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="headers_visible">True</property>
+		  <property name="rules_hint">False</property>
+		  <property name="reorderable">False</property>
+		  <property name="enable_search">True</property>
+		  <property name="fixed_height_mode">False</property>
+		  <property name="hover_selection">False</property>
+		  <property name="hover_expand">False</property>
+		</widget>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">4</property>
+	      <property name="bottom_attach">5</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options">fill</property>
+	    </packing>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkStatusbar" id="statusbar1">
+	  <property name="visible">True</property>
+	  <property name="has_resize_grip">True</property>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">False</property>
+	  <property name="fill">False</property>
+	</packing>
+      </child>
+    </widget>
+  </child>
+</widget>
+
+</glade-interface>

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1,442 @@
+<?xml version="1.0" standalone="no"?> <!--*- mode: xml -*-->
+<!DOCTYPE glade-interface SYSTEM "http://glade.gnome.org/glade-2.0.dtd">
+
+<glade-interface>
+
+<widget class="GtkWindow" id="window1">
+  <property name="visible">True</property>
+  <property name="title" translatable="yes">Babuine Component Builder</property>
+  <property name="type">GTK_WINDOW_TOPLEVEL</property>
+  <property name="window_position">GTK_WIN_POS_CENTER</property>
+  <property name="modal">False</property>
+  <property name="default_width">800</property>
+  <property name="default_height">600</property>
+  <property name="resizable">True</property>
+  <property name="destroy_with_parent">False</property>
+  <property name="decorated">True</property>
+  <property name="skip_taskbar_hint">False</property>
+  <property name="skip_pager_hint">False</property>
+  <property name="type_hint">GDK_WINDOW_TYPE_HINT_NORMAL</property>
+  <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
+  <property name="focus_on_map">True</property>
+  <property name="urgency_hint">False</property>
+  <signal name="delete_event" handler="OnWindow1DeleteEvent" last_modification_time="Tue, 18 Oct 2005 13:05:42 GMT"/>
+
+  <child>
+    <widget class="GtkVBox" id="vbox1">
+      <property name="visible">True</property>
+      <property name="homogeneous">False</property>
+      <property name="spacing">0</property>
+
+      <child>
+	<placeholder/>
+      </child>
+
+      <child>
+	<widget class="GtkToolbar" id="toolbar1">
+	  <property name="visible">True</property>
+	  <property name="orientation">GTK_ORIENTATION_HORIZONTAL</property>
+	  <property name="toolbar_style">GTK_TOOLBAR_BOTH</property>
+	  <property name="tooltips">True</property>
+	  <property name="show_arrow">True</property>
+
+	  <child>
+	    <widget class="GtkToolButton" id="toolbutton1">
+	      <property name="visible">True</property>
+	      <property name="stock_id">gtk-new</property>
+	      <property name="visible_horizontal">True</property>
+	      <property name="visible_vertical">True</property>
+	      <property name="is_important">False</property>
+	    </widget>
+	    <packing>
+	      <property name="expand">False</property>
+	      <property name="homogeneous">True</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkToolButton" id="toolbutton2">
+	      <property name="visible">True</property>
+	      <property name="stock_id">gtk-preferences</property>
+	      <property name="visible_horizontal">True</property>
+	      <property name="visible_vertical">True</property>
+	      <property name="is_important">False</property>
+	    </widget>
+	    <packing>
+	      <property name="expand">False</property>
+	      <property name="homogeneous">True</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <placeholder/>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">False</property>
+	  <property name="fill">False</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkTable" id="table1">
+	  <property name="visible">True</property>
+	  <property name="n_rows">6</property>
+	  <property name="n_columns">2</property>
+	  <property name="homogeneous">False</property>
+	  <property name="row_spacing">0</property>
+	  <property name="column_spacing">0</property>
+
+	  <child>
+	    <widget class="GtkLabel" id="label1">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Component Name:&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="entry1">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label2">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Exception Manager Class Name&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="entry2">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkScrolledWindow" id="scrolledwindow1">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="hscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="vscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="shadow_type">GTK_SHADOW_ETCHED_OUT</property>
+	      <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
+
+	      <child>
+		<widget class="GtkTreeView" id="treeview1">
+		  <property name="visible">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="headers_visible">True</property>
+		  <property name="rules_hint">False</property>
+		  <property name="reorderable">False</property>
+		  <property name="enable_search">True</property>
+		  <property name="fixed_height_mode">False</property>
+		  <property name="hover_selection">False</property>
+		  <property name="hover_expand">False</property>
+		</widget>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="x_options">fill</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label3">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;View Classes&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkScrolledWindow" id="scrolledwindow2">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="hscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="vscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="shadow_type">GTK_SHADOW_ETCHED_OUT</property>
+	      <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
+
+	      <child>
+		<widget class="GtkViewport" id="viewport1">
+		  <property name="visible">True</property>
+		  <property name="shadow_type">GTK_SHADOW_IN</property>
+
+		  <child>
+		    <widget class="GtkHButtonBox" id="hbuttonbox1">
+		      <property name="visible">True</property>
+		      <property name="layout_style">GTK_BUTTONBOX_DEFAULT_STYLE</property>
+		      <property name="spacing">0</property>
+
+		      <child>
+			<widget class="GtkButton" id="button1">
+			  <property name="visible">True</property>
+			  <property name="can_default">True</property>
+			  <property name="can_focus">True</property>
+			  <property name="label">gtk-new</property>
+			  <property name="use_stock">True</property>
+			  <property name="relief">GTK_RELIEF_NORMAL</property>
+			  <property name="focus_on_click">True</property>
+			</widget>
+		      </child>
+
+		      <child>
+			<widget class="GtkButton" id="button2">
+			  <property name="visible">True</property>
+			  <property name="can_default">True</property>
+			  <property name="can_focus">True</property>
+			  <property name="label">gtk-delete</property>
+			  <property name="use_stock">True</property>
+			  <property name="relief">GTK_RELIEF_NORMAL</property>
+			  <property name="focus_on_click">True</property>
+			</widget>
+		      </child>
+
+		      <child>
+			<widget class="GtkButton" id="button3">
+			  <property name="visible">True</property>
+			  <property name="can_default">True</property>
+			  <property name="can_focus">True</property>
+			  <property name="label">gtk-clear</property>
+			  <property name="use_stock">True</property>
+			  <property name="relief">GTK_RELIEF_NORMAL</property>
+			  <property name="focus_on_click">True</property>
+			</widget>
+		      </child>
+		    </widget>
+		  </child>
+		</widget>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">3</property>
+	      <property name="bottom_attach">4</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options">fill</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label4">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Methods: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">4</property>
+	      <property name="bottom_attach">5</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkTreeView" id="treeview2">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="headers_visible">True</property>
+	      <property name="rules_hint">False</property>
+	      <property name="reorderable">False</property>
+	      <property name="enable_search">True</property>
+	      <property name="fixed_height_mode">False</property>
+	      <property name="hover_selection">False</property>
+	      <property name="hover_expand">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">4</property>
+	      <property name="bottom_attach">5</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options">fill</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkHButtonBox" id="hbuttonbox2">
+	      <property name="visible">True</property>
+	      <property name="layout_style">GTK_BUTTONBOX_DEFAULT_STYLE</property>
+	      <property name="spacing">0</property>
+
+	      <child>
+		<widget class="GtkButton" id="button4">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-new</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		</widget>
+	      </child>
+
+	      <child>
+		<widget class="GtkButton" id="button5">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-delete</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		</widget>
+	      </child>
+
+	      <child>
+		<widget class="GtkButton" id="button6">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-clear</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		</widget>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">5</property>
+	      <property name="bottom_attach">6</property>
+	      <property name="x_options">fill</property>
+	    </packing>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkStatusbar" id="statusbar1">
+	  <property name="visible">True</property>
+	  <property name="has_resize_grip">True</property>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">False</property>
+	  <property name="fill">False</property>
+	</packing>
+      </child>
+    </widget>
+  </child>
+</widget>
+
+</glade-interface>

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.gladep
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.gladep	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.gladep	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1,8 @@
+<?xml version="1.0" standalone="no"?> <!--*- mode: xml -*-->
+<!DOCTYPE glade-project SYSTEM "http://glade.gnome.org/glade-project-2.0.dtd">
+
+<glade-project>
+  <name>MainComponentBuilderForm</name>
+  <program_name>MainComponentBuilderForm</program_name>
+  <gnome_support>FALSE</gnome_support>
+</glade-project>

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.gladep.bak
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.gladep.bak	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.gladep.bak	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1,8 @@
+<?xml version="1.0" standalone="no"?> <!--*- mode: xml -*-->
+<!DOCTYPE glade-project SYSTEM "http://glade.gnome.org/glade-project-2.0.dtd">
+
+<glade-project>
+  <name>MainComponentBuilderForm</name>
+  <program_name>MainComponentBuilderForm</program_name>
+  <gnome_support>FALSE</gnome_support>
+</glade-project>

Added: BabuineComponentBuilder/trunk/src/MainComponent/AssemblyInfo.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/MainComponent/AssemblyInfo.cs	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/src/MainComponent/AssemblyInfo.cs	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1,12 @@
+using System.Reflection;
+using System.Runtime.CompilerServices;
+
+[assembly: AssemblyTitle("MSpace Main Component")]
+[assembly: AssemblyDescription("A little Component Builder")]
+[assembly: AssemblyConfiguration("")]
+[assembly: AssemblyCompany("MSpace")]
+[assembly: AssemblyProduct("Main Component")]
+[assembly: AssemblyCopyright("2005 (C) N?stor Salceda Alonso")]
+[assembly: AssemblyTrademark("")]
+[assembly: AssemblyCulture("")]
+[assembly: AssemblyVersion("0.1.*")]

Added: BabuineComponentBuilder/trunk/src/MainComponent/Bo/MainComponentComponentModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/MainComponent/Bo/MainComponentComponentModel.cs	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/src/MainComponent/Bo/MainComponentComponentModel.cs	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1,12 @@
+using System;
+using ComponentModel;
+using ComponentModel.Container;
+
+namespace MainComponent.Bo {
+    [Component ("MainComponent", "MainComponent.Exceptions.MainComponentExceptionManager")]
+    public sealed class MainComponentComponentModel : DefaultComponentModel {
+        [ComponentMethod ("MainComponent.Forms.MainComponentForm", "ResponseInitApp")]
+        public void InitApp () {
+        }
+    }
+}

Added: BabuineComponentBuilder/trunk/src/MainComponent/Forms/MainComponentForm.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/MainComponent/Forms/MainComponentForm.cs	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/src/MainComponent/Forms/MainComponentForm.cs	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1,29 @@
+using System;
+using ComponentModel.Container;
+using ComponentModel.Interfaces;
+using ComponentModel.DTO;
+using Gtk;
+
+namespace MainComponent.Forms {
+    public sealed class MainComponentForm : IViewHandler {
+        
+        public MainComponentForm () {
+        }
+        
+        public IDataTransferObject GetDataForm () {
+            return null;
+        }
+
+        public void LoadDataForm (IDataTransferObject dto) {
+        }
+
+        public void ClearForm () {
+        }
+
+        public void ResponseInitApp (ResponseMethodDTO response) {
+            if (response.ExecutionSuccess) {
+                response = DefaultContainer.Instance.Execute ("ComponentBuilder", "ShowForm", null);
+            }
+        }
+    }
+}

Added: BabuineComponentBuilder/trunk/src/MainComponent/Launcher.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/MainComponent/Launcher.cs	2005-10-18 21:02:48 UTC (rev 545)
+++ BabuineComponentBuilder/trunk/src/MainComponent/Launcher.cs	2005-10-18 22:20:00 UTC (rev 546)
@@ -0,0 +1,19 @@
+using System;
+using ComponentModel.Interfaces;
+using ComponentModel.Container;
+using Gtk;
+
+namespace MainComponent {
+    public sealed class Launcher {
+        public static void Main () {
+            Gdk.Threads.Init ();
+            Gtk.Application.Init ();
+            IComponentModel componentModel = DefaultContainer.Instance.GetComponentByName ("MainComponent");
+            Gdk.Threads.Enter ();
+            componentModel.Execute ("InitApp", null);
+            //DefaultContainer.Instance.Execute ("MainComponent", "InitApp", null);
+            Gtk.Application.Run ();
+            Gdk.Threads.Leave ();
+        }
+    }
+}



From nestor at berlios.de  Wed Oct 19 00:20:59 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Wed, 19 Oct 2005 00:20:59 +0200
Subject: [Mspace-checkins] r547 - in ComponentModel/trunk/src/ComponentModel: . Container
Message-ID: <200510182220.j9IMKxE8025774@sheep.berlios.de>

Author: nestor
Date: 2005-10-19 00:20:59 +0200 (Wed, 19 Oct 2005)
New Revision: 547

Modified:
   ComponentModel/trunk/src/ComponentModel/Container/DefaultContainer.cs
   ComponentModel/trunk/src/ComponentModel/DefaultComponentModel.cs
Log:
Isn't a concurrency problem.

VErsioning only.



Modified: ComponentModel/trunk/src/ComponentModel/Container/DefaultContainer.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/Container/DefaultContainer.cs	2005-10-18 22:20:00 UTC (rev 546)
+++ ComponentModel/trunk/src/ComponentModel/Container/DefaultContainer.cs	2005-10-18 22:20:59 UTC (rev 547)
@@ -50,11 +50,12 @@
             
             //Getting data from assembly resolv.
             componentHashtable = new Hashtable ();
-            lock (componentHashtable) {
+            //lock (componentHashtable) {
             //En cada ensamblado, cargar? el / los componente y lo registrar? con el
             //nombre que se le ha dado al atributo.
             GetAllComponents ();
-            }
+            //}
+            logger.Debug ("Exiting default ctor.");
         }
         
         private void LoadAssembliesInPath () {
@@ -111,13 +112,13 @@
         }
 
         public IComponentModel GetComponentByName (string componentName) {
-            lock (componentHashtable) {
+            //lock (componentHashtable) {
             IComponentModel componentModel = (IComponentModel) componentHashtable[componentName];
             if (componentModel == null) {
                 throw new ComponentNotFoundException ("Component " + componentName + " not found in container.");
             }
             return componentModel;
-            }
+            //}
         }
 
         public void Add (IComponentModel component) {

Modified: ComponentModel/trunk/src/ComponentModel/DefaultComponentModel.cs
===================================================================
--- ComponentModel/trunk/src/ComponentModel/DefaultComponentModel.cs	2005-10-18 22:20:00 UTC (rev 546)
+++ ComponentModel/trunk/src/ComponentModel/DefaultComponentModel.cs	2005-10-18 22:20:59 UTC (rev 547)
@@ -34,7 +34,7 @@
 namespace ComponentModel {
     public abstract class DefaultComponentModel : IComponentModel {
         //Logging
-        private Logger logger = LogManager.GetLogger ("ComponentModel.DefaultComponentModel");
+        private Logger logger = null;//= LogManager.GetLogger (this.GetType ().ToString ());
         //Value object with information associated to component
         private ComponentModelDTO componentModelDTO;
         
@@ -70,6 +70,7 @@
         
         //Ctor
         protected DefaultComponentModel () {
+            logger = LogManager.GetLogger (this.GetType ().ToString ());
             logger.Debug ("Executing ctor for: " + this.GetType ().FullName);
             viewHandlerCollection = new IViewHandlerCollection ();
         }



From nestor at berlios.de  Wed Oct 19 23:22:26 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Wed, 19 Oct 2005 23:22:26 +0200
Subject: [Mspace-checkins] r548 - in BabuineComponentBuilder/trunk: lib src/ComponentBuilder/Resources
Message-ID: <200510192122.j9JLMQNx022184@sheep.berlios.de>

Author: nestor
Date: 2005-10-19 23:22:25 +0200 (Wed, 19 Oct 2005)
New Revision: 548

Modified:
   BabuineComponentBuilder/trunk/lib/NLog.dll.nlog
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
Log:


Modified: BabuineComponentBuilder/trunk/lib/NLog.dll.nlog
===================================================================
--- BabuineComponentBuilder/trunk/lib/NLog.dll.nlog	2005-10-18 22:20:59 UTC (rev 547)
+++ BabuineComponentBuilder/trunk/lib/NLog.dll.nlog	2005-10-19 21:22:25 UTC (rev 548)
@@ -3,6 +3,6 @@
             <appender name="debug"  type="Console" />
         </appenders>
 	<rules>
-		<logger name="*" levels="Info, Warn, Debug" appendTo="debug"/>
+		<logger name="*" levels="Info, Warn" appendTo="debug"/>
 	</rules>
 </nlog>

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-18 22:20:59 UTC (rev 547)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-19 21:22:25 UTC (rev 548)
@@ -247,76 +247,6 @@
 	  </child>
 
 	  <child>
-	    <widget class="GtkScrolledWindow" id="scrolledwindow2">
-	      <property name="visible">True</property>
-	      <property name="can_focus">True</property>
-	      <property name="hscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
-	      <property name="vscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
-	      <property name="shadow_type">GTK_SHADOW_ETCHED_OUT</property>
-	      <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
-
-	      <child>
-		<widget class="GtkViewport" id="viewport1">
-		  <property name="visible">True</property>
-		  <property name="shadow_type">GTK_SHADOW_IN</property>
-
-		  <child>
-		    <widget class="GtkHButtonBox" id="hbuttonbox1">
-		      <property name="visible">True</property>
-		      <property name="layout_style">GTK_BUTTONBOX_DEFAULT_STYLE</property>
-		      <property name="spacing">0</property>
-
-		      <child>
-			<widget class="GtkButton" id="button1">
-			  <property name="visible">True</property>
-			  <property name="can_default">True</property>
-			  <property name="can_focus">True</property>
-			  <property name="label">gtk-new</property>
-			  <property name="use_stock">True</property>
-			  <property name="relief">GTK_RELIEF_NORMAL</property>
-			  <property name="focus_on_click">True</property>
-			</widget>
-		      </child>
-
-		      <child>
-			<widget class="GtkButton" id="button2">
-			  <property name="visible">True</property>
-			  <property name="can_default">True</property>
-			  <property name="can_focus">True</property>
-			  <property name="label">gtk-delete</property>
-			  <property name="use_stock">True</property>
-			  <property name="relief">GTK_RELIEF_NORMAL</property>
-			  <property name="focus_on_click">True</property>
-			</widget>
-		      </child>
-
-		      <child>
-			<widget class="GtkButton" id="button3">
-			  <property name="visible">True</property>
-			  <property name="can_default">True</property>
-			  <property name="can_focus">True</property>
-			  <property name="label">gtk-clear</property>
-			  <property name="use_stock">True</property>
-			  <property name="relief">GTK_RELIEF_NORMAL</property>
-			  <property name="focus_on_click">True</property>
-			</widget>
-		      </child>
-		    </widget>
-		  </child>
-		</widget>
-	      </child>
-	    </widget>
-	    <packing>
-	      <property name="left_attach">1</property>
-	      <property name="right_attach">2</property>
-	      <property name="top_attach">3</property>
-	      <property name="bottom_attach">4</property>
-	      <property name="x_options">fill</property>
-	      <property name="y_options">fill</property>
-	    </packing>
-	  </child>
-
-	  <child>
 	    <widget class="GtkLabel" id="label4">
 	      <property name="visible">True</property>
 	      <property name="label" translatable="yes">&lt;b&gt;Methods: &lt;/b&gt;</property>
@@ -427,6 +357,57 @@
 	      <property name="y_options">fill</property>
 	    </packing>
 	  </child>
+
+	  <child>
+	    <widget class="GtkHButtonBox" id="hbuttonbox1">
+	      <property name="visible">True</property>
+	      <property name="layout_style">GTK_BUTTONBOX_DEFAULT_STYLE</property>
+	      <property name="spacing">0</property>
+
+	      <child>
+		<widget class="GtkButton" id="button1">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-new</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		</widget>
+	      </child>
+
+	      <child>
+		<widget class="GtkButton" id="button2">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-delete</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		</widget>
+	      </child>
+
+	      <child>
+		<widget class="GtkButton" id="button3">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-clear</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		</widget>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">3</property>
+	      <property name="bottom_attach">4</property>
+	      <property name="x_options">fill</property>
+	    </packing>
+	  </child>
 	</widget>
 	<packing>
 	  <property name="padding">0</property>

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-18 22:20:59 UTC (rev 547)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-19 21:22:25 UTC (rev 548)
@@ -247,76 +247,6 @@
 	  </child>
 
 	  <child>
-	    <widget class="GtkScrolledWindow" id="scrolledwindow2">
-	      <property name="visible">True</property>
-	      <property name="can_focus">True</property>
-	      <property name="hscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
-	      <property name="vscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
-	      <property name="shadow_type">GTK_SHADOW_ETCHED_OUT</property>
-	      <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
-
-	      <child>
-		<widget class="GtkViewport" id="viewport1">
-		  <property name="visible">True</property>
-		  <property name="shadow_type">GTK_SHADOW_IN</property>
-
-		  <child>
-		    <widget class="GtkHButtonBox" id="hbuttonbox1">
-		      <property name="visible">True</property>
-		      <property name="layout_style">GTK_BUTTONBOX_DEFAULT_STYLE</property>
-		      <property name="spacing">0</property>
-
-		      <child>
-			<widget class="GtkButton" id="button1">
-			  <property name="visible">True</property>
-			  <property name="can_default">True</property>
-			  <property name="can_focus">True</property>
-			  <property name="label">gtk-new</property>
-			  <property name="use_stock">True</property>
-			  <property name="relief">GTK_RELIEF_NORMAL</property>
-			  <property name="focus_on_click">True</property>
-			</widget>
-		      </child>
-
-		      <child>
-			<widget class="GtkButton" id="button2">
-			  <property name="visible">True</property>
-			  <property name="can_default">True</property>
-			  <property name="can_focus">True</property>
-			  <property name="label">gtk-delete</property>
-			  <property name="use_stock">True</property>
-			  <property name="relief">GTK_RELIEF_NORMAL</property>
-			  <property name="focus_on_click">True</property>
-			</widget>
-		      </child>
-
-		      <child>
-			<widget class="GtkButton" id="button3">
-			  <property name="visible">True</property>
-			  <property name="can_default">True</property>
-			  <property name="can_focus">True</property>
-			  <property name="label">gtk-clear</property>
-			  <property name="use_stock">True</property>
-			  <property name="relief">GTK_RELIEF_NORMAL</property>
-			  <property name="focus_on_click">True</property>
-			</widget>
-		      </child>
-		    </widget>
-		  </child>
-		</widget>
-	      </child>
-	    </widget>
-	    <packing>
-	      <property name="left_attach">1</property>
-	      <property name="right_attach">2</property>
-	      <property name="top_attach">3</property>
-	      <property name="bottom_attach">4</property>
-	      <property name="x_options">fill</property>
-	      <property name="y_options">fill</property>
-	    </packing>
-	  </child>
-
-	  <child>
 	    <widget class="GtkLabel" id="label4">
 	      <property name="visible">True</property>
 	      <property name="label" translatable="yes">&lt;b&gt;Methods: &lt;/b&gt;</property>
@@ -345,16 +275,78 @@
 	  </child>
 
 	  <child>
-	    <widget class="GtkTreeView" id="treeview2">
+	    <widget class="GtkHButtonBox" id="hbuttonbox2">
 	      <property name="visible">True</property>
+	      <property name="layout_style">GTK_BUTTONBOX_DEFAULT_STYLE</property>
+	      <property name="spacing">0</property>
+
+	      <child>
+		<widget class="GtkButton" id="button4">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-new</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		</widget>
+	      </child>
+
+	      <child>
+		<widget class="GtkButton" id="button5">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-delete</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		</widget>
+	      </child>
+
+	      <child>
+		<widget class="GtkButton" id="button6">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-clear</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		</widget>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">5</property>
+	      <property name="bottom_attach">6</property>
+	      <property name="x_options">fill</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkScrolledWindow" id="scrolledwindow3">
+	      <property name="visible">True</property>
 	      <property name="can_focus">True</property>
-	      <property name="headers_visible">True</property>
-	      <property name="rules_hint">False</property>
-	      <property name="reorderable">False</property>
-	      <property name="enable_search">True</property>
-	      <property name="fixed_height_mode">False</property>
-	      <property name="hover_selection">False</property>
-	      <property name="hover_expand">False</property>
+	      <property name="hscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="vscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="shadow_type">GTK_SHADOW_ETCHED_IN</property>
+	      <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
+
+	      <child>
+		<widget class="GtkTreeView" id="treeview2">
+		  <property name="visible">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="headers_visible">True</property>
+		  <property name="rules_hint">False</property>
+		  <property name="reorderable">False</property>
+		  <property name="enable_search">True</property>
+		  <property name="fixed_height_mode">False</property>
+		  <property name="hover_selection">False</property>
+		  <property name="hover_expand">False</property>
+		</widget>
+	      </child>
 	    </widget>
 	    <packing>
 	      <property name="left_attach">1</property>
@@ -367,13 +359,13 @@
 	  </child>
 
 	  <child>
-	    <widget class="GtkHButtonBox" id="hbuttonbox2">
+	    <widget class="GtkHButtonBox" id="hbuttonbox1">
 	      <property name="visible">True</property>
 	      <property name="layout_style">GTK_BUTTONBOX_DEFAULT_STYLE</property>
 	      <property name="spacing">0</property>
 
 	      <child>
-		<widget class="GtkButton" id="button4">
+		<widget class="GtkButton" id="button1">
 		  <property name="visible">True</property>
 		  <property name="can_default">True</property>
 		  <property name="can_focus">True</property>
@@ -385,7 +377,7 @@
 	      </child>
 
 	      <child>
-		<widget class="GtkButton" id="button5">
+		<widget class="GtkButton" id="button2">
 		  <property name="visible">True</property>
 		  <property name="can_default">True</property>
 		  <property name="can_focus">True</property>
@@ -397,7 +389,7 @@
 	      </child>
 
 	      <child>
-		<widget class="GtkButton" id="button6">
+		<widget class="GtkButton" id="button3">
 		  <property name="visible">True</property>
 		  <property name="can_default">True</property>
 		  <property name="can_focus">True</property>
@@ -411,8 +403,8 @@
 	    <packing>
 	      <property name="left_attach">1</property>
 	      <property name="right_attach">2</property>
-	      <property name="top_attach">5</property>
-	      <property name="bottom_attach">6</property>
+	      <property name="top_attach">3</property>
+	      <property name="bottom_attach">4</property>
 	      <property name="x_options">fill</property>
 	    </packing>
 	  </child>



From nestor at berlios.de  Wed Oct 19 23:56:27 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Wed, 19 Oct 2005 23:56:27 +0200
Subject: [Mspace-checkins] r549 - in BabuineComponentBuilder/trunk/src/ComponentBuilder: Dto Forms Resources
Message-ID: <200510192156.j9JLuRSk024725@sheep.berlios.de>

Author: nestor
Date: 2005-10-19 23:56:27 +0200 (Wed, 19 Oct 2005)
New Revision: 549

Modified:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/ComponentSettingsDTO.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/MethodDTO.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
Log:


Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/ComponentSettingsDTO.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/ComponentSettingsDTO.cs	2005-10-19 21:22:25 UTC (rev 548)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/ComponentSettingsDTO.cs	2005-10-19 21:56:27 UTC (rev 549)
@@ -11,18 +11,18 @@
         //Gestor de exceptions
         private string classExceptionManager;
         //Collection de vistas
-        private StringCollection viewCollections; 
+        private StringCollection viewsCollection; 
         //Collection de casos de uso
-        private IList methodCollection;
+        private IList methodsCollection;
 
-        public IList MethodCollection {
-            get {return methodCollection;}
-            set {methodCollection = value;}
+        public IList MethodsCollection {
+            get {return methodsCollection;}
+            set {methodsCollection = value;}
         }
 
-        public StringCollection ViewCollections {
-            get {return viewCollections;}
-            set {viewCollections = value;}
+        public StringCollection ViewsCollection {
+            get {return viewsCollection;}
+            set {viewsCollection = value;}
         }
 
         public string ClassExceptionManager {

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/MethodDTO.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/MethodDTO.cs	2005-10-19 21:22:25 UTC (rev 548)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/MethodDTO.cs	2005-10-19 21:56:27 UTC (rev 549)
@@ -9,11 +9,11 @@
         private string methodName;
         private string viewToResponse;
         private string responseMethod;
-        private IList parameterCollection;
+        private IList parametersCollection;
 
-        public IList ParameterCollection {
-            get {return parameterCollection;}
-            set {parameterCollection = value;}
+        public IList ParametersCollection {
+            get {return parametersCollection;}
+            set {parametersCollection = value;}
         }
         
         public string ResponseMethod {

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-19 21:22:25 UTC (rev 548)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-19 21:56:27 UTC (rev 549)
@@ -8,10 +8,20 @@
     public sealed class MainComponentBuilderForm : IViewHandler {
         Glade.XML gxml = null;
         [Widget] Statusbar statusbar1;
+        [Widget] TreeView viewsTreeView, methodsTreeView;
         
         public MainComponentBuilderForm () {
             gxml = new Glade.XML (null, "MainComponentBuilderForm.glade", "window1", null);
             gxml.Autoconnect (this);
+
+            //Vamos a setar los models para los treeViews
+            viewsTreeView.AppendColumn ("View Type Name", new CellRendererText (), "text", 0);
+            
+            methodsTreeView.AppendColumn ("Method Name", new CellRendererText (), "text", 0);
+            methodsTreeView.AppendColumn ("Return Type", new CellRendererText (), "text", 1);
+            methodsTreeView.AppendColumn ("Parameters", new CellRendererText (), "text", 2);
+            methodsTreeView.AppendColumn ("View To Reponse", new CellRendererText (), "text", 3);
+            methodsTreeView.AppendColumn ("Response Method", new CellRendererText (), "text", 4);
         }
         
         public IDataTransferObject GetDataForm () {

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-19 21:22:25 UTC (rev 548)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-19 21:56:27 UTC (rev 549)
@@ -89,34 +89,6 @@
 	  <property name="column_spacing">0</property>
 
 	  <child>
-	    <widget class="GtkLabel" id="label1">
-	      <property name="visible">True</property>
-	      <property name="label" translatable="yes">&lt;b&gt;Component Name:&lt;/b&gt;</property>
-	      <property name="use_underline">False</property>
-	      <property name="use_markup">True</property>
-	      <property name="justify">GTK_JUSTIFY_LEFT</property>
-	      <property name="wrap">False</property>
-	      <property name="selectable">False</property>
-	      <property name="xalign">0</property>
-	      <property name="yalign">0.5</property>
-	      <property name="xpad">0</property>
-	      <property name="ypad">0</property>
-	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-	      <property name="width_chars">-1</property>
-	      <property name="single_line_mode">False</property>
-	      <property name="angle">0</property>
-	    </widget>
-	    <packing>
-	      <property name="left_attach">0</property>
-	      <property name="right_attach">1</property>
-	      <property name="top_attach">0</property>
-	      <property name="bottom_attach">1</property>
-	      <property name="x_options">fill</property>
-	      <property name="y_options"></property>
-	    </packing>
-	  </child>
-
-	  <child>
 	    <widget class="GtkEntry" id="entry1">
 	      <property name="visible">True</property>
 	      <property name="can_focus">True</property>
@@ -138,34 +110,6 @@
 	  </child>
 
 	  <child>
-	    <widget class="GtkLabel" id="label2">
-	      <property name="visible">True</property>
-	      <property name="label" translatable="yes">&lt;b&gt;Exception Manager Class Name&lt;/b&gt;</property>
-	      <property name="use_underline">False</property>
-	      <property name="use_markup">True</property>
-	      <property name="justify">GTK_JUSTIFY_LEFT</property>
-	      <property name="wrap">False</property>
-	      <property name="selectable">False</property>
-	      <property name="xalign">0</property>
-	      <property name="yalign">0.5</property>
-	      <property name="xpad">0</property>
-	      <property name="ypad">0</property>
-	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-	      <property name="width_chars">-1</property>
-	      <property name="single_line_mode">False</property>
-	      <property name="angle">0</property>
-	    </widget>
-	    <packing>
-	      <property name="left_attach">0</property>
-	      <property name="right_attach">1</property>
-	      <property name="top_attach">1</property>
-	      <property name="bottom_attach">2</property>
-	      <property name="x_options">fill</property>
-	      <property name="y_options"></property>
-	    </packing>
-	  </child>
-
-	  <child>
 	    <widget class="GtkEntry" id="entry2">
 	      <property name="visible">True</property>
 	      <property name="can_focus">True</property>
@@ -196,11 +140,11 @@
 	      <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
 
 	      <child>
-		<widget class="GtkTreeView" id="treeview1">
+		<widget class="GtkTreeView" id="viewsTreeView">
 		  <property name="visible">True</property>
 		  <property name="can_focus">True</property>
 		  <property name="headers_visible">True</property>
-		  <property name="rules_hint">False</property>
+		  <property name="rules_hint">True</property>
 		  <property name="reorderable">False</property>
 		  <property name="enable_search">True</property>
 		  <property name="fixed_height_mode">False</property>
@@ -219,62 +163,6 @@
 	  </child>
 
 	  <child>
-	    <widget class="GtkLabel" id="label3">
-	      <property name="visible">True</property>
-	      <property name="label" translatable="yes">&lt;b&gt;View Classes&lt;/b&gt;</property>
-	      <property name="use_underline">False</property>
-	      <property name="use_markup">True</property>
-	      <property name="justify">GTK_JUSTIFY_LEFT</property>
-	      <property name="wrap">False</property>
-	      <property name="selectable">False</property>
-	      <property name="xalign">0</property>
-	      <property name="yalign">0.5</property>
-	      <property name="xpad">0</property>
-	      <property name="ypad">0</property>
-	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-	      <property name="width_chars">-1</property>
-	      <property name="single_line_mode">False</property>
-	      <property name="angle">0</property>
-	    </widget>
-	    <packing>
-	      <property name="left_attach">0</property>
-	      <property name="right_attach">1</property>
-	      <property name="top_attach">2</property>
-	      <property name="bottom_attach">3</property>
-	      <property name="x_options">fill</property>
-	      <property name="y_options"></property>
-	    </packing>
-	  </child>
-
-	  <child>
-	    <widget class="GtkLabel" id="label4">
-	      <property name="visible">True</property>
-	      <property name="label" translatable="yes">&lt;b&gt;Methods: &lt;/b&gt;</property>
-	      <property name="use_underline">False</property>
-	      <property name="use_markup">True</property>
-	      <property name="justify">GTK_JUSTIFY_LEFT</property>
-	      <property name="wrap">False</property>
-	      <property name="selectable">False</property>
-	      <property name="xalign">0</property>
-	      <property name="yalign">0.5</property>
-	      <property name="xpad">0</property>
-	      <property name="ypad">0</property>
-	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-	      <property name="width_chars">-1</property>
-	      <property name="single_line_mode">False</property>
-	      <property name="angle">0</property>
-	    </widget>
-	    <packing>
-	      <property name="left_attach">0</property>
-	      <property name="right_attach">1</property>
-	      <property name="top_attach">4</property>
-	      <property name="bottom_attach">5</property>
-	      <property name="x_options">fill</property>
-	      <property name="y_options"></property>
-	    </packing>
-	  </child>
-
-	  <child>
 	    <widget class="GtkHButtonBox" id="hbuttonbox2">
 	      <property name="visible">True</property>
 	      <property name="layout_style">GTK_BUTTONBOX_DEFAULT_STYLE</property>
@@ -335,11 +223,11 @@
 	      <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
 
 	      <child>
-		<widget class="GtkTreeView" id="treeview2">
+		<widget class="GtkTreeView" id="methodsTreeView">
 		  <property name="visible">True</property>
 		  <property name="can_focus">True</property>
 		  <property name="headers_visible">True</property>
-		  <property name="rules_hint">False</property>
+		  <property name="rules_hint">True</property>
 		  <property name="reorderable">False</property>
 		  <property name="enable_search">True</property>
 		  <property name="fixed_height_mode">False</property>
@@ -408,6 +296,114 @@
 	      <property name="x_options">fill</property>
 	    </packing>
 	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label2">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Exception Manager Class Name:&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_CENTER</property>
+	      <property name="wrap">True</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_MIDDLE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="y_options">expand</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label3">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;View Classes: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_CENTER</property>
+	      <property name="wrap">True</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_MIDDLE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="y_options">expand</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label4">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Methods: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_CENTER</property>
+	      <property name="wrap">True</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_MIDDLE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">4</property>
+	      <property name="bottom_attach">5</property>
+	      <property name="y_options">expand</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label1">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Component Name:&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_CENTER</property>
+	      <property name="wrap">True</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_MIDDLE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="y_options">expand</property>
+	    </packing>
+	  </child>
 	</widget>
 	<packing>
 	  <property name="padding">0</property>

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-19 21:22:25 UTC (rev 548)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-19 21:56:27 UTC (rev 549)
@@ -89,34 +89,6 @@
 	  <property name="column_spacing">0</property>
 
 	  <child>
-	    <widget class="GtkLabel" id="label1">
-	      <property name="visible">True</property>
-	      <property name="label" translatable="yes">&lt;b&gt;Component Name:&lt;/b&gt;</property>
-	      <property name="use_underline">False</property>
-	      <property name="use_markup">True</property>
-	      <property name="justify">GTK_JUSTIFY_LEFT</property>
-	      <property name="wrap">False</property>
-	      <property name="selectable">False</property>
-	      <property name="xalign">0</property>
-	      <property name="yalign">0.5</property>
-	      <property name="xpad">0</property>
-	      <property name="ypad">0</property>
-	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-	      <property name="width_chars">-1</property>
-	      <property name="single_line_mode">False</property>
-	      <property name="angle">0</property>
-	    </widget>
-	    <packing>
-	      <property name="left_attach">0</property>
-	      <property name="right_attach">1</property>
-	      <property name="top_attach">0</property>
-	      <property name="bottom_attach">1</property>
-	      <property name="x_options">fill</property>
-	      <property name="y_options"></property>
-	    </packing>
-	  </child>
-
-	  <child>
 	    <widget class="GtkEntry" id="entry1">
 	      <property name="visible">True</property>
 	      <property name="can_focus">True</property>
@@ -138,34 +110,6 @@
 	  </child>
 
 	  <child>
-	    <widget class="GtkLabel" id="label2">
-	      <property name="visible">True</property>
-	      <property name="label" translatable="yes">&lt;b&gt;Exception Manager Class Name&lt;/b&gt;</property>
-	      <property name="use_underline">False</property>
-	      <property name="use_markup">True</property>
-	      <property name="justify">GTK_JUSTIFY_LEFT</property>
-	      <property name="wrap">False</property>
-	      <property name="selectable">False</property>
-	      <property name="xalign">0</property>
-	      <property name="yalign">0.5</property>
-	      <property name="xpad">0</property>
-	      <property name="ypad">0</property>
-	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-	      <property name="width_chars">-1</property>
-	      <property name="single_line_mode">False</property>
-	      <property name="angle">0</property>
-	    </widget>
-	    <packing>
-	      <property name="left_attach">0</property>
-	      <property name="right_attach">1</property>
-	      <property name="top_attach">1</property>
-	      <property name="bottom_attach">2</property>
-	      <property name="x_options">fill</property>
-	      <property name="y_options"></property>
-	    </packing>
-	  </child>
-
-	  <child>
 	    <widget class="GtkEntry" id="entry2">
 	      <property name="visible">True</property>
 	      <property name="can_focus">True</property>
@@ -196,11 +140,11 @@
 	      <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
 
 	      <child>
-		<widget class="GtkTreeView" id="treeview1">
+		<widget class="GtkTreeView" id="viewsTreeView">
 		  <property name="visible">True</property>
 		  <property name="can_focus">True</property>
 		  <property name="headers_visible">True</property>
-		  <property name="rules_hint">False</property>
+		  <property name="rules_hint">True</property>
 		  <property name="reorderable">False</property>
 		  <property name="enable_search">True</property>
 		  <property name="fixed_height_mode">False</property>
@@ -219,62 +163,6 @@
 	  </child>
 
 	  <child>
-	    <widget class="GtkLabel" id="label3">
-	      <property name="visible">True</property>
-	      <property name="label" translatable="yes">&lt;b&gt;View Classes&lt;/b&gt;</property>
-	      <property name="use_underline">False</property>
-	      <property name="use_markup">True</property>
-	      <property name="justify">GTK_JUSTIFY_LEFT</property>
-	      <property name="wrap">False</property>
-	      <property name="selectable">False</property>
-	      <property name="xalign">0</property>
-	      <property name="yalign">0.5</property>
-	      <property name="xpad">0</property>
-	      <property name="ypad">0</property>
-	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-	      <property name="width_chars">-1</property>
-	      <property name="single_line_mode">False</property>
-	      <property name="angle">0</property>
-	    </widget>
-	    <packing>
-	      <property name="left_attach">0</property>
-	      <property name="right_attach">1</property>
-	      <property name="top_attach">2</property>
-	      <property name="bottom_attach">3</property>
-	      <property name="x_options">fill</property>
-	      <property name="y_options"></property>
-	    </packing>
-	  </child>
-
-	  <child>
-	    <widget class="GtkLabel" id="label4">
-	      <property name="visible">True</property>
-	      <property name="label" translatable="yes">&lt;b&gt;Methods: &lt;/b&gt;</property>
-	      <property name="use_underline">False</property>
-	      <property name="use_markup">True</property>
-	      <property name="justify">GTK_JUSTIFY_LEFT</property>
-	      <property name="wrap">False</property>
-	      <property name="selectable">False</property>
-	      <property name="xalign">0</property>
-	      <property name="yalign">0.5</property>
-	      <property name="xpad">0</property>
-	      <property name="ypad">0</property>
-	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-	      <property name="width_chars">-1</property>
-	      <property name="single_line_mode">False</property>
-	      <property name="angle">0</property>
-	    </widget>
-	    <packing>
-	      <property name="left_attach">0</property>
-	      <property name="right_attach">1</property>
-	      <property name="top_attach">4</property>
-	      <property name="bottom_attach">5</property>
-	      <property name="x_options">fill</property>
-	      <property name="y_options"></property>
-	    </packing>
-	  </child>
-
-	  <child>
 	    <widget class="GtkHButtonBox" id="hbuttonbox2">
 	      <property name="visible">True</property>
 	      <property name="layout_style">GTK_BUTTONBOX_DEFAULT_STYLE</property>
@@ -335,11 +223,11 @@
 	      <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
 
 	      <child>
-		<widget class="GtkTreeView" id="treeview2">
+		<widget class="GtkTreeView" id="methodsTreeView">
 		  <property name="visible">True</property>
 		  <property name="can_focus">True</property>
 		  <property name="headers_visible">True</property>
-		  <property name="rules_hint">False</property>
+		  <property name="rules_hint">True</property>
 		  <property name="reorderable">False</property>
 		  <property name="enable_search">True</property>
 		  <property name="fixed_height_mode">False</property>
@@ -408,6 +296,114 @@
 	      <property name="x_options">fill</property>
 	    </packing>
 	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label2">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Exception Manager Class Name:&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_CENTER</property>
+	      <property name="wrap">True</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_MIDDLE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="y_options">expand</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label3">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;View Classes: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_CENTER</property>
+	      <property name="wrap">True</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_MIDDLE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="y_options">expand</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label4">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Methods: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_CENTER</property>
+	      <property name="wrap">True</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_MIDDLE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">4</property>
+	      <property name="bottom_attach">5</property>
+	      <property name="y_options">expand</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label1">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Component Name:&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_CENTER</property>
+	      <property name="wrap">True</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_MIDDLE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="y_options">expand</property>
+	    </packing>
+	  </child>
 	</widget>
 	<packing>
 	  <property name="padding">0</property>



From nestor at berlios.de  Thu Oct 20 13:34:15 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Thu, 20 Oct 2005 13:34:15 +0200
Subject: [Mspace-checkins] r550 - in BabuineComponentBuilder/trunk/src/ComponentBuilder: . Bo Forms Forms/TableModel Interfaces Resources
Message-ID: <200510201134.j9KBYFnt010727@sheep.berlios.de>

Author: nestor
Date: 2005-10-20 13:34:11 +0200 (Thu, 20 Oct 2005)
New Revision: 550

Added:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/MethodTableModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/ViewTableModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Interfaces/
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Interfaces/ITableModel.cs
Modified:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
Log:
Tablemodels para la vista.


Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-19 21:56:27 UTC (rev 549)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-20 11:34:11 UTC (rev 550)
@@ -2,7 +2,7 @@
 using ComponentModel;
 
 namespace ComponentBuilder.Bo {
-    [Component ("ComponentBuilder", "ComponentBuilder.Exceptions.ComponenBuilderExceptionManager")]
+    [Component ("ComponentBuilder", "ComponentBuilder.Exceptions.ComponentBuilderExceptionManager")]
     public sealed class ComponentBuilderComponentModel : DefaultComponentModel {
        
         [ComponentMethod ("ComponentBuilder.Forms.MainComponentBuilderForm", "ResponseShowForm")]

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-19 21:56:27 UTC (rev 549)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-20 11:34:11 UTC (rev 550)
@@ -1,6 +1,8 @@
 using System;
 using ComponentModel.Interfaces;
 using ComponentModel.DTO;
+using ComponentBuilder.DTO;
+using ComponentBuilder.Forms.TableModel;
 using Gtk;
 using Glade;
 
@@ -29,6 +31,9 @@
         }
 
         public void LoadDataForm (IDataTransferObject dto) {
+            if (dto is ComponentSettingsDTO) {
+                ComponentSettingsDTO componentSettingsDTO = (ComponentSettingsDTO) dto;
+            }
         }
 
         public void ClearForm () {
@@ -38,6 +43,9 @@
             if (response.ExecutionSuccess) {
                 response.MethodResult = gxml["vbox1"];
                 statusbar1.Push (0, String.Format ("Welcome to Babuine Component Builder: {0}@{1}", Environment.UserName, Environment.MachineName));
+                //Vamos a instanciar tambi?n los modelos de las vistas.
+                viewsTreeView.Model = new ViewTableModel ().ListStore;
+                methodsTreeView.Model = new MethodTableModel ().ListStore;
             }
         }
         

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/MethodTableModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/MethodTableModel.cs	2005-10-19 21:56:27 UTC (rev 549)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/MethodTableModel.cs	2005-10-20 11:34:11 UTC (rev 550)
@@ -0,0 +1,49 @@
+using System;
+using System.Collections;
+using ComponentModel.Interfaces;
+using ComponentBuilder.DTO;
+using ComponentBuilder.Interfaces;
+using Gtk;
+
+namespace ComponentBuilder.Forms.TableModel {
+    public sealed class MethodTableModel : ITableModel {
+        private ListStore listStore; 
+        private Type[] tipos;
+
+        public MethodTableModel () {
+            tipos = new Type[5];
+            for (int i = 0; i < tipos.Length; i++) {
+                tipos[i] = typeof (string);
+            }
+            listStore = new ListStore (tipos);
+        }
+
+        public MethodTableModel (IList list) {
+            foreach (MethodDTO methodDTO in list) {
+                this.Add (methodDTO);
+            }
+        }
+
+        public void Add (IDataTransferObject dto) {
+            if (dto is MethodDTO) {
+                MethodDTO methodDTO = (MethodDTO) dto;
+                listStore.AppendValues (
+                        methodDTO.MethodName,
+                        methodDTO.ReturnType,
+                        methodDTO.ViewToResponse,
+                        methodDTO.ResponseMethod,
+                        methodDTO.ParametersCollection.ToString ()
+                        );
+            }
+        }
+
+        public void Clear () {
+            listStore.Clear ();
+        }
+        
+        public ListStore ListStore {
+            get {return listStore;}
+        }
+
+    }
+}

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/ViewTableModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/ViewTableModel.cs	2005-10-19 21:56:27 UTC (rev 549)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/ViewTableModel.cs	2005-10-20 11:34:11 UTC (rev 550)
@@ -0,0 +1,44 @@
+using System;
+using System.Collections;
+using ComponentModel.Interfaces;
+using ComponentBuilder.DTO;
+using ComponentBuilder.Interfaces;
+using Gtk;
+
+namespace ComponentBuilder.Forms.TableModel {
+    public sealed class ViewTableModel : ITableModel {
+        private ListStore listStore; 
+        private Type[] tipos;
+
+        public ViewTableModel () {
+            tipos = new Type[1];
+            for (int i = 0; i < tipos.Length; i++) {
+                tipos[i] = typeof (string);
+            }
+            listStore = new ListStore (tipos);
+        }
+
+        public ViewTableModel (IList list) {
+            foreach (string view in list) {
+                this.Add (view);
+            }
+        }
+
+        public void Add (string view) {
+            listStore.AppendValues (view);
+        }
+        
+        public void Add (IDataTransferObject dto) {
+            //Ojo aqui !
+        }
+
+        public void Clear () {
+            listStore.Clear ();
+        }
+        
+        public ListStore ListStore {
+            get {return listStore;}
+        }
+
+    }
+}

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Interfaces/ITableModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Interfaces/ITableModel.cs	2005-10-19 21:56:27 UTC (rev 549)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Interfaces/ITableModel.cs	2005-10-20 11:34:11 UTC (rev 550)
@@ -0,0 +1,12 @@
+using System;
+using ComponentModel.Interfaces;
+using System.Collections;
+using Gtk;
+
+namespace ComponentBuilder.Interfaces {
+    internal interface ITableModel {
+        void Clear ();
+        void Add (IDataTransferObject dto);
+        ListStore ListStore {get;}
+    }
+}

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-19 21:56:27 UTC (rev 549)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-20 11:34:11 UTC (rev 550)
@@ -81,6 +81,7 @@
 
       <child>
 	<widget class="GtkTable" id="table1">
+	  <property name="border_width">20</property>
 	  <property name="visible">True</property>
 	  <property name="n_rows">6</property>
 	  <property name="n_columns">2</property>
@@ -89,7 +90,7 @@
 	  <property name="column_spacing">0</property>
 
 	  <child>
-	    <widget class="GtkEntry" id="entry1">
+	    <widget class="GtkEntry" id="componentNameEntry">
 	      <property name="visible">True</property>
 	      <property name="can_focus">True</property>
 	      <property name="editable">True</property>
@@ -110,7 +111,7 @@
 	  </child>
 
 	  <child>
-	    <widget class="GtkEntry" id="entry2">
+	    <widget class="GtkEntry" id="exceptionManagerClassNameEntry">
 	      <property name="visible">True</property>
 	      <property name="can_focus">True</property>
 	      <property name="editable">True</property>

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-19 21:56:27 UTC (rev 549)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-20 11:34:11 UTC (rev 550)
@@ -81,6 +81,7 @@
 
       <child>
 	<widget class="GtkTable" id="table1">
+	  <property name="border_width">20</property>
 	  <property name="visible">True</property>
 	  <property name="n_rows">6</property>
 	  <property name="n_columns">2</property>
@@ -89,7 +90,7 @@
 	  <property name="column_spacing">0</property>
 
 	  <child>
-	    <widget class="GtkEntry" id="entry1">
+	    <widget class="GtkEntry" id="componentNameEntry">
 	      <property name="visible">True</property>
 	      <property name="can_focus">True</property>
 	      <property name="editable">True</property>
@@ -110,7 +111,7 @@
 	  </child>
 
 	  <child>
-	    <widget class="GtkEntry" id="entry2">
+	    <widget class="GtkEntry" id="exceptionManagerClassNameEntry">
 	      <property name="visible">True</property>
 	      <property name="can_focus">True</property>
 	      <property name="editable">True</property>



From nestor at berlios.de  Sat Oct 22 17:41:14 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Sat, 22 Oct 2005 17:41:14 +0200
Subject: [Mspace-checkins] r551 - in BabuineComponentBuilder/trunk/src/ComponentBuilder: Forms Forms/TableModel Interfaces Resources
Message-ID: <200510221541.j9MFfENu020277@sheep.berlios.de>

Author: nestor
Date: 2005-10-22 17:41:12 +0200 (Sat, 22 Oct 2005)
New Revision: 551

Modified:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/MethodTableModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/ViewTableModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Interfaces/ITableModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
Log:
Para a?\195?\177adir vistas :)



Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-20 11:34:11 UTC (rev 550)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-22 15:41:12 UTC (rev 551)
@@ -8,11 +8,16 @@
 
 namespace ComponentBuilder.Forms {
     public sealed class MainComponentBuilderForm : IViewHandler {
-        Glade.XML gxml = null;
+        Glade.XML gxml, newViewDialog = null;
         [Widget] Statusbar statusbar1;
         [Widget] TreeView viewsTreeView, methodsTreeView;
+
+        ViewTableModel viewTableModel;
+        MethodTableModel methodTableModel;
         
         public MainComponentBuilderForm () {
+            //La gracia ser?a sacar el VBox y pasarlo como si fuera un
+            //container.
             gxml = new Glade.XML (null, "MainComponentBuilderForm.glade", "window1", null);
             gxml.Autoconnect (this);
 
@@ -44,13 +49,35 @@
                 response.MethodResult = gxml["vbox1"];
                 statusbar1.Push (0, String.Format ("Welcome to Babuine Component Builder: {0}@{1}", Environment.UserName, Environment.MachineName));
                 //Vamos a instanciar tambi?n los modelos de las vistas.
-                viewsTreeView.Model = new ViewTableModel ().ListStore;
-                methodsTreeView.Model = new MethodTableModel ().ListStore;
+                viewTableModel = new ViewTableModel ();
+                viewsTreeView.Model = viewTableModel.ListStore;
+                methodTableModel = new MethodTableModel ();
+                methodsTreeView.Model = methodTableModel.ListStore;
             }
         }
         
         private void OnWindow1DeleteEvent (object sender, DeleteEventArgs args) {
             Application.Quit ();
         }
+
+        private void OnNewViewClicked (object sender, EventArgs args) {
+            newViewDialog = new Glade.XML (null, "MainComponentBuilderForm.glade", "newViewDialog", null);
+            Dialog dialog = (Dialog) newViewDialog ["newViewDialog"];
+            switch (dialog.Run ()) {
+                case (int) ResponseType.Ok:
+                    Entry viewNameEntry = (Entry) newViewDialog ["viewNameEntry"];
+                    if (viewNameEntry.Text.Length != 0) {
+                        viewTableModel.Add (viewNameEntry.Text);
+                        viewsTreeView.Model = viewTableModel.ListStore;
+                    }
+                    break;
+                case (int) ResponseType.Cancel:
+                    break;
+                default:
+                    break;
+            }
+            dialog.Destroy ();
+            newViewDialog = null;
+        }
     }
 }

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/MethodTableModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/MethodTableModel.cs	2005-10-20 11:34:11 UTC (rev 550)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/MethodTableModel.cs	2005-10-22 15:41:12 UTC (rev 551)
@@ -9,6 +9,7 @@
     public sealed class MethodTableModel : ITableModel {
         private ListStore listStore; 
         private Type[] tipos;
+        private IList list;
 
         public MethodTableModel () {
             tipos = new Type[5];
@@ -16,6 +17,7 @@
                 tipos[i] = typeof (string);
             }
             listStore = new ListStore (tipos);
+            list = new ArrayList ();
         }
 
         public MethodTableModel (IList list) {
@@ -34,16 +36,22 @@
                         methodDTO.ResponseMethod,
                         methodDTO.ParametersCollection.ToString ()
                         );
+                list.Add (methodDTO);
             }
         }
 
         public void Clear () {
             listStore.Clear ();
+            list.Clear ();
         }
         
         public ListStore ListStore {
             get {return listStore;}
         }
 
+        public IList ListModel {
+            get {return list;}
+        }
+
     }
 }

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/ViewTableModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/ViewTableModel.cs	2005-10-20 11:34:11 UTC (rev 550)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/ViewTableModel.cs	2005-10-22 15:41:12 UTC (rev 551)
@@ -9,8 +9,10 @@
     public sealed class ViewTableModel : ITableModel {
         private ListStore listStore; 
         private Type[] tipos;
+        private IList list;
 
         public ViewTableModel () {
+            list = new ArrayList ();
             tipos = new Type[1];
             for (int i = 0; i < tipos.Length; i++) {
                 tipos[i] = typeof (string);
@@ -26,6 +28,7 @@
 
         public void Add (string view) {
             listStore.AppendValues (view);
+            list.Add (view);
         }
         
         public void Add (IDataTransferObject dto) {
@@ -34,11 +37,16 @@
 
         public void Clear () {
             listStore.Clear ();
+            list.Clear ();
         }
         
         public ListStore ListStore {
             get {return listStore;}
         }
 
+        public IList ListModel {
+            get {return list;}
+        }
+
     }
 }

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Interfaces/ITableModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Interfaces/ITableModel.cs	2005-10-20 11:34:11 UTC (rev 550)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Interfaces/ITableModel.cs	2005-10-22 15:41:12 UTC (rev 551)
@@ -5,6 +5,7 @@
 
 namespace ComponentBuilder.Interfaces {
     internal interface ITableModel {
+        IList ListModel {get;}
         void Clear ();
         void Add (IDataTransferObject dto);
         ListStore ListStore {get;}

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-20 11:34:11 UTC (rev 550)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-22 15:41:12 UTC (rev 551)
@@ -262,6 +262,7 @@
 		  <property name="use_stock">True</property>
 		  <property name="relief">GTK_RELIEF_NORMAL</property>
 		  <property name="focus_on_click">True</property>
+		  <signal name="clicked" handler="OnNewViewClicked" last_modification_time="Sat, 22 Oct 2005 15:21:29 GMT"/>
 		</widget>
 	      </child>
 
@@ -428,4 +429,126 @@
   </child>
 </widget>
 
+<widget class="GtkDialog" id="newViewDialog">
+  <property name="visible">True</property>
+  <property name="title" translatable="yes">Nueva Vista</property>
+  <property name="type">GTK_WINDOW_TOPLEVEL</property>
+  <property name="window_position">GTK_WIN_POS_CENTER_ON_PARENT</property>
+  <property name="modal">True</property>
+  <property name="resizable">True</property>
+  <property name="destroy_with_parent">False</property>
+  <property name="decorated">True</property>
+  <property name="skip_taskbar_hint">False</property>
+  <property name="skip_pager_hint">False</property>
+  <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
+  <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
+  <property name="focus_on_map">True</property>
+  <property name="urgency_hint">False</property>
+  <property name="has_separator">True</property>
+
+  <child internal-child="vbox">
+    <widget class="GtkVBox" id="dialog-vbox1">
+      <property name="visible">True</property>
+      <property name="homogeneous">False</property>
+      <property name="spacing">0</property>
+
+      <child internal-child="action_area">
+	<widget class="GtkHButtonBox" id="dialog-action_area1">
+	  <property name="visible">True</property>
+	  <property name="layout_style">GTK_BUTTONBOX_END</property>
+
+	  <child>
+	    <widget class="GtkButton" id="cancelbutton1">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-cancel</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-6</property>
+	    </widget>
+	  </child>
+
+	  <child>
+	    <widget class="GtkButton" id="okbutton1">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-ok</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-5</property>
+	    </widget>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">False</property>
+	  <property name="fill">True</property>
+	  <property name="pack_type">GTK_PACK_END</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkHBox" id="hbox1">
+	  <property name="visible">True</property>
+	  <property name="homogeneous">False</property>
+	  <property name="spacing">0</property>
+
+	  <child>
+	    <widget class="GtkLabel" id="label5">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Nombre: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_CENTER</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0.5</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">False</property>
+	      <property name="fill">False</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="viewNameEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">True</property>
+	      <property name="fill">True</property>
+	    </packing>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+    </widget>
+  </child>
+</widget>
+
 </glade-interface>

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-20 11:34:11 UTC (rev 550)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-22 15:41:12 UTC (rev 551)
@@ -262,6 +262,7 @@
 		  <property name="use_stock">True</property>
 		  <property name="relief">GTK_RELIEF_NORMAL</property>
 		  <property name="focus_on_click">True</property>
+		  <signal name="clicked" handler="OnNewViewClicked" last_modification_time="Sat, 22 Oct 2005 15:21:29 GMT"/>
 		</widget>
 	      </child>
 
@@ -428,4 +429,126 @@
   </child>
 </widget>
 
+<widget class="GtkDialog" id="newViewDialog">
+  <property name="visible">True</property>
+  <property name="title" translatable="yes">Nueva Vista</property>
+  <property name="type">GTK_WINDOW_TOPLEVEL</property>
+  <property name="window_position">GTK_WIN_POS_NONE</property>
+  <property name="modal">False</property>
+  <property name="resizable">True</property>
+  <property name="destroy_with_parent">False</property>
+  <property name="decorated">True</property>
+  <property name="skip_taskbar_hint">False</property>
+  <property name="skip_pager_hint">False</property>
+  <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
+  <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
+  <property name="focus_on_map">True</property>
+  <property name="urgency_hint">False</property>
+  <property name="has_separator">True</property>
+
+  <child internal-child="vbox">
+    <widget class="GtkVBox" id="dialog-vbox1">
+      <property name="visible">True</property>
+      <property name="homogeneous">False</property>
+      <property name="spacing">0</property>
+
+      <child internal-child="action_area">
+	<widget class="GtkHButtonBox" id="dialog-action_area1">
+	  <property name="visible">True</property>
+	  <property name="layout_style">GTK_BUTTONBOX_END</property>
+
+	  <child>
+	    <widget class="GtkButton" id="cancelbutton1">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-cancel</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-6</property>
+	    </widget>
+	  </child>
+
+	  <child>
+	    <widget class="GtkButton" id="okbutton1">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-ok</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-5</property>
+	    </widget>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">False</property>
+	  <property name="fill">True</property>
+	  <property name="pack_type">GTK_PACK_END</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkHBox" id="hbox1">
+	  <property name="visible">True</property>
+	  <property name="homogeneous">False</property>
+	  <property name="spacing">0</property>
+
+	  <child>
+	    <widget class="GtkLabel" id="label5">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Nombre: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_CENTER</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0.5</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">False</property>
+	      <property name="fill">False</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="viewNameEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">True</property>
+	      <property name="fill">True</property>
+	    </packing>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+    </widget>
+  </child>
+</widget>
+
 </glade-interface>



From nestor at berlios.de  Sat Oct 22 18:29:15 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Sat, 22 Oct 2005 18:29:15 +0200
Subject: [Mspace-checkins] r552 - in BabuineComponentBuilder/trunk/src/ComponentBuilder: Dto Forms Forms/TableModel Resources
Message-ID: <200510221629.j9MGTFgB023292@sheep.berlios.de>

Author: nestor
Date: 2005-10-22 18:29:15 +0200 (Sat, 22 Oct 2005)
New Revision: 552

Added:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/ParameterTableModel.cs
Modified:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/MethodDTO.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
Log:
A?\195?\177adir metodos ok.



Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/MethodDTO.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/MethodDTO.cs	2005-10-22 15:41:12 UTC (rev 551)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/MethodDTO.cs	2005-10-22 16:29:15 UTC (rev 552)
@@ -11,6 +11,10 @@
         private string responseMethod;
         private IList parametersCollection;
 
+        public MethodDTO () {
+            parametersCollection = new ArrayList ();
+        }
+        
         public IList ParametersCollection {
             get {return parametersCollection;}
             set {parametersCollection = value;}

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-22 15:41:12 UTC (rev 551)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-22 16:29:15 UTC (rev 552)
@@ -8,12 +8,13 @@
 
 namespace ComponentBuilder.Forms {
     public sealed class MainComponentBuilderForm : IViewHandler {
-        Glade.XML gxml, newViewDialog = null;
+        Glade.XML gxml, newViewDialog, newMethodDialog, newParameterDialog = null;
         [Widget] Statusbar statusbar1;
         [Widget] TreeView viewsTreeView, methodsTreeView;
 
         ViewTableModel viewTableModel;
         MethodTableModel methodTableModel;
+        ParameterTableModel parameterTableModel;
         
         public MainComponentBuilderForm () {
             //La gracia ser?a sacar el VBox y pasarlo como si fuera un
@@ -26,9 +27,9 @@
             
             methodsTreeView.AppendColumn ("Method Name", new CellRendererText (), "text", 0);
             methodsTreeView.AppendColumn ("Return Type", new CellRendererText (), "text", 1);
-            methodsTreeView.AppendColumn ("Parameters", new CellRendererText (), "text", 2);
-            methodsTreeView.AppendColumn ("View To Reponse", new CellRendererText (), "text", 3);
-            methodsTreeView.AppendColumn ("Response Method", new CellRendererText (), "text", 4);
+            methodsTreeView.AppendColumn ("View To Reponse", new CellRendererText (), "text", 2);
+            methodsTreeView.AppendColumn ("Response Method", new CellRendererText (), "text", 3);
+            methodsTreeView.AppendColumn ("Parameters", new CellRendererText (), "text", 4);
         }
         
         public IDataTransferObject GetDataForm () {
@@ -68,7 +69,6 @@
                     Entry viewNameEntry = (Entry) newViewDialog ["viewNameEntry"];
                     if (viewNameEntry.Text.Length != 0) {
                         viewTableModel.Add (viewNameEntry.Text);
-                        viewsTreeView.Model = viewTableModel.ListStore;
                     }
                     break;
                 case (int) ResponseType.Cancel:
@@ -79,5 +79,68 @@
             dialog.Destroy ();
             newViewDialog = null;
         }
+
+        private void OnNewParameterClicked (object sender,EventArgs args) {
+            newParameterDialog = new Glade.XML (null, "MainComponentBuilderForm.glade", "newParameterDialog", null); 
+            Dialog dialog = (Dialog) newParameterDialog ["newParameterDialog"];
+            switch (dialog.Run ()) {
+                case (int) ResponseType.Ok:
+                    Entry typeEntry = (Entry) newParameterDialog ["typeEntry"];
+                    Entry varNameEntry = (Entry) newParameterDialog ["varNameEntry"];
+                    if (typeEntry.Text.Length != 0 && varNameEntry.Text.Length != 0) {
+                        //Suponemos que newMethodDialog estar? instanciado y
+                        //podremos acceder a ?l. 
+                        ParameterDTO parameterDTO = new ParameterDTO ();
+                        parameterDTO.TypeName = typeEntry.Text;
+                        parameterDTO.VarName = varNameEntry.Text;
+                        parameterTableModel.Add (parameterDTO);
+                    }
+                    break;
+                case (int) ResponseType.Cancel:
+                    break;
+                default:
+                    break;
+            }
+            dialog.Destroy ();
+            newParameterDialog = null;
+        }
+
+        private void OnNewMethodClicked (object sender, EventArgs args) {
+            newMethodDialog = new Glade.XML (null, "MainComponentBuilderForm.glade", "newMethodDialog", null);
+            newMethodDialog.Autoconnect (this);
+            Dialog dialog = (Dialog) newMethodDialog ["newMethodDialog"];
+            //Creamos el TreeView de parameters
+            TreeView parametersTreeView = (TreeView) newMethodDialog ["parametersTreeView"];
+            parametersTreeView.AppendColumn ("Type", new CellRendererText (), "text", 0);
+            parametersTreeView.AppendColumn ("Variable Name", new CellRendererText (), "text", 1);
+            parameterTableModel = new ParameterTableModel ();
+            parametersTreeView.Model = parameterTableModel.ListStore;
+            //Barajar la opci?n de si merece la pena poner otro controlador para
+            //esta vista.
+            switch (dialog.Run ()) {
+                case  (int) ResponseType.Ok:
+                    Entry nameEntry = (Entry) newMethodDialog ["nameEntry"];
+                    Entry returnTypeEntry = (Entry) newMethodDialog ["returnTypeEntry"];
+                    Entry viewToResponseEntry = (Entry) newMethodDialog ["viewToResponseEntry"];
+                    Entry responseMethodEntry = (Entry) newMethodDialog ["responseMethodEntry"];
+                    if (nameEntry.Text.Length != 0 && returnTypeEntry.Text.Length != 0 &&
+                        viewToResponseEntry.Text.Length != 0 && responseMethodEntry.Text.Length != 0    
+                        ) {
+                        MethodDTO methodDTO = new MethodDTO ();
+                        methodDTO.MethodName = nameEntry.Text;
+                        methodDTO.ReturnType = returnTypeEntry.Text;
+                        methodDTO.ViewToResponse = viewToResponseEntry.Text;
+                        methodDTO.ResponseMethod = responseMethodEntry.Text;
+                        methodTableModel.Add (methodDTO);
+                    }
+                    break;
+                case (int) ResponseType.Cancel:
+                    break;
+                default:
+                    break;
+            }
+            dialog.Destroy ();
+            newMethodDialog = null;
+        }
     }
 }

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/ParameterTableModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/ParameterTableModel.cs	2005-10-22 15:41:12 UTC (rev 551)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/ParameterTableModel.cs	2005-10-22 16:29:15 UTC (rev 552)
@@ -0,0 +1,54 @@
+using System;
+using System.Collections;
+using ComponentModel.Interfaces;
+using ComponentBuilder.DTO;
+using ComponentBuilder.Interfaces;
+using Gtk;
+
+namespace ComponentBuilder.Forms.TableModel {
+    public sealed class ParameterTableModel : ITableModel {
+        private ListStore listStore; 
+        private Type[] tipos;
+        private IList list;
+
+        public ParameterTableModel () {
+            tipos = new Type[2];
+            for (int i = 0; i < tipos.Length; i++) {
+                tipos[i] = typeof (string);
+            }
+            listStore = new ListStore (tipos);
+            list = new ArrayList ();
+        }
+
+        public ParameterTableModel (IList list) {
+            foreach (ParameterDTO parameterDTO in list) {
+                this.Add (parameterDTO);
+            }
+        }
+
+        public void Add (IDataTransferObject dto) {
+            if (dto is ParameterDTO) {
+                ParameterDTO parameterDTO = (ParameterDTO) dto;
+                listStore.AppendValues (
+                        parameterDTO.TypeName,
+                        parameterDTO.VarName
+                        );
+                list.Add (parameterDTO);
+            }
+        }
+
+        public void Clear () {
+            listStore.Clear ();
+            list.Clear ();
+        }
+        
+        public ListStore ListStore {
+            get {return listStore;}
+        }
+
+        public IList ListModel {
+            get {return list;}
+        }
+
+    }
+}

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-22 15:41:12 UTC (rev 551)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-22 16:29:15 UTC (rev 552)
@@ -178,6 +178,7 @@
 		  <property name="use_stock">True</property>
 		  <property name="relief">GTK_RELIEF_NORMAL</property>
 		  <property name="focus_on_click">True</property>
+		  <signal name="clicked" handler="OnNewMethodClicked" last_modification_time="Sat, 22 Oct 2005 15:49:03 GMT"/>
 		</widget>
 	      </child>
 
@@ -551,4 +552,572 @@
   </child>
 </widget>
 
+<widget class="GtkDialog" id="newMethodDialog">
+  <property name="visible">True</property>
+  <property name="title" translatable="yes">Nuevo Metodo</property>
+  <property name="type">GTK_WINDOW_TOPLEVEL</property>
+  <property name="window_position">GTK_WIN_POS_CENTER_ON_PARENT</property>
+  <property name="modal">True</property>
+  <property name="resizable">True</property>
+  <property name="destroy_with_parent">False</property>
+  <property name="decorated">True</property>
+  <property name="skip_taskbar_hint">False</property>
+  <property name="skip_pager_hint">False</property>
+  <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
+  <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
+  <property name="focus_on_map">True</property>
+  <property name="urgency_hint">False</property>
+  <property name="has_separator">True</property>
+
+  <child internal-child="vbox">
+    <widget class="GtkVBox" id="dialog-vbox2">
+      <property name="visible">True</property>
+      <property name="homogeneous">False</property>
+      <property name="spacing">0</property>
+
+      <child internal-child="action_area">
+	<widget class="GtkHButtonBox" id="dialog-action_area2">
+	  <property name="visible">True</property>
+	  <property name="layout_style">GTK_BUTTONBOX_END</property>
+
+	  <child>
+	    <widget class="GtkButton" id="cancelbutton2">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-cancel</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-6</property>
+	    </widget>
+	  </child>
+
+	  <child>
+	    <widget class="GtkButton" id="okbutton2">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-ok</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-5</property>
+	    </widget>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">False</property>
+	  <property name="fill">True</property>
+	  <property name="pack_type">GTK_PACK_END</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkTable" id="table2">
+	  <property name="visible">True</property>
+	  <property name="n_rows">6</property>
+	  <property name="n_columns">2</property>
+	  <property name="homogeneous">False</property>
+	  <property name="row_spacing">0</property>
+	  <property name="column_spacing">0</property>
+
+	  <child>
+	    <widget class="GtkLabel" id="label6">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Nombre:&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label7">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Return Type: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label8">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;View To Response:&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label9">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Response Method:&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">3</property>
+	      <property name="bottom_attach">4</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label10">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Parameters: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">4</property>
+	      <property name="bottom_attach">5</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkHButtonBox" id="hbuttonbox3">
+	      <property name="visible">True</property>
+	      <property name="layout_style">GTK_BUTTONBOX_DEFAULT_STYLE</property>
+	      <property name="spacing">0</property>
+
+	      <child>
+		<widget class="GtkButton" id="button7">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-new</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		  <signal name="clicked" handler="OnNewParameterClicked" last_modification_time="Sat, 22 Oct 2005 16:14:56 GMT"/>
+		</widget>
+	      </child>
+
+	      <child>
+		<widget class="GtkButton" id="button8">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-delete</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		</widget>
+	      </child>
+
+	      <child>
+		<widget class="GtkButton" id="button9">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-clear</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		</widget>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">5</property>
+	      <property name="bottom_attach">6</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkScrolledWindow" id="scrolledwindow4">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="hscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="vscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="shadow_type">GTK_SHADOW_ETCHED_OUT</property>
+	      <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
+
+	      <child>
+		<widget class="GtkTreeView" id="parametersTreeView">
+		  <property name="visible">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="headers_visible">True</property>
+		  <property name="rules_hint">True</property>
+		  <property name="reorderable">False</property>
+		  <property name="enable_search">True</property>
+		  <property name="fixed_height_mode">False</property>
+		  <property name="hover_selection">False</property>
+		  <property name="hover_expand">False</property>
+		</widget>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">4</property>
+	      <property name="bottom_attach">5</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options">fill</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="nameEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="returnTypeEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="viewToResponseEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="responseMethodEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">3</property>
+	      <property name="bottom_attach">4</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+    </widget>
+  </child>
+</widget>
+
+<widget class="GtkDialog" id="newParameterDialog">
+  <property name="visible">True</property>
+  <property name="title" translatable="yes">Nuevo Parametro</property>
+  <property name="type">GTK_WINDOW_TOPLEVEL</property>
+  <property name="window_position">GTK_WIN_POS_CENTER_ON_PARENT</property>
+  <property name="modal">True</property>
+  <property name="resizable">True</property>
+  <property name="destroy_with_parent">False</property>
+  <property name="decorated">True</property>
+  <property name="skip_taskbar_hint">False</property>
+  <property name="skip_pager_hint">False</property>
+  <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
+  <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
+  <property name="focus_on_map">True</property>
+  <property name="urgency_hint">False</property>
+  <property name="has_separator">True</property>
+
+  <child internal-child="vbox">
+    <widget class="GtkVBox" id="dialog-vbox3">
+      <property name="visible">True</property>
+      <property name="homogeneous">False</property>
+      <property name="spacing">0</property>
+
+      <child internal-child="action_area">
+	<widget class="GtkHButtonBox" id="dialog-action_area3">
+	  <property name="visible">True</property>
+	  <property name="layout_style">GTK_BUTTONBOX_END</property>
+
+	  <child>
+	    <widget class="GtkButton" id="cancelbutton3">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-cancel</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-6</property>
+	    </widget>
+	  </child>
+
+	  <child>
+	    <widget class="GtkButton" id="okbutton3">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-ok</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-5</property>
+	    </widget>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">False</property>
+	  <property name="fill">True</property>
+	  <property name="pack_type">GTK_PACK_END</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkTable" id="table3">
+	  <property name="visible">True</property>
+	  <property name="n_rows">2</property>
+	  <property name="n_columns">2</property>
+	  <property name="homogeneous">False</property>
+	  <property name="row_spacing">0</property>
+	  <property name="column_spacing">0</property>
+
+	  <child>
+	    <widget class="GtkLabel" id="label11">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Type:&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label12">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Variable Name: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="typeEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="varNameEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+    </widget>
+  </child>
+</widget>
+
 </glade-interface>

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-22 15:41:12 UTC (rev 551)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-22 16:29:15 UTC (rev 552)
@@ -178,6 +178,7 @@
 		  <property name="use_stock">True</property>
 		  <property name="relief">GTK_RELIEF_NORMAL</property>
 		  <property name="focus_on_click">True</property>
+		  <signal name="clicked" handler="OnNewMethodClicked" last_modification_time="Sat, 22 Oct 2005 15:49:03 GMT"/>
 		</widget>
 	      </child>
 
@@ -433,8 +434,8 @@
   <property name="visible">True</property>
   <property name="title" translatable="yes">Nueva Vista</property>
   <property name="type">GTK_WINDOW_TOPLEVEL</property>
-  <property name="window_position">GTK_WIN_POS_NONE</property>
-  <property name="modal">False</property>
+  <property name="window_position">GTK_WIN_POS_CENTER_ON_PARENT</property>
+  <property name="modal">True</property>
   <property name="resizable">True</property>
   <property name="destroy_with_parent">False</property>
   <property name="decorated">True</property>
@@ -551,4 +552,572 @@
   </child>
 </widget>
 
+<widget class="GtkDialog" id="newMethodDialog">
+  <property name="visible">True</property>
+  <property name="title" translatable="yes">Nuevo Metodo</property>
+  <property name="type">GTK_WINDOW_TOPLEVEL</property>
+  <property name="window_position">GTK_WIN_POS_CENTER_ON_PARENT</property>
+  <property name="modal">True</property>
+  <property name="resizable">True</property>
+  <property name="destroy_with_parent">False</property>
+  <property name="decorated">True</property>
+  <property name="skip_taskbar_hint">False</property>
+  <property name="skip_pager_hint">False</property>
+  <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
+  <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
+  <property name="focus_on_map">True</property>
+  <property name="urgency_hint">False</property>
+  <property name="has_separator">True</property>
+
+  <child internal-child="vbox">
+    <widget class="GtkVBox" id="dialog-vbox2">
+      <property name="visible">True</property>
+      <property name="homogeneous">False</property>
+      <property name="spacing">0</property>
+
+      <child internal-child="action_area">
+	<widget class="GtkHButtonBox" id="dialog-action_area2">
+	  <property name="visible">True</property>
+	  <property name="layout_style">GTK_BUTTONBOX_END</property>
+
+	  <child>
+	    <widget class="GtkButton" id="cancelbutton2">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-cancel</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-6</property>
+	    </widget>
+	  </child>
+
+	  <child>
+	    <widget class="GtkButton" id="okbutton2">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-ok</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-5</property>
+	    </widget>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">False</property>
+	  <property name="fill">True</property>
+	  <property name="pack_type">GTK_PACK_END</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkTable" id="table2">
+	  <property name="visible">True</property>
+	  <property name="n_rows">6</property>
+	  <property name="n_columns">2</property>
+	  <property name="homogeneous">False</property>
+	  <property name="row_spacing">0</property>
+	  <property name="column_spacing">0</property>
+
+	  <child>
+	    <widget class="GtkLabel" id="label6">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Nombre:&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label7">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Return Type: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label8">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;View To Response:&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label9">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Response Method:&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">3</property>
+	      <property name="bottom_attach">4</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label10">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Parameters: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">4</property>
+	      <property name="bottom_attach">5</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkHButtonBox" id="hbuttonbox3">
+	      <property name="visible">True</property>
+	      <property name="layout_style">GTK_BUTTONBOX_DEFAULT_STYLE</property>
+	      <property name="spacing">0</property>
+
+	      <child>
+		<widget class="GtkButton" id="button7">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-new</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		  <signal name="clicked" handler="OnNewParameterClicked" last_modification_time="Sat, 22 Oct 2005 16:14:56 GMT"/>
+		</widget>
+	      </child>
+
+	      <child>
+		<widget class="GtkButton" id="button8">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-delete</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		</widget>
+	      </child>
+
+	      <child>
+		<widget class="GtkButton" id="button9">
+		  <property name="visible">True</property>
+		  <property name="can_default">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label">gtk-clear</property>
+		  <property name="use_stock">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		</widget>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">5</property>
+	      <property name="bottom_attach">6</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkScrolledWindow" id="scrolledwindow4">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="hscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="vscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+	      <property name="shadow_type">GTK_SHADOW_ETCHED_OUT</property>
+	      <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
+
+	      <child>
+		<widget class="GtkTreeView" id="treeview1">
+		  <property name="visible">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="headers_visible">True</property>
+		  <property name="rules_hint">True</property>
+		  <property name="reorderable">False</property>
+		  <property name="enable_search">True</property>
+		  <property name="fixed_height_mode">False</property>
+		  <property name="hover_selection">False</property>
+		  <property name="hover_expand">False</property>
+		</widget>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">4</property>
+	      <property name="bottom_attach">5</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options">fill</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="nameEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="returnTypeEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="viewToResponseEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="responseMethodEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">3</property>
+	      <property name="bottom_attach">4</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+    </widget>
+  </child>
+</widget>
+
+<widget class="GtkDialog" id="newParameterDialog">
+  <property name="visible">True</property>
+  <property name="title" translatable="yes">Nuevo Parametro</property>
+  <property name="type">GTK_WINDOW_TOPLEVEL</property>
+  <property name="window_position">GTK_WIN_POS_CENTER_ON_PARENT</property>
+  <property name="modal">True</property>
+  <property name="resizable">True</property>
+  <property name="destroy_with_parent">False</property>
+  <property name="decorated">True</property>
+  <property name="skip_taskbar_hint">False</property>
+  <property name="skip_pager_hint">False</property>
+  <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
+  <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
+  <property name="focus_on_map">True</property>
+  <property name="urgency_hint">False</property>
+  <property name="has_separator">True</property>
+
+  <child internal-child="vbox">
+    <widget class="GtkVBox" id="dialog-vbox3">
+      <property name="visible">True</property>
+      <property name="homogeneous">False</property>
+      <property name="spacing">0</property>
+
+      <child internal-child="action_area">
+	<widget class="GtkHButtonBox" id="dialog-action_area3">
+	  <property name="visible">True</property>
+	  <property name="layout_style">GTK_BUTTONBOX_END</property>
+
+	  <child>
+	    <widget class="GtkButton" id="cancelbutton3">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-cancel</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-6</property>
+	    </widget>
+	  </child>
+
+	  <child>
+	    <widget class="GtkButton" id="okbutton3">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-ok</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-5</property>
+	    </widget>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">False</property>
+	  <property name="fill">True</property>
+	  <property name="pack_type">GTK_PACK_END</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkTable" id="table3">
+	  <property name="visible">True</property>
+	  <property name="n_rows">2</property>
+	  <property name="n_columns">2</property>
+	  <property name="homogeneous">False</property>
+	  <property name="row_spacing">0</property>
+	  <property name="column_spacing">0</property>
+
+	  <child>
+	    <widget class="GtkLabel" id="label11">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Type:&lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label12">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Variable Name: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="typeEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="varNameEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+    </widget>
+  </child>
+</widget>
+
 </glade-interface>



From nestor at berlios.de  Sun Oct 23 14:37:13 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Sun, 23 Oct 2005 14:37:13 +0200
Subject: [Mspace-checkins] r553 - in BabuineComponentBuilder/trunk/src/ComponentBuilder: Bo Dto Forms Forms/TableModel Resources
Message-ID: <200510231237.j9NCbDqB000867@sheep.berlios.de>

Author: nestor
Date: 2005-10-23 14:37:12 +0200 (Sun, 23 Oct 2005)
New Revision: 553

Added:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/ConfigurationDTO.cs
Modified:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/ViewTableModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
Log:


Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-22 16:29:15 UTC (rev 552)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-23 12:37:12 UTC (rev 553)
@@ -1,5 +1,6 @@
 using System;
 using ComponentModel;
+using ComponentBuilder.DTO;
 
 namespace ComponentBuilder.Bo {
     [Component ("ComponentBuilder", "ComponentBuilder.Exceptions.ComponentBuilderExceptionManager")]
@@ -8,5 +9,9 @@
         [ComponentMethod ("ComponentBuilder.Forms.MainComponentBuilderForm", "ResponseShowForm")]
         public void ShowForm () {
         }
+
+        [ComponentMethod ("ComponentBuilder.Forms.MainComponentBuilderForm", "ResponseGenerateComponent")]
+        public void GenerateComponent (ComponentSettingsDTO componentSettingsDTO) {
+        }
     }
 }

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/ConfigurationDTO.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/ConfigurationDTO.cs	2005-10-22 16:29:15 UTC (rev 552)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/ConfigurationDTO.cs	2005-10-23 12:37:12 UTC (rev 553)
@@ -0,0 +1,20 @@
+using System;
+using ComponentModel.Interfaces;
+
+namespace ComponentBuilder.DTO {
+    [Serializable]
+    public sealed class ConfigurationDTO : IDataTransferObject {
+        string baseOutPath;
+        bool generateNAnt;
+        
+        public bool GenerateNAnt {
+            get {return generateNAnt;}
+            set {generateNAnt = value;}
+        }
+        
+        public string BaseOutPath {
+            get {return baseOutPath;}
+            set {baseOutPath = value;}
+        }
+    }
+}

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-22 16:29:15 UTC (rev 552)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-23 12:37:12 UTC (rev 553)
@@ -1,6 +1,7 @@
 using System;
 using ComponentModel.Interfaces;
 using ComponentModel.DTO;
+using ComponentModel.Container;
 using ComponentBuilder.DTO;
 using ComponentBuilder.Forms.TableModel;
 using Gtk;
@@ -11,11 +12,13 @@
         Glade.XML gxml, newViewDialog, newMethodDialog, newParameterDialog = null;
         [Widget] Statusbar statusbar1;
         [Widget] TreeView viewsTreeView, methodsTreeView;
-
+        [Widget] Entry componentNameEntry, exceptionManagerClassNameEntry;
+        
         ViewTableModel viewTableModel;
         MethodTableModel methodTableModel;
         ParameterTableModel parameterTableModel;
         
+        /* Ctor */
         public MainComponentBuilderForm () {
             //La gracia ser?a sacar el VBox y pasarlo como si fuera un
             //container.
@@ -32,10 +35,25 @@
             methodsTreeView.AppendColumn ("Parameters", new CellRendererText (), "text", 4);
         }
         
+        /*Helpers implementation*/
+
+
         public IDataTransferObject GetDataForm () {
-            return null;
+            if (ValidateForm ()) {
+                ComponentSettingsDTO componentSettingsDTO = new ComponentSettingsDTO ();                
+                componentSettingsDTO.ComponentName = componentNameEntry.Text;
+                componentSettingsDTO.ClassExceptionManager = exceptionManagerClassNameEntry.Text;
+                componentSettingsDTO.ViewsCollection = viewTableModel.ListModel;
+                componentSettingsDTO.MethodsCollection = methodTableModel.ListModel;
+                return componentSettingsDTO;
+            }
+            return new ComponentSettingsDTO ();
         }
 
+        private bool ValidateForm () {
+            return true;
+        }
+
         public void LoadDataForm (IDataTransferObject dto) {
             if (dto is ComponentSettingsDTO) {
                 ComponentSettingsDTO componentSettingsDTO = (ComponentSettingsDTO) dto;
@@ -43,8 +61,16 @@
         }
 
         public void ClearForm () {
+            componentNameEntry.Text = String.Empty;
+            exceptionManagerClassNameEntry.Text = String.Empty;
+            viewTableModel = new ViewTableModel ();
+            viewsTreeView.Model = viewTableModel.ListStore;
+            methodTableModel = new MethodTableModel ();
+            methodsTreeView.Model = methodTableModel.ListStore;
         }
 
+        /*Responses */
+        
         public void ResponseShowForm (ResponseMethodDTO response) {
             if (response.ExecutionSuccess) {
                 response.MethodResult = gxml["vbox1"];
@@ -56,11 +82,31 @@
                 methodsTreeView.Model = methodTableModel.ListStore;
             }
         }
+
+        public void ResponseGenerateComponent (ResponseMethodDTO response) {
+            if (response.ExecutionSuccess) {
+                Console.WriteLine ("Todo ha ido bien :)");
+            }
+        }
+
+        /*Gui Events*/
         
         private void OnWindow1DeleteEvent (object sender, DeleteEventArgs args) {
             Application.Quit ();
         }
 
+        /*Toolbar*/
+
+        private void OnNewComponentClicked (object sender, EventArgs args) {
+            ClearForm ();
+        }
+
+        private void OnGenerateComponentClicked (object sender, EventArgs args) {
+            ComponentSettingsDTO componentSettingsDTO = (ComponentSettingsDTO) GetDataForm (); 
+            DefaultContainer.Instance.Execute ("ComponentBuilder", "GenerateComponent", new object[]{componentSettingsDTO}, this);
+        }
+        /*Views & Methods buttons*/
+        
         private void OnNewViewClicked (object sender, EventArgs args) {
             newViewDialog = new Glade.XML (null, "MainComponentBuilderForm.glade", "newViewDialog", null);
             Dialog dialog = (Dialog) newViewDialog ["newViewDialog"];
@@ -139,6 +185,7 @@
                 default:
                     break;
             }
+            parameterTableModel = null;
             dialog.Destroy ();
             newMethodDialog = null;
         }

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/ViewTableModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/ViewTableModel.cs	2005-10-22 16:29:15 UTC (rev 552)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/ViewTableModel.cs	2005-10-23 12:37:12 UTC (rev 553)
@@ -1,5 +1,6 @@
 using System;
 using System.Collections;
+using System.Collections.Specialized;
 using ComponentModel.Interfaces;
 using ComponentBuilder.DTO;
 using ComponentBuilder.Interfaces;
@@ -44,7 +45,17 @@
             get {return listStore;}
         }
 
-        public IList ListModel {
+        public StringCollection ListModel {
+            get {
+                StringCollection stringCollection = new StringCollection ();
+                foreach (string view in list) {
+                    stringCollection.Add (view);
+                }
+                return stringCollection;
+            }
+        }
+        
+        IList ITableModel.ListModel {
             get {return list;}
         }
 

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-22 16:29:15 UTC (rev 552)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-23 12:37:12 UTC (rev 553)
@@ -47,6 +47,7 @@
 	      <property name="visible_horizontal">True</property>
 	      <property name="visible_vertical">True</property>
 	      <property name="is_important">False</property>
+	      <signal name="clicked" handler="OnNewComponentClicked" last_modification_time="Sun, 23 Oct 2005 11:45:01 GMT"/>
 	    </widget>
 	    <packing>
 	      <property name="expand">False</property>
@@ -69,7 +70,20 @@
 	  </child>
 
 	  <child>
-	    <placeholder/>
+	    <widget class="GtkToolButton" id="toolbutton3">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">Generar</property>
+	      <property name="use_underline">True</property>
+	      <property name="stock_id">gtk-execute</property>
+	      <property name="visible_horizontal">True</property>
+	      <property name="visible_vertical">True</property>
+	      <property name="is_important">False</property>
+	      <signal name="clicked" handler="OnGenerateComponentClicked" last_modification_time="Sun, 23 Oct 2005 11:51:35 GMT"/>
+	    </widget>
+	    <packing>
+	      <property name="expand">False</property>
+	      <property name="homogeneous">True</property>
+	    </packing>
 	  </child>
 	</widget>
 	<packing>

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-22 16:29:15 UTC (rev 552)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-23 12:37:12 UTC (rev 553)
@@ -47,6 +47,7 @@
 	      <property name="visible_horizontal">True</property>
 	      <property name="visible_vertical">True</property>
 	      <property name="is_important">False</property>
+	      <signal name="clicked" handler="OnNewComponentClicked" last_modification_time="Sun, 23 Oct 2005 11:45:01 GMT"/>
 	    </widget>
 	    <packing>
 	      <property name="expand">False</property>
@@ -69,7 +70,20 @@
 	  </child>
 
 	  <child>
-	    <placeholder/>
+	    <widget class="GtkToolButton" id="toolbutton3">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">Generar</property>
+	      <property name="use_underline">True</property>
+	      <property name="stock_id">gtk-execute</property>
+	      <property name="visible_horizontal">True</property>
+	      <property name="visible_vertical">True</property>
+	      <property name="is_important">False</property>
+	      <signal name="clicked" handler="OnGenerateComponentClicked" last_modification_time="Sun, 23 Oct 2005 11:51:35 GMT"/>
+	    </widget>
+	    <packing>
+	      <property name="expand">False</property>
+	      <property name="homogeneous">True</property>
+	    </packing>
 	  </child>
 	</widget>
 	<packing>
@@ -824,7 +838,7 @@
 	      <property name="window_placement">GTK_CORNER_TOP_LEFT</property>
 
 	      <child>
-		<widget class="GtkTreeView" id="treeview1">
+		<widget class="GtkTreeView" id="parametersTreeView">
 		  <property name="visible">True</property>
 		  <property name="can_focus">True</property>
 		  <property name="headers_visible">True</property>



From nestor at berlios.de  Sun Oct 23 15:41:51 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Sun, 23 Oct 2005 15:41:51 +0200
Subject: [Mspace-checkins] r554 - BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates
Message-ID: <200510231341.j9NDfpnf006430@sheep.berlios.de>

Author: nestor
Date: 2005-10-23 15:41:51 +0200 (Sun, 23 Oct 2005)
New Revision: 554

Added:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ExceptionManager.template
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/MethodBody.template
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ResponseMethod.template
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ViewHandler.template
Log:
Added default templates.



Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template	2005-10-23 12:37:12 UTC (rev 553)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template	2005-10-23 13:41:51 UTC (rev 554)
@@ -0,0 +1,15 @@
+/*
+ * Default Component Model for Component ${component_name}.     
+ *
+ */
+
+using System;
+using ComponentModel;
+
+namespace ${component_name}.Bo {
+    [Component ("${component_name}",
+    "${component_name}.Exceptions.${exception_manager_class_name}")]
+    public sealed class ${component_name}ComponentModel : DefaultComponentModel {
+        
+    }
+}

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ExceptionManager.template
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ExceptionManager.template	2005-10-23 12:37:12 UTC (rev 553)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ExceptionManager.template	2005-10-23 13:41:51 UTC (rev 554)
@@ -0,0 +1,13 @@
+/*
+ * Default Exception Manager for Component ${component_name}
+ */
+
+using System;
+using ComponentModel.Interfaces;
+
+namespace ${component_name}.Exceptions {
+    public sealed class ${exception_manager_class_name} : IExceptionManager {
+        public void ProcessException (Exception exception) {
+        }
+    }
+}

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/MethodBody.template
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/MethodBody.template	2005-10-23 12:37:12 UTC (rev 553)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/MethodBody.template	2005-10-23 13:41:51 UTC (rev 554)
@@ -0,0 +1,3 @@
+[ComponentMethod ("${component_name}.Forms.${view_name}", "${response_name}")]
+public ${return_type} ${method_name} (${parameters}) {
+}

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ResponseMethod.template
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ResponseMethod.template	2005-10-23 12:37:12 UTC (rev 553)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ResponseMethod.template	2005-10-23 13:41:51 UTC (rev 554)
@@ -0,0 +1,4 @@
+public void ${response_name} (ResponseMethodDTO response) {
+    if (response.ExecutionSuccess) {
+    }
+}

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ViewHandler.template
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ViewHandler.template	2005-10-23 12:37:12 UTC (rev 553)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ViewHandler.template	2005-10-23 13:41:51 UTC (rev 554)
@@ -0,0 +1,21 @@
+/*
+ * A view for Component ${component_name}.
+ */
+
+using System;
+using ComponentModel.Interfaces;
+using ComponentModel.DTO;
+
+namespace ${component_name}.Forms {
+    public sealed class ${view_name} : IViewHandler {
+        public void LoadDataForm (IDataTransferObject dto) {
+        }
+
+        public IDataTransferObject GetDataForm () {
+            return null;
+        }
+
+        public void ClearForm () {
+        }
+    }
+}



From nestor at berlios.de  Sun Oct 23 17:20:58 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Sun, 23 Oct 2005 17:20:58 +0200
Subject: [Mspace-checkins] r555 - in BabuineComponentBuilder/trunk: . src/ComponentBuilder/Bo src/ComponentBuilder/Dto src/ComponentBuilder/Exceptions src/ComponentBuilder/Resources/Templates
Message-ID: <200510231520.j9NFKwXj025331@sheep.berlios.de>

Author: nestor
Date: 2005-10-23 17:20:58 +0200 (Sun, 23 Oct 2005)
New Revision: 555

Added:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TemplateNamesDTO.cs
Modified:
   BabuineComponentBuilder/trunk/BabuineComponentBuilder.build
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Exceptions/ComponentBuilderExceptionManager.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template
Log:
Ya genera en plano el BO.


Modified: BabuineComponentBuilder/trunk/BabuineComponentBuilder.build
===================================================================
--- BabuineComponentBuilder/trunk/BabuineComponentBuilder.build	2005-10-23 13:41:51 UTC (rev 554)
+++ BabuineComponentBuilder/trunk/BabuineComponentBuilder.build	2005-10-23 15:20:58 UTC (rev 555)
@@ -75,6 +75,7 @@
             
             <resources>
                 <include name="**/*.glade"/>
+                <include name="**/*.template"/>
             </resources>
         </csc>
         <tstamp/>

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-23 13:41:51 UTC (rev 554)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-23 15:20:58 UTC (rev 555)
@@ -1,17 +1,43 @@
 using System;
+using System.Reflection;
+using System.IO;
 using ComponentModel;
 using ComponentBuilder.DTO;
 
 namespace ComponentBuilder.Bo {
     [Component ("ComponentBuilder", "ComponentBuilder.Exceptions.ComponentBuilderExceptionManager")]
     public sealed class ComponentBuilderComponentModel : DefaultComponentModel {
-       
+        
         [ComponentMethod ("ComponentBuilder.Forms.MainComponentBuilderForm", "ResponseShowForm")]
         public void ShowForm () {
         }
-
+        
+        /**
+         *
+         * A la hora de generar c?digo vamos a hacer lo siguiente.
+         *
+         * 1) Obtenemos las templates.
+         * 2) Rellenamos las templates b?sicas.  Empezaremos por los m?todos,
+         * bajaremos a los par?metros y luego escribiremos el m?todo en el BO y
+         * finalmente la response en la vista que proceda.
+         * 3) Escribiremos en el disco los archivos y crearemos la jerarqu?a de
+         * directorios.
+         *
+         *  StringBuffer a destajo !!
+         *      -Las cadenas son inmutables, as? que nos evitaremos el estar
+         *      tocandole las peloticas al heap creando y eliminando.
+         */ 
+        
         [ComponentMethod ("ComponentBuilder.Forms.MainComponentBuilderForm", "ResponseGenerateComponent")]
         public void GenerateComponent (ComponentSettingsDTO componentSettingsDTO) {
+            Console.WriteLine ("/----/");
+            Stream stream = this.GetType ().Assembly.GetManifestResourceStream (TemplateNamesDTO.BusinessObject); 
+            StreamReader streamReader = new StreamReader (stream);
+            Console.WriteLine (streamReader.ReadToEnd ().Replace ("${component_name}", componentSettingsDTO.ComponentName));
+            streamReader.Close ();
+            stream.Close ();
+            Console.WriteLine ("/-END-/");
         }
+
     }
 }

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TemplateNamesDTO.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TemplateNamesDTO.cs	2005-10-23 13:41:51 UTC (rev 554)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TemplateNamesDTO.cs	2005-10-23 15:20:58 UTC (rev 555)
@@ -0,0 +1,13 @@
+using System;
+using ComponentModel.Interfaces;
+
+namespace ComponentBuilder.DTO {
+    internal sealed class TemplateNamesDTO : IDataTransferObject {
+        //Que ya son est?ticos :D
+        internal const string BusinessObject = "BusinessObject.template";
+        internal const string ExceptionManager = "ExceptionManager.template";
+        internal const string MethodBody = "MethodBody.template";
+        internal const string ResponseMethod = "ResponseMethod.template";
+        internal const string ViewHandler = "ViewHandler.template";
+    }
+}

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Exceptions/ComponentBuilderExceptionManager.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Exceptions/ComponentBuilderExceptionManager.cs	2005-10-23 13:41:51 UTC (rev 554)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Exceptions/ComponentBuilderExceptionManager.cs	2005-10-23 15:20:58 UTC (rev 555)
@@ -4,7 +4,7 @@
 namespace ComponentBuilder.Exceptions {
     public sealed class ComponentBuilderExceptionManager : IExceptionManager {
         public void ProcessException (Exception exception) {
-
+            Console.WriteLine (exception.ToString ());
         }
     }
 }

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template	2005-10-23 13:41:51 UTC (rev 554)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template	2005-10-23 15:20:58 UTC (rev 555)
@@ -7,8 +7,7 @@
 using ComponentModel;
 
 namespace ${component_name}.Bo {
-    [Component ("${component_name}",
-    "${component_name}.Exceptions.${exception_manager_class_name}")]
+    [Component ("${component_name}", "${component_name}.Exceptions.${exception_manager_class_name}")]
     public sealed class ${component_name}ComponentModel : DefaultComponentModel {
         
     }



From nestor at berlios.de  Tue Oct 25 00:19:03 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Tue, 25 Oct 2005 00:19:03 +0200
Subject: [Mspace-checkins] r556 - in BabuineComponentBuilder/trunk/src/ComponentBuilder: Bo Dto Forms
Message-ID: <200510242219.j9OMJ3cW006900@sheep.berlios.de>

Author: nestor
Date: 2005-10-25 00:19:02 +0200 (Tue, 25 Oct 2005)
New Revision: 556

Added:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs
Modified:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
Log:


Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-23 15:20:58 UTC (rev 555)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-24 22:19:02 UTC (rev 556)
@@ -1,6 +1,8 @@
 using System;
+using System.Collections;
 using System.Reflection;
 using System.IO;
+using System.Text;
 using ComponentModel;
 using ComponentBuilder.DTO;
 
@@ -28,14 +30,33 @@
          *      tocandole las peloticas al heap creando y eliminando.
          */ 
         
+        private Hashtable GetTemplates () {
+            Hashtable hashtable = new Hashtable ();
+            hashtable = AddToTemplateTable (hashtable, TemplateNamesDTO.BusinessObject);
+            hashtable = AddToTemplateTable (hashtable, TemplateNamesDTO.ExceptionManager);
+            hashtable = AddToTemplateTable (hashtable, TemplateNamesDTO.MethodBody);
+            hashtable = AddToTemplateTable (hashtable, TemplateNamesDTO.ResponseMethod);
+            hashtable = AddToTemplateTable (hashtable, TemplateNamesDTO.ViewHandler);
+            return hashtable;
+        }
+
+        private Hashtable AddToTemplateTable (Hashtable hashtable, string templateName) {
+            StreamReader streamReader = new StreamReader (this.GetType ().Assembly.GetManifestResourceStream (templateName));
+            hashtable.Add (templateName, streamReader.ReadToEnd ());
+            streamReader.Close ();
+            return hashtable;
+        }
+        
         [ComponentMethod ("ComponentBuilder.Forms.MainComponentBuilderForm", "ResponseGenerateComponent")]
         public void GenerateComponent (ComponentSettingsDTO componentSettingsDTO) {
             Console.WriteLine ("/----/");
-            Stream stream = this.GetType ().Assembly.GetManifestResourceStream (TemplateNamesDTO.BusinessObject); 
-            StreamReader streamReader = new StreamReader (stream);
-            Console.WriteLine (streamReader.ReadToEnd ().Replace ("${component_name}", componentSettingsDTO.ComponentName));
-            streamReader.Close ();
-            stream.Close ();
+            Hashtable templateTable = GetTemplates ();
+            IDictionaryEnumerator enumerator = templateTable.GetEnumerator ();
+            while (enumerator.MoveNext ()) {
+                StringBuilder stringBuilder = new StringBuilder ((string)enumerator.Value);
+                stringBuilder = stringBuilder.Replace (TagValuesDTO.ComponentName, componentSettingsDTO.ComponentName);
+                Console.WriteLine (enumerator.Key + "\n" + stringBuilder.ToString ());
+            }
             Console.WriteLine ("/-END-/");
         }
 

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs	2005-10-23 15:20:58 UTC (rev 555)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs	2005-10-24 22:19:02 UTC (rev 556)
@@ -0,0 +1,13 @@
+using System;
+using ComponentModel.Interfaces;
+
+namespace ComponentBuilder.DTO {
+    internal sealed class TagValuesDTO : IDataTransferObject {
+        internal const string ComponentName = "${component_name}";
+        internal const string ViewName = "${view_name}";
+        internal const string ExceptionManager = "${exception_mananger_class_name}";
+        internal const string ResponseName = "${response_name}";
+        internal const string ReturnType = "${return_type}";
+        internal const string MethodName = "${method_name}";
+    }
+}

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-23 15:20:58 UTC (rev 555)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-24 22:19:02 UTC (rev 556)
@@ -49,8 +49,14 @@
             }
             return new ComponentSettingsDTO ();
         }
-
+        
         private bool ValidateForm () {
+            if (componentNameEntry.Text.Length == 0) {
+                return false;
+            }
+            if (exceptionManagerClassNameEntry.Text.Length == 0) {
+                return false;
+            }
             return true;
         }
 



From nestor at berlios.de  Wed Oct 26 23:50:37 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Wed, 26 Oct 2005 23:50:37 +0200
Subject: [Mspace-checkins] r557 - in BabuineComponentBuilder/trunk/src/ComponentBuilder: Bo Dto
Message-ID: <200510262150.j9QLob3u001557@sheep.berlios.de>

Author: nestor
Date: 2005-10-26 23:50:37 +0200 (Wed, 26 Oct 2005)
New Revision: 557

Modified:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs
Log:
Ya genera BO y exception Manager.



Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-24 22:19:02 UTC (rev 556)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-26 21:50:37 UTC (rev 557)
@@ -1,5 +1,6 @@
 using System;
 using System.Collections;
+using System.Collections.Specialized;
 using System.Reflection;
 using System.IO;
 using System.Text;
@@ -30,6 +31,7 @@
          *      tocandole las peloticas al heap creando y eliminando.
          */ 
         
+        // Obtendr? las templates a pelo.
         private Hashtable GetTemplates () {
             Hashtable hashtable = new Hashtable ();
             hashtable = AddToTemplateTable (hashtable, TemplateNamesDTO.BusinessObject);
@@ -46,16 +48,57 @@
             streamReader.Close ();
             return hashtable;
         }
+
+        private Hashtable InitComponentTable (ComponentSettingsDTO componentSettingsDTO, Hashtable templateTable) {
+            Hashtable componentTable = new Hashtable ();
+            //Key fileName without path, string value. 
+            componentTable.Add (componentSettingsDTO.ComponentName+"ComponentModel.cs", templateTable[TemplateNamesDTO.BusinessObject]);
+            //A?adimos el gestor de exceptions
+            componentTable.Add (componentSettingsDTO.ClassExceptionManager+".cs", templateTable[TemplateNamesDTO.ExceptionManager]); 
+            //A?aidmos las vistas
+            StringEnumerator enumerator = componentSettingsDTO.ViewsCollection.GetEnumerator ();
+            while (enumerator.MoveNext ()) {
+                string currentView = enumerator.Current;
+                componentTable.Add (currentView + ".cs", templateTable[TemplateNamesDTO.ViewHandler]); 
+            }
+            return componentTable;
+        }
+
+        private Hashtable FillTable (ComponentSettingsDTO componentSettingsDTO, Hashtable componentTable) {
+            StringCollection stringCollection = new StringCollection ();
+            IEnumerator enumerator = componentTable.Keys.GetEnumerator ();
+            while (enumerator.MoveNext ()) {
+                stringCollection.Add ((string) enumerator.Current);
+            }
+           
+            enumerator = (stringCollection as IEnumerable).GetEnumerator ();
+            while (enumerator.MoveNext ()) {
+                
+                string currentKey = (string)enumerator.Current;
+                Console.WriteLine (currentKey);
+           
+                StringBuilder stringBuilder = new StringBuilder ((string)componentTable[currentKey]);
+               
+                stringBuilder = stringBuilder.Replace (TagValuesDTO.ComponentName, componentSettingsDTO.ComponentName);
+                stringBuilder = stringBuilder.Replace (TagValuesDTO.ExceptionManager, componentSettingsDTO.ClassExceptionManager);
+                //Ahora para las vistas se discernir?.
+                
+                componentTable[currentKey] = stringBuilder.ToString ();
+            
+            }
+            return componentTable;
+        }
         
         [ComponentMethod ("ComponentBuilder.Forms.MainComponentBuilderForm", "ResponseGenerateComponent")]
         public void GenerateComponent (ComponentSettingsDTO componentSettingsDTO) {
             Console.WriteLine ("/----/");
             Hashtable templateTable = GetTemplates ();
-            IDictionaryEnumerator enumerator = templateTable.GetEnumerator ();
+            Hashtable componentTable = InitComponentTable (componentSettingsDTO, templateTable);
+            componentTable = FillTable (componentSettingsDTO, componentTable);
+            
+            IDictionaryEnumerator enumerator = componentTable.GetEnumerator ();
             while (enumerator.MoveNext ()) {
-                StringBuilder stringBuilder = new StringBuilder ((string)enumerator.Value);
-                stringBuilder = stringBuilder.Replace (TagValuesDTO.ComponentName, componentSettingsDTO.ComponentName);
-                Console.WriteLine (enumerator.Key + "\n" + stringBuilder.ToString ());
+                Console.WriteLine (enumerator.Key + "\n" + enumerator.Value);
             }
             Console.WriteLine ("/-END-/");
         }

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs	2005-10-24 22:19:02 UTC (rev 556)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs	2005-10-26 21:50:37 UTC (rev 557)
@@ -5,7 +5,7 @@
     internal sealed class TagValuesDTO : IDataTransferObject {
         internal const string ComponentName = "${component_name}";
         internal const string ViewName = "${view_name}";
-        internal const string ExceptionManager = "${exception_mananger_class_name}";
+        internal const string ExceptionManager = "${exception_manager_class_name}";
         internal const string ResponseName = "${response_name}";
         internal const string ReturnType = "${return_type}";
         internal const string MethodName = "${method_name}";



From nestor at berlios.de  Thu Oct 27 00:06:05 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Thu, 27 Oct 2005 00:06:05 +0200
Subject: [Mspace-checkins] r558 - in BabuineComponentBuilder/trunk/src/ComponentBuilder: Bo Forms
Message-ID: <200510262206.j9QM65D9003039@sheep.berlios.de>

Author: nestor
Date: 2005-10-27 00:06:05 +0200 (Thu, 27 Oct 2005)
New Revision: 558

Modified:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
Log:
Genera Vistas.



Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-26 21:50:37 UTC (rev 557)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-26 22:06:05 UTC (rev 558)
@@ -73,18 +73,17 @@
            
             enumerator = (stringCollection as IEnumerable).GetEnumerator ();
             while (enumerator.MoveNext ()) {
-                
                 string currentKey = (string)enumerator.Current;
-                Console.WriteLine (currentKey);
-           
                 StringBuilder stringBuilder = new StringBuilder ((string)componentTable[currentKey]);
-               
                 stringBuilder = stringBuilder.Replace (TagValuesDTO.ComponentName, componentSettingsDTO.ComponentName);
                 stringBuilder = stringBuilder.Replace (TagValuesDTO.ExceptionManager, componentSettingsDTO.ClassExceptionManager);
                 //Ahora para las vistas se discernir?.
-                
+                foreach (String view in componentSettingsDTO.ViewsCollection) { 
+                    if (currentKey.StartsWith (view)) {
+                        stringBuilder = stringBuilder.Replace (TagValuesDTO.ViewName, view);
+                    }
+                }
                 componentTable[currentKey] = stringBuilder.ToString ();
-            
             }
             return componentTable;
         }

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-26 21:50:37 UTC (rev 557)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-26 22:06:05 UTC (rev 558)
@@ -47,7 +47,7 @@
                 componentSettingsDTO.MethodsCollection = methodTableModel.ListModel;
                 return componentSettingsDTO;
             }
-            return new ComponentSettingsDTO ();
+            return null;
         }
         
         private bool ValidateForm () {
@@ -109,7 +109,9 @@
 
         private void OnGenerateComponentClicked (object sender, EventArgs args) {
             ComponentSettingsDTO componentSettingsDTO = (ComponentSettingsDTO) GetDataForm (); 
-            DefaultContainer.Instance.Execute ("ComponentBuilder", "GenerateComponent", new object[]{componentSettingsDTO}, this);
+            if (componentSettingsDTO != null) {
+                DefaultContainer.Instance.Execute ("ComponentBuilder", "GenerateComponent", new object[]{componentSettingsDTO}, this);
+            }
         }
         /*Views & Methods buttons*/
         



From nestor at berlios.de  Thu Oct 27 13:40:51 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Thu, 27 Oct 2005 13:40:51 +0200
Subject: [Mspace-checkins] r559 - in BabuineComponentBuilder/trunk: . src/ComponentBuilder/Bo src/ComponentBuilder/Dto src/ComponentBuilder/Forms src/ComponentBuilder/Resources/Templates
Message-ID: <200510271140.j9RBepM8001390@sheep.berlios.de>

Author: nestor
Date: 2005-10-27 13:40:48 +0200 (Thu, 27 Oct 2005)
New Revision: 559

Modified:
   BabuineComponentBuilder/trunk/BabuineComponentBuilder.build
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/MethodBody.template
Log:
Genera casos de uso ya.

Unicamente falta la generacion de vistas.



Modified: BabuineComponentBuilder/trunk/BabuineComponentBuilder.build
===================================================================
--- BabuineComponentBuilder/trunk/BabuineComponentBuilder.build	2005-10-26 22:06:05 UTC (rev 558)
+++ BabuineComponentBuilder/trunk/BabuineComponentBuilder.build	2005-10-27 11:40:48 UTC (rev 559)
@@ -59,7 +59,7 @@
     <!-- Compila el componente y lo guarda en bin -->
     <target name="build" depends="create-skeleton">
         <csc target="library" output="${bin}/${component_name}.dll" debug="true"
-        verbose="false">
+        verbose="false" warninglevel='0'>
             <sources basedir="${src_component}">
                 <include name="**/*.cs"/>
             </sources>

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-26 22:06:05 UTC (rev 558)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-27 11:40:48 UTC (rev 559)
@@ -77,7 +77,7 @@
                 StringBuilder stringBuilder = new StringBuilder ((string)componentTable[currentKey]);
                 stringBuilder = stringBuilder.Replace (TagValuesDTO.ComponentName, componentSettingsDTO.ComponentName);
                 stringBuilder = stringBuilder.Replace (TagValuesDTO.ExceptionManager, componentSettingsDTO.ClassExceptionManager);
-                //Ahora para las vistas se discernir?.
+                //Ahora para las vistas se discernira para cada una.
                 foreach (String view in componentSettingsDTO.ViewsCollection) { 
                     if (currentKey.StartsWith (view)) {
                         stringBuilder = stringBuilder.Replace (TagValuesDTO.ViewName, view);
@@ -88,12 +88,66 @@
             return componentTable;
         }
         
+        private Hashtable FillMethods (ComponentSettingsDTO componentSettingsDTO, Hashtable componentTable, Hashtable templateTable) {
+            StringBuilder stringBuilder = new StringBuilder ();
+            foreach (MethodDTO methodDTO in componentSettingsDTO.MethodsCollection) {
+                stringBuilder = stringBuilder.Append (templateTable[TemplateNamesDTO.MethodBody]);
+                stringBuilder = stringBuilder.Replace (TagValuesDTO.ReturnType, methodDTO.ReturnType);
+                stringBuilder = stringBuilder.Replace (TagValuesDTO.MethodName, methodDTO.MethodName);
+                //TODO:Build parameters
+                StringBuilder methodStringBuilder = new StringBuilder ();
+                foreach (ParameterDTO parameterDTO in methodDTO.ParametersCollection) {
+                    Console.WriteLine ("Parameter detected.");
+                    methodStringBuilder.Append (parameterDTO.TypeName);
+                    methodStringBuilder.Append (" ");
+                    methodStringBuilder.Append (parameterDTO.VarName);
+                    methodStringBuilder.Append (", ");
+                    Console.WriteLine (methodStringBuilder.ToString ());
+                }
+                //Eliminamos la coma y el ultimo espacio.
+                if (methodStringBuilder.Length != 0)
+                    methodStringBuilder.Remove (methodStringBuilder.Length -2, 2);
+                Console.WriteLine (methodStringBuilder.ToString ());
+                stringBuilder = stringBuilder.Replace (TagValuesDTO.Parameters, methodStringBuilder.ToString ());
+                //Attributes.
+                stringBuilder = stringBuilder.Replace (TagValuesDTO.ComponentName, componentSettingsDTO.ComponentName);
+                stringBuilder = stringBuilder.Replace (TagValuesDTO.ViewName, methodDTO.ViewToResponse);
+                stringBuilder = stringBuilder.Replace (TagValuesDTO.ResponseName, methodDTO.ResponseMethod);
+            }
+            Console.WriteLine ("MethodStringBuilder: \n" +  stringBuilder.ToString ());
+            //Obtenemos el BO del componente y seteamos el valor, reemplazando.
+            //
+            StringCollection stringCollection = new StringCollection ();
+            IEnumerator enumerator = componentTable.Keys.GetEnumerator ();
+            while (enumerator.MoveNext ()) {
+                stringCollection.Add ((string) enumerator.Current);
+            }
+            enumerator = (stringCollection as IEnumerable).GetEnumerator ();
+            string currentValue = String.Empty;
+            while (enumerator.MoveNext ()) {
+                currentValue = (string) enumerator.Current;
+                if (currentValue.EndsWith ("ComponentModel.cs")) {
+                    break;
+                }
+            }
+            if (!currentValue.Equals (String.Empty)) {
+                //Esta comprobaci?n igual sobra.
+                StringBuilder componentTemplateBuilder = new StringBuilder ((string)componentTable[currentValue]);
+                componentTemplateBuilder = componentTemplateBuilder.Replace (TagValuesDTO.Body, stringBuilder.ToString ());
+                componentTable[currentValue] = componentTemplateBuilder.ToString ();
+            }
+            
+            return componentTable;
+        }
+        
         [ComponentMethod ("ComponentBuilder.Forms.MainComponentBuilderForm", "ResponseGenerateComponent")]
         public void GenerateComponent (ComponentSettingsDTO componentSettingsDTO) {
             Console.WriteLine ("/----/");
             Hashtable templateTable = GetTemplates ();
             Hashtable componentTable = InitComponentTable (componentSettingsDTO, templateTable);
             componentTable = FillTable (componentSettingsDTO, componentTable);
+            //Haremos una segunda pasada para construir los m?todos.
+            componentTable = FillMethods (componentSettingsDTO, componentTable, templateTable);
             
             IDictionaryEnumerator enumerator = componentTable.GetEnumerator ();
             while (enumerator.MoveNext ()) {

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs	2005-10-26 22:06:05 UTC (rev 558)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs	2005-10-27 11:40:48 UTC (rev 559)
@@ -9,5 +9,7 @@
         internal const string ResponseName = "${response_name}";
         internal const string ReturnType = "${return_type}";
         internal const string MethodName = "${method_name}";
+        internal const string Body = "${body}";
+        internal const string Parameters = "${parameters}";
     }
 }

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-26 22:06:05 UTC (rev 558)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-27 11:40:48 UTC (rev 559)
@@ -185,6 +185,7 @@
                         methodDTO.ReturnType = returnTypeEntry.Text;
                         methodDTO.ViewToResponse = viewToResponseEntry.Text;
                         methodDTO.ResponseMethod = responseMethodEntry.Text;
+                        methodDTO.ParametersCollection = parameterTableModel.ListModel;
                         methodTableModel.Add (methodDTO);
                     }
                     break;

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template	2005-10-26 22:06:05 UTC (rev 558)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template	2005-10-27 11:40:48 UTC (rev 559)
@@ -9,6 +9,6 @@
 namespace ${component_name}.Bo {
     [Component ("${component_name}", "${component_name}.Exceptions.${exception_manager_class_name}")]
     public sealed class ${component_name}ComponentModel : DefaultComponentModel {
-        
+${body} 
     }
 }

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/MethodBody.template
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/MethodBody.template	2005-10-26 22:06:05 UTC (rev 558)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/MethodBody.template	2005-10-27 11:40:48 UTC (rev 559)
@@ -1,3 +1,3 @@
-[ComponentMethod ("${component_name}.Forms.${view_name}", "${response_name}")]
-public ${return_type} ${method_name} (${parameters}) {
-}
+        [ComponentMethod ("${component_name}.Forms.${view_name}", "${response_name}")]
+        public ${return_type} ${method_name} (${parameters}) {
+        }



From nestor at berlios.de  Thu Oct 27 23:33:22 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Thu, 27 Oct 2005 23:33:22 +0200
Subject: [Mspace-checkins] r560 - in BabuineComponentBuilder/trunk/src/ComponentBuilder: Bo Resources/Templates
Message-ID: <200510272133.j9RLXMbN008657@sheep.berlios.de>

Author: nestor
Date: 2005-10-27 23:33:21 +0200 (Thu, 27 Oct 2005)
New Revision: 560

Modified:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ResponseMethod.template
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ViewHandler.template
Log:
Finish generation.  

Ya genera las vistas con sus responses :)



Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-27 11:40:48 UTC (rev 559)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-27 21:33:21 UTC (rev 560)
@@ -97,24 +97,20 @@
                 //TODO:Build parameters
                 StringBuilder methodStringBuilder = new StringBuilder ();
                 foreach (ParameterDTO parameterDTO in methodDTO.ParametersCollection) {
-                    Console.WriteLine ("Parameter detected.");
                     methodStringBuilder.Append (parameterDTO.TypeName);
                     methodStringBuilder.Append (" ");
                     methodStringBuilder.Append (parameterDTO.VarName);
                     methodStringBuilder.Append (", ");
-                    Console.WriteLine (methodStringBuilder.ToString ());
                 }
                 //Eliminamos la coma y el ultimo espacio.
                 if (methodStringBuilder.Length != 0)
                     methodStringBuilder.Remove (methodStringBuilder.Length -2, 2);
-                Console.WriteLine (methodStringBuilder.ToString ());
                 stringBuilder = stringBuilder.Replace (TagValuesDTO.Parameters, methodStringBuilder.ToString ());
                 //Attributes.
                 stringBuilder = stringBuilder.Replace (TagValuesDTO.ComponentName, componentSettingsDTO.ComponentName);
                 stringBuilder = stringBuilder.Replace (TagValuesDTO.ViewName, methodDTO.ViewToResponse);
                 stringBuilder = stringBuilder.Replace (TagValuesDTO.ResponseName, methodDTO.ResponseMethod);
             }
-            Console.WriteLine ("MethodStringBuilder: \n" +  stringBuilder.ToString ());
             //Obtenemos el BO del componente y seteamos el valor, reemplazando.
             //
             StringCollection stringCollection = new StringCollection ();
@@ -140,6 +136,24 @@
             return componentTable;
         }
         
+        private Hashtable FillResponses (ComponentSettingsDTO componentSettingsDTO, Hashtable componentTable, Hashtable templateTable) {
+            foreach (string viewName in componentSettingsDTO.ViewsCollection) {
+                StringBuilder responseBuilder = new StringBuilder ();
+                foreach (MethodDTO methodDTO in componentSettingsDTO.MethodsCollection) {
+                    if (methodDTO.ViewToResponse.Equals (viewName)) {
+                        responseBuilder = responseBuilder.Append (templateTable[TemplateNamesDTO.ResponseMethod]);
+                        responseBuilder = responseBuilder.Replace (TagValuesDTO.ResponseName, methodDTO.ResponseMethod);
+                    }
+                }
+                Console.WriteLine (responseBuilder.ToString () + " at ViewName " +  viewName);
+                StringBuilder viewBuilder = new StringBuilder ((string)componentTable [viewName + ".cs"]);
+                Console.WriteLine (viewBuilder.ToString ());
+                viewBuilder = viewBuilder.Replace (TagValuesDTO.Body, responseBuilder.ToString ());
+                componentTable [viewName + ".cs"] = viewBuilder.ToString ();
+            }
+            return componentTable;
+        }
+        
         [ComponentMethod ("ComponentBuilder.Forms.MainComponentBuilderForm", "ResponseGenerateComponent")]
         public void GenerateComponent (ComponentSettingsDTO componentSettingsDTO) {
             Console.WriteLine ("/----/");
@@ -148,6 +162,7 @@
             componentTable = FillTable (componentSettingsDTO, componentTable);
             //Haremos una segunda pasada para construir los m?todos.
             componentTable = FillMethods (componentSettingsDTO, componentTable, templateTable);
+            componentTable = FillResponses (componentSettingsDTO, componentTable, templateTable);
             
             IDictionaryEnumerator enumerator = componentTable.GetEnumerator ();
             while (enumerator.MoveNext ()) {

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ResponseMethod.template
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ResponseMethod.template	2005-10-27 11:40:48 UTC (rev 559)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ResponseMethod.template	2005-10-27 21:33:21 UTC (rev 560)
@@ -1,4 +1,4 @@
-public void ${response_name} (ResponseMethodDTO response) {
-    if (response.ExecutionSuccess) {
-    }
-}
+        public void ${response_name} (ResponseMethodDTO response) {
+            if (response.ExecutionSuccess) {
+            }
+        }

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ViewHandler.template
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ViewHandler.template	2005-10-27 11:40:48 UTC (rev 559)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ViewHandler.template	2005-10-27 21:33:21 UTC (rev 560)
@@ -17,5 +17,9 @@
 
         public void ClearForm () {
         }
+
+        //Responses
+
+${body}
     }
 }



From nestor at berlios.de  Fri Oct 28 00:23:45 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Fri, 28 Oct 2005 00:23:45 +0200
Subject: [Mspace-checkins] r561 - in BabuineComponentBuilder/trunk/src/ComponentBuilder: Bo Forms Resources
Message-ID: <200510272223.j9RMNjv1013492@sheep.berlios.de>

Author: nestor
Date: 2005-10-28 00:23:44 +0200 (Fri, 28 Oct 2005)
New Revision: 561

Modified:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
Log:
ViewSelection ComboBox.



Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-27 21:33:21 UTC (rev 560)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-27 22:23:44 UTC (rev 561)
@@ -145,9 +145,7 @@
                         responseBuilder = responseBuilder.Replace (TagValuesDTO.ResponseName, methodDTO.ResponseMethod);
                     }
                 }
-                Console.WriteLine (responseBuilder.ToString () + " at ViewName " +  viewName);
                 StringBuilder viewBuilder = new StringBuilder ((string)componentTable [viewName + ".cs"]);
-                Console.WriteLine (viewBuilder.ToString ());
                 viewBuilder = viewBuilder.Replace (TagValuesDTO.Body, responseBuilder.ToString ());
                 componentTable [viewName + ".cs"] = viewBuilder.ToString ();
             }
@@ -156,20 +154,25 @@
         
         [ComponentMethod ("ComponentBuilder.Forms.MainComponentBuilderForm", "ResponseGenerateComponent")]
         public void GenerateComponent (ComponentSettingsDTO componentSettingsDTO) {
-            Console.WriteLine ("/----/");
             Hashtable templateTable = GetTemplates ();
             Hashtable componentTable = InitComponentTable (componentSettingsDTO, templateTable);
             componentTable = FillTable (componentSettingsDTO, componentTable);
             //Haremos una segunda pasada para construir los m?todos.
             componentTable = FillMethods (componentSettingsDTO, componentTable, templateTable);
+            //Tercera pasada para conseguir las respuestas.
             componentTable = FillResponses (componentSettingsDTO, componentTable, templateTable);
             
+            //Ahora solo resta guardarlo todo en el disco duro.  Con la ruta por
+            //defecto que se haya configurado.
+            
+
+            //Se contemplar? tambi?n el escribir un fichero nant con la
+            //informaci?n necesaria.
+            
             IDictionaryEnumerator enumerator = componentTable.GetEnumerator ();
             while (enumerator.MoveNext ()) {
                 Console.WriteLine (enumerator.Key + "\n" + enumerator.Value);
             }
-            Console.WriteLine ("/-END-/");
         }
-
     }
 }

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-27 21:33:21 UTC (rev 560)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-27 22:23:44 UTC (rev 561)
@@ -171,19 +171,32 @@
             parametersTreeView.Model = parameterTableModel.ListStore;
             //Barajar la opci?n de si merece la pena poner otro controlador para
             //esta vista.
+            //
+            //Grrrr !! Puta mierda de TreeModels !!!!!
+            ComboBox viewToResponseCombo = (ComboBox) newMethodDialog ["viewToResponseCombo"];
+            TreeStore treeStore = new TreeStore (typeof (string));
+            viewToResponseCombo.Model = treeStore;
+            foreach (string viewName in viewTableModel.ListModel) {
+                treeStore.AppendValues (viewName);
+            }
+            
             switch (dialog.Run ()) {
                 case  (int) ResponseType.Ok:
                     Entry nameEntry = (Entry) newMethodDialog ["nameEntry"];
                     Entry returnTypeEntry = (Entry) newMethodDialog ["returnTypeEntry"];
-                    Entry viewToResponseEntry = (Entry) newMethodDialog ["viewToResponseEntry"];
+                    //Entry viewToResponseEntry = (Entry) newMethodDialog ["viewToResponseEntry"];
                     Entry responseMethodEntry = (Entry) newMethodDialog ["responseMethodEntry"];
                     if (nameEntry.Text.Length != 0 && returnTypeEntry.Text.Length != 0 &&
-                        viewToResponseEntry.Text.Length != 0 && responseMethodEntry.Text.Length != 0    
+                        responseMethodEntry.Text.Length != 0    
                         ) {
                         MethodDTO methodDTO = new MethodDTO ();
                         methodDTO.MethodName = nameEntry.Text;
                         methodDTO.ReturnType = returnTypeEntry.Text;
-                        methodDTO.ViewToResponse = viewToResponseEntry.Text;
+                        //methodDTO.ViewToResponse = viewToResponseCombo.ActiveText;
+                        TreeIter iter;
+                        viewToResponseCombo.GetActiveIter (out iter);
+                        methodDTO.ViewToResponse = (string) viewToResponseCombo.Model.GetValue (iter, 0);
+                        //
                         methodDTO.ResponseMethod = responseMethodEntry.Text;
                         methodDTO.ParametersCollection = parameterTableModel.ListModel;
                         methodTableModel.Add (methodDTO);

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-27 21:33:21 UTC (rev 560)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-27 22:23:44 UTC (rev 561)
@@ -904,7 +904,7 @@
 	  </child>
 
 	  <child>
-	    <widget class="GtkEntry" id="viewToResponseEntry">
+	    <widget class="GtkEntry" id="responseMethodEntry">
 	      <property name="visible">True</property>
 	      <property name="can_focus">True</property>
 	      <property name="editable">True</property>
@@ -918,30 +918,26 @@
 	    <packing>
 	      <property name="left_attach">1</property>
 	      <property name="right_attach">2</property>
-	      <property name="top_attach">2</property>
-	      <property name="bottom_attach">3</property>
+	      <property name="top_attach">3</property>
+	      <property name="bottom_attach">4</property>
 	      <property name="y_options"></property>
 	    </packing>
 	  </child>
 
 	  <child>
-	    <widget class="GtkEntry" id="responseMethodEntry">
+	    <widget class="GtkComboBox" id="viewToResponseCombo">
 	      <property name="visible">True</property>
-	      <property name="can_focus">True</property>
-	      <property name="editable">True</property>
-	      <property name="visibility">True</property>
-	      <property name="max_length">0</property>
-	      <property name="text" translatable="yes"></property>
-	      <property name="has_frame">True</property>
-	      <property name="invisible_char">*</property>
-	      <property name="activates_default">False</property>
+	      <property name="items" translatable="yes"></property>
+	      <property name="add_tearoffs">False</property>
+	      <property name="focus_on_click">True</property>
 	    </widget>
 	    <packing>
 	      <property name="left_attach">1</property>
 	      <property name="right_attach">2</property>
-	      <property name="top_attach">3</property>
-	      <property name="bottom_attach">4</property>
-	      <property name="y_options"></property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options">fill</property>
 	    </packing>
 	  </child>
 	</widget>

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-27 21:33:21 UTC (rev 560)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-27 22:23:44 UTC (rev 561)
@@ -904,7 +904,7 @@
 	  </child>
 
 	  <child>
-	    <widget class="GtkEntry" id="viewToResponseEntry">
+	    <widget class="GtkEntry" id="responseMethodEntry">
 	      <property name="visible">True</property>
 	      <property name="can_focus">True</property>
 	      <property name="editable">True</property>
@@ -918,30 +918,25 @@
 	    <packing>
 	      <property name="left_attach">1</property>
 	      <property name="right_attach">2</property>
-	      <property name="top_attach">2</property>
-	      <property name="bottom_attach">3</property>
+	      <property name="top_attach">3</property>
+	      <property name="bottom_attach">4</property>
 	      <property name="y_options"></property>
 	    </packing>
 	  </child>
 
 	  <child>
-	    <widget class="GtkEntry" id="responseMethodEntry">
+	    <widget class="GtkComboBox" id="viewToResponseCombo">
 	      <property name="visible">True</property>
-	      <property name="can_focus">True</property>
-	      <property name="editable">True</property>
-	      <property name="visibility">True</property>
-	      <property name="max_length">0</property>
-	      <property name="text" translatable="yes"></property>
-	      <property name="has_frame">True</property>
-	      <property name="invisible_char">*</property>
-	      <property name="activates_default">False</property>
+	      <property name="add_tearoffs">False</property>
+	      <property name="focus_on_click">True</property>
 	    </widget>
 	    <packing>
 	      <property name="left_attach">1</property>
 	      <property name="right_attach">2</property>
-	      <property name="top_attach">3</property>
-	      <property name="bottom_attach">4</property>
-	      <property name="y_options"></property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options">fill</property>
 	    </packing>
 	  </child>
 	</widget>



From nestor at berlios.de  Fri Oct 28 19:02:59 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Fri, 28 Oct 2005 19:02:59 +0200
Subject: [Mspace-checkins] r562 - BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel
Message-ID: <200510281702.j9SH2xw2020237@sheep.berlios.de>

Author: nestor
Date: 2005-10-28 19:02:57 +0200 (Fri, 28 Oct 2005)
New Revision: 562

Modified:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/MethodTableModel.cs
Log:
Muestra los par?\195?\161metros.



Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/MethodTableModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/MethodTableModel.cs	2005-10-27 22:23:44 UTC (rev 561)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/TableModel/MethodTableModel.cs	2005-10-28 17:02:57 UTC (rev 562)
@@ -1,5 +1,6 @@
 using System;
 using System.Collections;
+using System.Text;
 using ComponentModel.Interfaces;
 using ComponentBuilder.DTO;
 using ComponentBuilder.Interfaces;
@@ -29,12 +30,24 @@
         public void Add (IDataTransferObject dto) {
             if (dto is MethodDTO) {
                 MethodDTO methodDTO = (MethodDTO) dto;
+                StringBuilder stringBuilder = new StringBuilder ();
+                foreach (ParameterDTO parameterDTO in methodDTO.ParametersCollection) {
+                    stringBuilder = stringBuilder.Append (parameterDTO.TypeName);
+                    stringBuilder = stringBuilder.Append (" ");
+                    stringBuilder = stringBuilder.Append (parameterDTO.VarName);
+                    stringBuilder = stringBuilder.Append (", ");
+                }
+                if (stringBuilder.Length != 0) {
+                    stringBuilder = stringBuilder.Remove (stringBuilder.Length -2, 2);
+                }
+                
                 listStore.AppendValues (
                         methodDTO.MethodName,
                         methodDTO.ReturnType,
                         methodDTO.ViewToResponse,
                         methodDTO.ResponseMethod,
-                        methodDTO.ParametersCollection.ToString ()
+                        stringBuilder.ToString ()
+                        //methodDTO.ParametersCollection.ToString ()
                         );
                 list.Add (methodDTO);
             }



From nestor at berlios.de  Fri Oct 28 19:52:34 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Fri, 28 Oct 2005 19:52:34 +0200
Subject: [Mspace-checkins] r563 - in BabuineComponentBuilder/trunk/src/ComponentBuilder: Bo Dto Resources Resources/Templates
Message-ID: <200510281752.j9SHqYAf018079@sheep.berlios.de>

Author: nestor
Date: 2005-10-28 19:52:32 +0200 (Fri, 28 Oct 2005)
New Revision: 563

Added:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/NAnt.template
Modified:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TemplateNamesDTO.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
Log:
Genera fichero NAnt.



Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-28 17:02:57 UTC (rev 562)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-28 17:52:32 UTC (rev 563)
@@ -39,6 +39,7 @@
             hashtable = AddToTemplateTable (hashtable, TemplateNamesDTO.MethodBody);
             hashtable = AddToTemplateTable (hashtable, TemplateNamesDTO.ResponseMethod);
             hashtable = AddToTemplateTable (hashtable, TemplateNamesDTO.ViewHandler);
+            hashtable = AddToTemplateTable (hashtable, TemplateNamesDTO.NAntBuildfile);
             return hashtable;
         }
 
@@ -61,6 +62,8 @@
                 string currentView = enumerator.Current;
                 componentTable.Add (currentView + ".cs", templateTable[TemplateNamesDTO.ViewHandler]); 
             }
+            //A?adimos el file nant.
+            componentTable.Add (componentSettingsDTO.ComponentName+".build", templateTable[TemplateNamesDTO.NAntBuildfile]);
             return componentTable;
         }
 
@@ -75,7 +78,10 @@
             while (enumerator.MoveNext ()) {
                 string currentKey = (string)enumerator.Current;
                 StringBuilder stringBuilder = new StringBuilder ((string)componentTable[currentKey]);
-                stringBuilder = stringBuilder.Replace (TagValuesDTO.ComponentName, componentSettingsDTO.ComponentName);
+                if (currentKey.EndsWith (".build")) 
+                    stringBuilder = stringBuilder.Replace (TagValuesDTO.NAntComponentName, componentSettingsDTO.ComponentName);
+                else 
+                    stringBuilder = stringBuilder.Replace (TagValuesDTO.ComponentName, componentSettingsDTO.ComponentName);
                 stringBuilder = stringBuilder.Replace (TagValuesDTO.ExceptionManager, componentSettingsDTO.ClassExceptionManager);
                 //Ahora para las vistas se discernira para cada una.
                 foreach (String view in componentSettingsDTO.ViewsCollection) { 
@@ -162,7 +168,7 @@
             //Tercera pasada para conseguir las respuestas.
             componentTable = FillResponses (componentSettingsDTO, componentTable, templateTable);
             
-            //Ahora solo resta guardarlo todo en el disco duro.  Con la ruta por
+            //Ahora solo resta guardarlo en archivos.  Con la ruta por
             //defecto que se haya configurado.
             
 

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs	2005-10-28 17:02:57 UTC (rev 562)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs	2005-10-28 17:52:32 UTC (rev 563)
@@ -4,6 +4,7 @@
 namespace ComponentBuilder.DTO {
     internal sealed class TagValuesDTO : IDataTransferObject {
         internal const string ComponentName = "${component_name}";
+        internal const string NAntComponentName = "$@{component_name}";
         internal const string ViewName = "${view_name}";
         internal const string ExceptionManager = "${exception_manager_class_name}";
         internal const string ResponseName = "${response_name}";

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TemplateNamesDTO.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TemplateNamesDTO.cs	2005-10-28 17:02:57 UTC (rev 562)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TemplateNamesDTO.cs	2005-10-28 17:52:32 UTC (rev 563)
@@ -9,5 +9,6 @@
         internal const string MethodBody = "MethodBody.template";
         internal const string ResponseMethod = "ResponseMethod.template";
         internal const string ViewHandler = "ViewHandler.template";
+        internal const string NAntBuildfile = "NAnt.template";
     }
 }

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-28 17:02:57 UTC (rev 562)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-28 17:52:32 UTC (rev 563)
@@ -927,6 +927,7 @@
 	  <child>
 	    <widget class="GtkComboBox" id="viewToResponseCombo">
 	      <property name="visible">True</property>
+	      <property name="items" translatable="yes"></property>
 	      <property name="add_tearoffs">False</property>
 	      <property name="focus_on_click">True</property>
 	    </widget>

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/NAnt.template
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/NAnt.template	2005-10-28 17:02:57 UTC (rev 562)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/NAnt.template	2005-10-28 17:52:32 UTC (rev 563)
@@ -0,0 +1,162 @@
+<?xml version="1.0" encoding="utf-8"?>
+
+<!--
+    (c) N?stor Salceda & Sergio Rubio  (Monkey Space Developers)
+    File: 
+        nant.xml
+    Description:
+        base nant file template for automate basic task deployment.
+
+      INSERTAR LA WEB DE MONKEY SPACE Y TAL  
+-->
+
+<project basedir="." default="build" name="Monkey Space -- Component Model">
+<!-- Properties -->
+    <!--
+        PENSAR LAS PROPIEDADES Y PONERLAS
+        DEBER?N SER AS? COMO VARIABLES QUE SOLO HAYA QUE CAMBIAR
+        PARA ADAPTAR EL COMPONENTE.  EL RESTO DE CONFIGURACI?N Y COMPILACI?N
+        SER? IGUAL.
+    -->
+   
+    <property name="nant.settings.currentframework" value="mono-1.0"/>
+   
+    <!--Configuracion (Igual ser?a recomendable que coincidieran con el
+    manifiesto del ensamblado)-->
+    <property name="version" value="0.1"/>
+    <property name="description" value="A Little Bulder for Babuine Components"/>
+    <property name="component_name" value="$@{component_name}"/> 
+    
+    <!-- Directory Tree--> 
+    <!-- Localizacion de dependencias -->
+    <property name="src" value="src"/>
+    <property name="src_component" value="${src}/${component_name}"/>
+    <property name="src_main" value="${src}/MainComponent"/>
+    <property name="lib" value="lib"/>
+    <!-- Other mspace components -->
+    <property name="components" value="lib/components"/>
+    <property name="doc" value="doc"/>
+    <property name="resources" value="resources"/>
+        <!--Aqui se guardar?n los ejecutables generados-->
+    <property name="bin" value="bin"/>
+
+<!-- Targets -->
+
+    <!-- Elimina los ficheros existentes en bin y en doc -->
+    <target name="clean">
+        <delete dir="${bin}" if="${directory::exists(bin)}" failonerror="false"/> 
+        <delete dir="${doc}" if="${directory::exists(doc)}" failonerror="false"/> 
+        <tstamp/>
+    </target>
+
+    <!-- Crea una nueva jerarquia con bin y doc para la compilaci?n -->
+    <target name="create-skeleton" depends="clean">
+        <mkdir dir="${bin}"/>
+        <mkdir dir="${doc}"/>
+        <tstamp/>
+    </target>
+    
+    <!-- Compila el componente y lo guarda en bin -->
+    <target name="build" depends="create-skeleton">
+        <csc target="library" output="${bin}/${component_name}.dll" debug="true"
+        verbose="false" warninglevel='0'>
+            <sources basedir="${src_component}">
+                <include name="**/*.cs"/>
+            </sources>
+            <references>
+                <include name="**/${lib}/*.dll"/>
+                <include name="**/${lib}/components/*.dll"/>
+            </references>
+
+            <pkg-references>
+                <package name="gtk-sharp-2.0"/>
+                <package name="glade-sharp-2.0"/>
+            </pkg-references>
+            
+            <resources>
+                <include name="**/*.glade"/>
+                <include name="**/*.template"/>
+            </resources>
+        </csc>
+        <tstamp/>
+    </target>
+
+    <!-- Ejecuta el componente (Lo compila como un exe y luego lo ejecuta) -->
+    <!-- En este caso solo deber? ejecutar los test de unidad-->
+    <target name="run" depends="build">
+        <csc target="winexe" output="${bin}/${component_name}Launcher.exe" debug="true"
+        verbose="false">
+            <sources basedir="${src_main}">
+                <include name="**/*.cs"/>
+            </sources>
+            <references>
+                <include name="**/${lib}/*.dll"/>
+                <include name="**/${lib}/components/*.dll"/>
+                <include name="**/${bin}/*.dll"/>    
+            </references>
+            <pkg-references>
+                <package name="gtk-sharp-2.0"/>
+            </pkg-references>
+        </csc>
+        <exec program="${bin}/${component_name}Launcher.exe" useruntimeengine="true"
+        verbose = "false">
+            <!-- Esto se queda ahi temporalmente, se deber? hacer que se meta a
+            resources/ComponentModelTest.xml-->
+            <environment>
+                <variable name="MONO_PATH">
+                    <path>
+                        <pathelement file="${lib}"/>
+                        <pathelement file="${components}"/>
+                        <pathelement file="${bin}"/>
+                    </path>
+                </variable>
+            </environment>
+        </exec>
+        <tstamp/>
+    </target>
+
+    <!-- Por defecto compilar? el componente y escribir? la documentaci?n-->
+    <target name="all" depends="build,doc">
+        <tstamp/>
+    </target>
+
+    <!-- Documenta el componente y lo guarda en doc-->
+    <target name="doc" depends="build">
+        <tstamp/>
+    </target>
+
+    <!-- Ayuda sobre este fichero -->
+    <target name="usage">
+        <echo>
+            Monkey Space NAnt buildfile for component 
+            ${component_name} version ${version}.
+
+            Component's Description:
+                ${description}
+
+            Available task:
+                
+                -all
+                    Compile, and creates binary files.
+
+                -doc
+                    Creates documentation.  ?Monodoc or ndoc?
+
+                -clean
+                    Delete component binaries.
+                
+                -run
+                    Runs the application.
+               
+                -build
+                    Build component.
+               
+                -all
+                    Builds component and document it.
+                
+                -usage
+                    Show this help.
+        </echo>
+        <tstamp/>
+    </target>
+</project>



From nestor at berlios.de  Sat Oct 29 14:33:31 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Sat, 29 Oct 2005 14:33:31 +0200
Subject: [Mspace-checkins] r564 - in BabuineComponentBuilder/trunk/src/ComponentBuilder: Bo Dto Forms Resources
Message-ID: <200510291233.j9TCXVng028343@sheep.berlios.de>

Author: nestor
Date: 2005-10-29 14:33:30 +0200 (Sat, 29 Oct 2005)
New Revision: 564

Added:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/PreferencesDTO.cs
Modified:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
Log:
A?\195?\177adidas las preferencias.



Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-28 17:52:32 UTC (rev 563)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-29 12:33:30 UTC (rev 564)
@@ -4,6 +4,8 @@
 using System.Reflection;
 using System.IO;
 using System.Text;
+using System.Xml;
+using System.Xml.Serialization;
 using ComponentModel;
 using ComponentBuilder.DTO;
 
@@ -11,6 +13,40 @@
     [Component ("ComponentBuilder", "ComponentBuilder.Exceptions.ComponentBuilderExceptionManager")]
     public sealed class ComponentBuilderComponentModel : DefaultComponentModel {
         
+        private PreferencesDTO preferencesDTO;
+        
+        public PreferencesDTO PreferencesDTO {
+            get {return preferencesDTO;}
+            set {preferencesDTO = value;}
+        }
+
+        public ComponentBuilderComponentModel () {
+            try {
+                preferencesDTO = DeserializePreferences ();
+            }
+            catch (Exception exception) {
+                preferencesDTO = new PreferencesDTO ();
+            }
+        }
+        
+        [ComponentMethod ("ComponentBuilder.Forms.MainComponentBuilderForm", "ResponseSerializePreferences")]
+        public void SerializePreferences () {
+            XmlSerializer xmlSerializer = new XmlSerializer (typeof (PreferencesDTO));
+            StreamWriter streamWriter = new StreamWriter (Path.Combine ("resources", "ComponentBuilder.config"));
+            xmlSerializer.Serialize (streamWriter, preferencesDTO);
+            streamWriter.Close ();
+        }
+
+        [ComponentMethod ("ComponentBuilder.Forms.MainComponentBuilderForm", "ResponseDeserializePreferences")]
+        public PreferencesDTO DeserializePreferences () {
+            XmlSerializer xmlSerializer = new XmlSerializer (typeof (PreferencesDTO));
+            FileStream fileStream = new FileStream (Path.Combine ("resources", "ComponentBuilder.config"), FileMode.Open);
+            preferencesDTO = (PreferencesDTO) xmlSerializer.Deserialize (fileStream);
+            fileStream.Close ();
+            return preferencesDTO;
+        }
+
+        
         [ComponentMethod ("ComponentBuilder.Forms.MainComponentBuilderForm", "ResponseShowForm")]
         public void ShowForm () {
         }

Added: BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/PreferencesDTO.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/PreferencesDTO.cs	2005-10-28 17:52:32 UTC (rev 563)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/PreferencesDTO.cs	2005-10-29 12:33:30 UTC (rev 564)
@@ -0,0 +1,32 @@
+using System;
+using ComponentModel.Interfaces;
+
+namespace ComponentBuilder.DTO {
+    [Serializable]
+    public sealed class PreferencesDTO : IDataTransferObject {
+        private string outputPath;
+        private string prefixNamespace;
+        private bool generateBuildfile;
+
+        public PreferencesDTO () {
+            OutputPath = String.Empty;
+            PrefixNamespace = String.Empty;
+            GenerateBuildfile = true;
+        }
+        
+        public bool GenerateBuildfile {
+            get {return generateBuildfile;}
+            set {generateBuildfile = value;}
+        }
+        
+        public string PrefixNamespace {
+            get {return prefixNamespace;}
+            set {prefixNamespace = value;}
+        }
+        
+        public string OutputPath {
+            get {return outputPath;}
+            set {outputPath = value;}
+        }
+    }
+}

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-28 17:52:32 UTC (rev 563)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-29 12:33:30 UTC (rev 564)
@@ -9,7 +9,7 @@
 
 namespace ComponentBuilder.Forms {
     public sealed class MainComponentBuilderForm : IViewHandler {
-        Glade.XML gxml, newViewDialog, newMethodDialog, newParameterDialog = null;
+        Glade.XML gxml, newViewDialog, newMethodDialog, newParameterDialog, preferencesDialog = null;
         [Widget] Statusbar statusbar1;
         [Widget] TreeView viewsTreeView, methodsTreeView;
         [Widget] Entry componentNameEntry, exceptionManagerClassNameEntry;
@@ -95,6 +95,18 @@
             }
         }
 
+        public void ResponseSerializePreferences (ResponseMethodDTO response) {
+            if (response.ExecutionSuccess) {
+                Console.WriteLine ("Configuration saved.");
+            }
+        }
+
+        public void ResponseDeserializePreferences (ResponseMethodDTO response) {
+            if (response.ExecutionSuccess) {
+                Console.WriteLine ("Configuracion guardada.");
+            }
+        }
+
         /*Gui Events*/
         
         private void OnWindow1DeleteEvent (object sender, DeleteEventArgs args) {
@@ -211,5 +223,37 @@
             dialog.Destroy ();
             newMethodDialog = null;
         }
+
+        private void OnPreferencesClicked (object sender, EventArgs args) {
+            preferencesDialog = new Glade.XML (null, "MainComponentBuilderForm.glade", "preferencesDialog", null);
+            Dialog dialog = (Dialog) preferencesDialog  ["preferencesDialog"];
+            Entry defaultOutputPathEntry = (Entry) preferencesDialog ["defaultOutputPathEntry"];
+            Entry prefixNamespaceEntry = (Entry) preferencesDialog ["prefixNamespaceEntry"];
+            CheckButton generateCheck = (CheckButton) preferencesDialog ["generateCheck"];
+            IComponentModel componentModel = DefaultContainer.Instance.GetComponentByName ("ComponentBuilder");
+            PreferencesDTO preferencesDTO = (PreferencesDTO) componentModel.GetProperty ("PreferencesDTO"); 
+            // Vamos a cargar los datos.
+            defaultOutputPathEntry.Text = preferencesDTO.OutputPath;
+            prefixNamespaceEntry.Text = preferencesDTO.PrefixNamespace;
+            generateCheck.Active = preferencesDTO.GenerateBuildfile;
+            //
+            switch (dialog.Run ()) {
+                case (int) ResponseType.Ok:
+                    preferencesDTO = new PreferencesDTO ();
+                    preferencesDTO.OutputPath = defaultOutputPathEntry.Text;
+                    preferencesDTO.PrefixNamespace = prefixNamespaceEntry.Text;
+                    preferencesDTO.GenerateBuildfile = generateCheck.Active;
+                    //Primero asignar la propiedad y luego salvar.
+                    componentModel.SetProperty ("PreferencesDTO", preferencesDTO);
+                    componentModel.Execute ("SerializePreferences", null, this);
+                    break;
+                case (int) ResponseType.Cancel:
+                    break;
+                default:
+                    break;
+            }
+            dialog.Destroy ();
+            preferencesDialog = null;
+        }
     }
 }

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-28 17:52:32 UTC (rev 563)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-29 12:33:30 UTC (rev 564)
@@ -62,6 +62,7 @@
 	      <property name="visible_horizontal">True</property>
 	      <property name="visible_vertical">True</property>
 	      <property name="is_important">False</property>
+	      <signal name="clicked" handler="OnPreferencesClicked" last_modification_time="Sat, 29 Oct 2005 11:43:22 GMT"/>
 	    </widget>
 	    <packing>
 	      <property name="expand">False</property>
@@ -1130,4 +1131,314 @@
   </child>
 </widget>
 
+<widget class="GtkDialog" id="preferencesDialog">
+  <property name="visible">True</property>
+  <property name="title" translatable="yes">Preferences</property>
+  <property name="type">GTK_WINDOW_TOPLEVEL</property>
+  <property name="window_position">GTK_WIN_POS_CENTER_ON_PARENT</property>
+  <property name="modal">True</property>
+  <property name="resizable">True</property>
+  <property name="destroy_with_parent">False</property>
+  <property name="decorated">True</property>
+  <property name="skip_taskbar_hint">False</property>
+  <property name="skip_pager_hint">False</property>
+  <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
+  <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
+  <property name="focus_on_map">True</property>
+  <property name="urgency_hint">False</property>
+  <property name="has_separator">True</property>
+
+  <child internal-child="vbox">
+    <widget class="GtkVBox" id="dialog-vbox4">
+      <property name="visible">True</property>
+      <property name="homogeneous">False</property>
+      <property name="spacing">0</property>
+
+      <child internal-child="action_area">
+	<widget class="GtkHButtonBox" id="dialog-action_area4">
+	  <property name="visible">True</property>
+	  <property name="layout_style">GTK_BUTTONBOX_END</property>
+
+	  <child>
+	    <widget class="GtkButton" id="cancelbutton4">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-cancel</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-6</property>
+	    </widget>
+	  </child>
+
+	  <child>
+	    <widget class="GtkButton" id="okbutton4">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-ok</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-5</property>
+	    </widget>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">False</property>
+	  <property name="fill">True</property>
+	  <property name="pack_type">GTK_PACK_END</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkTable" id="table4">
+	  <property name="visible">True</property>
+	  <property name="n_rows">3</property>
+	  <property name="n_columns">3</property>
+	  <property name="homogeneous">False</property>
+	  <property name="row_spacing">0</property>
+	  <property name="column_spacing">0</property>
+
+	  <child>
+	    <widget class="GtkLabel" id="label13">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Default Output Path: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label14">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Prefix Namespace: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label15">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Generate NAnt Buildfile: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="defaultOutputPathEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="prefixNamespaceEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkCheckButton" id="generateCheck">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label" translatable="yes">Generate</property>
+	      <property name="use_underline">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="active">False</property>
+	      <property name="inconsistent">False</property>
+	      <property name="draw_indicator">True</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkButton" id="button10">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+
+	      <child>
+		<widget class="GtkAlignment" id="alignment1">
+		  <property name="visible">True</property>
+		  <property name="xalign">0.5</property>
+		  <property name="yalign">0.5</property>
+		  <property name="xscale">0</property>
+		  <property name="yscale">0</property>
+		  <property name="top_padding">0</property>
+		  <property name="bottom_padding">0</property>
+		  <property name="left_padding">0</property>
+		  <property name="right_padding">0</property>
+
+		  <child>
+		    <widget class="GtkHBox" id="hbox2">
+		      <property name="visible">True</property>
+		      <property name="homogeneous">False</property>
+		      <property name="spacing">2</property>
+
+		      <child>
+			<widget class="GtkImage" id="image1">
+			  <property name="visible">True</property>
+			  <property name="stock">gtk-open</property>
+			  <property name="icon_size">4</property>
+			  <property name="xalign">0.5</property>
+			  <property name="yalign">0.5</property>
+			  <property name="xpad">0</property>
+			  <property name="ypad">0</property>
+			</widget>
+			<packing>
+			  <property name="padding">0</property>
+			  <property name="expand">False</property>
+			  <property name="fill">False</property>
+			</packing>
+		      </child>
+
+		      <child>
+			<widget class="GtkLabel" id="label16">
+			  <property name="visible">True</property>
+			  <property name="label" translatable="yes">Browse</property>
+			  <property name="use_underline">True</property>
+			  <property name="use_markup">False</property>
+			  <property name="justify">GTK_JUSTIFY_LEFT</property>
+			  <property name="wrap">False</property>
+			  <property name="selectable">False</property>
+			  <property name="xalign">0.5</property>
+			  <property name="yalign">0.5</property>
+			  <property name="xpad">0</property>
+			  <property name="ypad">0</property>
+			  <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+			  <property name="width_chars">-1</property>
+			  <property name="single_line_mode">False</property>
+			  <property name="angle">0</property>
+			</widget>
+			<packing>
+			  <property name="padding">0</property>
+			  <property name="expand">False</property>
+			  <property name="fill">False</property>
+			</packing>
+		      </child>
+		    </widget>
+		  </child>
+		</widget>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">2</property>
+	      <property name="right_attach">3</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+    </widget>
+  </child>
+</widget>
+
 </glade-interface>

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-28 17:52:32 UTC (rev 563)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-29 12:33:30 UTC (rev 564)
@@ -62,6 +62,7 @@
 	      <property name="visible_horizontal">True</property>
 	      <property name="visible_vertical">True</property>
 	      <property name="is_important">False</property>
+	      <signal name="clicked" handler="OnPreferencesClicked" last_modification_time="Sat, 29 Oct 2005 11:43:22 GMT"/>
 	    </widget>
 	    <packing>
 	      <property name="expand">False</property>
@@ -1130,4 +1131,314 @@
   </child>
 </widget>
 
+<widget class="GtkDialog" id="preferencesDialog">
+  <property name="visible">True</property>
+  <property name="title" translatable="yes">Preferences</property>
+  <property name="type">GTK_WINDOW_TOPLEVEL</property>
+  <property name="window_position">GTK_WIN_POS_CENTER_ON_PARENT</property>
+  <property name="modal">True</property>
+  <property name="resizable">True</property>
+  <property name="destroy_with_parent">False</property>
+  <property name="decorated">True</property>
+  <property name="skip_taskbar_hint">False</property>
+  <property name="skip_pager_hint">False</property>
+  <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
+  <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
+  <property name="focus_on_map">True</property>
+  <property name="urgency_hint">False</property>
+  <property name="has_separator">True</property>
+
+  <child internal-child="vbox">
+    <widget class="GtkVBox" id="dialog-vbox4">
+      <property name="visible">True</property>
+      <property name="homogeneous">False</property>
+      <property name="spacing">0</property>
+
+      <child internal-child="action_area">
+	<widget class="GtkHButtonBox" id="dialog-action_area4">
+	  <property name="visible">True</property>
+	  <property name="layout_style">GTK_BUTTONBOX_END</property>
+
+	  <child>
+	    <widget class="GtkButton" id="cancelbutton4">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-cancel</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-6</property>
+	    </widget>
+	  </child>
+
+	  <child>
+	    <widget class="GtkButton" id="okbutton4">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-ok</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-5</property>
+	    </widget>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">False</property>
+	  <property name="fill">True</property>
+	  <property name="pack_type">GTK_PACK_END</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkTable" id="table4">
+	  <property name="visible">True</property>
+	  <property name="n_rows">3</property>
+	  <property name="n_columns">3</property>
+	  <property name="homogeneous">False</property>
+	  <property name="row_spacing">0</property>
+	  <property name="column_spacing">0</property>
+
+	  <child>
+	    <widget class="GtkLabel" id="label13">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Default Output Path: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label14">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Prefix Namespace: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkLabel" id="label15">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">&lt;b&gt;Generate NAnt Buildfile: &lt;/b&gt;</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">True</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">0</property>
+	      <property name="ypad">0</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="defaultOutputPathEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkEntry" id="prefixNamespaceEntry">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkCheckButton" id="generateCheck">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label" translatable="yes">Generate</property>
+	      <property name="use_underline">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="active">False</property>
+	      <property name="inconsistent">False</property>
+	      <property name="draw_indicator">True</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkButton" id="button10">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+
+	      <child>
+		<widget class="GtkAlignment" id="alignment1">
+		  <property name="visible">True</property>
+		  <property name="xalign">0.5</property>
+		  <property name="yalign">0.5</property>
+		  <property name="xscale">0</property>
+		  <property name="yscale">0</property>
+		  <property name="top_padding">0</property>
+		  <property name="bottom_padding">0</property>
+		  <property name="left_padding">0</property>
+		  <property name="right_padding">0</property>
+
+		  <child>
+		    <widget class="GtkHBox" id="hbox2">
+		      <property name="visible">True</property>
+		      <property name="homogeneous">False</property>
+		      <property name="spacing">2</property>
+
+		      <child>
+			<widget class="GtkImage" id="image1">
+			  <property name="visible">True</property>
+			  <property name="stock">gtk-open</property>
+			  <property name="icon_size">4</property>
+			  <property name="xalign">0.5</property>
+			  <property name="yalign">0.5</property>
+			  <property name="xpad">0</property>
+			  <property name="ypad">0</property>
+			</widget>
+			<packing>
+			  <property name="padding">0</property>
+			  <property name="expand">False</property>
+			  <property name="fill">False</property>
+			</packing>
+		      </child>
+
+		      <child>
+			<widget class="GtkLabel" id="label16">
+			  <property name="visible">True</property>
+			  <property name="label" translatable="yes">Browse</property>
+			  <property name="use_underline">True</property>
+			  <property name="use_markup">False</property>
+			  <property name="justify">GTK_JUSTIFY_LEFT</property>
+			  <property name="wrap">False</property>
+			  <property name="selectable">False</property>
+			  <property name="xalign">0.5</property>
+			  <property name="yalign">0.5</property>
+			  <property name="xpad">0</property>
+			  <property name="ypad">0</property>
+			  <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+			  <property name="width_chars">-1</property>
+			  <property name="single_line_mode">False</property>
+			  <property name="angle">0</property>
+			</widget>
+			<packing>
+			  <property name="padding">0</property>
+			  <property name="expand">False</property>
+			  <property name="fill">False</property>
+			</packing>
+		      </child>
+		    </widget>
+		  </child>
+		</widget>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">2</property>
+	      <property name="right_attach">3</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+    </widget>
+  </child>
+</widget>
+
 </glade-interface>



From nestor at berlios.de  Sat Oct 29 15:46:22 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Sat, 29 Oct 2005 15:46:22 +0200
Subject: [Mspace-checkins] r565 - in BabuineComponentBuilder/trunk/src/ComponentBuilder: Bo Dto Forms Resources Resources/Templates
Message-ID: <200510291346.j9TDkMwx003893@sheep.berlios.de>

Author: nestor
Date: 2005-10-29 15:46:21 +0200 (Sat, 29 Oct 2005)
New Revision: 565

Modified:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ExceptionManager.template
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ViewHandler.template
Log:
Prefix Namespace support.



Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-29 12:33:30 UTC (rev 564)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-29 13:46:21 UTC (rev 565)
@@ -99,7 +99,9 @@
                 componentTable.Add (currentView + ".cs", templateTable[TemplateNamesDTO.ViewHandler]); 
             }
             //A?adimos el file nant.
-            componentTable.Add (componentSettingsDTO.ComponentName+".build", templateTable[TemplateNamesDTO.NAntBuildfile]);
+            if (preferencesDTO.GenerateBuildfile) {
+                componentTable.Add (componentSettingsDTO.ComponentName+".build", templateTable[TemplateNamesDTO.NAntBuildfile]);
+            }
             return componentTable;
         }
 
@@ -119,6 +121,16 @@
                 else 
                     stringBuilder = stringBuilder.Replace (TagValuesDTO.ComponentName, componentSettingsDTO.ComponentName);
                 stringBuilder = stringBuilder.Replace (TagValuesDTO.ExceptionManager, componentSettingsDTO.ClassExceptionManager);
+                if (preferencesDTO.PrefixNamespace.Length != 0) {
+                    //Lo setear? y a?adir? un punto.
+                    StringBuilder prefixBuilder = new StringBuilder (preferencesDTO.PrefixNamespace);
+                    prefixBuilder = prefixBuilder.Append (".");
+                    stringBuilder = stringBuilder.Replace (TagValuesDTO.Prefix, prefixBuilder.ToString ());
+                }
+                else {
+                    //No lo seteara el prefix namespace
+                    stringBuilder = stringBuilder.Replace (TagValuesDTO.Prefix, preferencesDTO.PrefixNamespace);
+                }
                 //Ahora para las vistas se discernira para cada una.
                 foreach (String view in componentSettingsDTO.ViewsCollection) { 
                     if (currentKey.StartsWith (view)) {

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs	2005-10-29 12:33:30 UTC (rev 564)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Dto/TagValuesDTO.cs	2005-10-29 13:46:21 UTC (rev 565)
@@ -12,5 +12,6 @@
         internal const string MethodName = "${method_name}";
         internal const string Body = "${body}";
         internal const string Parameters = "${parameters}";
+        internal const string Prefix = "${prefix}";
     }
 }

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-29 12:33:30 UTC (rev 564)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Forms/MainComponentBuilderForm.cs	2005-10-29 13:46:21 UTC (rev 565)
@@ -224,8 +224,27 @@
             newMethodDialog = null;
         }
 
+        private void OnBrowseButtonClicked (object sender, EventArgs args) {
+            Entry defaultOutputPathEntry = (Entry) preferencesDialog ["defaultOutputPathEntry"]; 
+            FileChooserDialog chooser = new FileChooserDialog ("Select a path:", (Window)preferencesDialog["preferencesDialog"], FileChooserAction.SelectFolder, Stock.Ok);
+            if (defaultOutputPathEntry.Text.Length != 0) {
+                chooser.SetCurrentFolder (defaultOutputPathEntry.Text);
+            }
+            chooser.AddButton (Stock.Ok, ResponseType.Accept);
+            ResponseType responseType = (ResponseType) chooser.Run ();
+            switch (responseType) {
+                case ResponseType.Accept:
+                    defaultOutputPathEntry.Text = chooser.CurrentFolder;
+                    break;
+                default:
+                    break;
+            }
+            chooser.Destroy ();
+        }
+
         private void OnPreferencesClicked (object sender, EventArgs args) {
             preferencesDialog = new Glade.XML (null, "MainComponentBuilderForm.glade", "preferencesDialog", null);
+            preferencesDialog.Autoconnect (this);
             Dialog dialog = (Dialog) preferencesDialog  ["preferencesDialog"];
             Entry defaultOutputPathEntry = (Entry) preferencesDialog ["defaultOutputPathEntry"];
             Entry prefixNamespaceEntry = (Entry) preferencesDialog ["prefixNamespaceEntry"];

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-29 12:33:30 UTC (rev 564)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade	2005-10-29 13:46:21 UTC (rev 565)
@@ -1356,6 +1356,7 @@
 	      <property name="can_focus">True</property>
 	      <property name="relief">GTK_RELIEF_NORMAL</property>
 	      <property name="focus_on_click">True</property>
+	      <signal name="clicked" handler="OnBrowseButtonClicked" last_modification_time="Sat, 29 Oct 2005 13:16:19 GMT"/>
 
 	      <child>
 		<widget class="GtkAlignment" id="alignment1">

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template	2005-10-29 12:33:30 UTC (rev 564)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template	2005-10-29 13:46:21 UTC (rev 565)
@@ -6,7 +6,7 @@
 using System;
 using ComponentModel;
 
-namespace ${component_name}.Bo {
+namespace ${prefix}${component_name}.Bo {
     [Component ("${component_name}", "${component_name}.Exceptions.${exception_manager_class_name}")]
     public sealed class ${component_name}ComponentModel : DefaultComponentModel {
 ${body} 

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ExceptionManager.template
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ExceptionManager.template	2005-10-29 12:33:30 UTC (rev 564)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ExceptionManager.template	2005-10-29 13:46:21 UTC (rev 565)
@@ -5,7 +5,7 @@
 using System;
 using ComponentModel.Interfaces;
 
-namespace ${component_name}.Exceptions {
+namespace ${prefix}${component_name}.Exceptions {
     public sealed class ${exception_manager_class_name} : IExceptionManager {
         public void ProcessException (Exception exception) {
         }

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ViewHandler.template
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ViewHandler.template	2005-10-29 12:33:30 UTC (rev 564)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/ViewHandler.template	2005-10-29 13:46:21 UTC (rev 565)
@@ -6,7 +6,7 @@
 using ComponentModel.Interfaces;
 using ComponentModel.DTO;
 
-namespace ${component_name}.Forms {
+namespace ${prefix}${component_name}.Forms {
     public sealed class ${view_name} : IViewHandler {
         public void LoadDataForm (IDataTransferObject dto) {
         }



From nestor at berlios.de  Sun Oct 30 15:23:56 2005
From: nestor at berlios.de (Nstor Salceda at BerliOS)
Date: Sun, 30 Oct 2005 15:23:56 +0100
Subject: [Mspace-checkins] r566 - in BabuineComponentBuilder/trunk/src/ComponentBuilder: Bo Resources Resources/Templates
Message-ID: <200510301423.j9UENu39000208@sheep.berlios.de>

Author: nestor
Date: 2005-10-30 15:23:55 +0100 (Sun, 30 Oct 2005)
New Revision: 566

Modified:
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template
   BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/MethodBody.template
Log:
Bugfixes for ${prefix} namespace.



Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-29 13:46:21 UTC (rev 565)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Bo/ComponentBuilderComponentModel.cs	2005-10-30 14:23:55 UTC (rev 566)
@@ -161,7 +161,20 @@
                     methodStringBuilder.Remove (methodStringBuilder.Length -2, 2);
                 stringBuilder = stringBuilder.Replace (TagValuesDTO.Parameters, methodStringBuilder.ToString ());
                 //Attributes.
+                //Set up prefix
+                
+                if (preferencesDTO.PrefixNamespace.Length != 0) {
+                    //Lo setear? y a?adir? un punto.
+                    StringBuilder prefixBuilder = new StringBuilder (preferencesDTO.PrefixNamespace);
+                    prefixBuilder = prefixBuilder.Append (".");
+                    stringBuilder = stringBuilder.Replace (TagValuesDTO.Prefix, prefixBuilder.ToString ());
+                }
+                else {
+                    //No lo seteara el prefix namespace
+                    stringBuilder = stringBuilder.Replace (TagValuesDTO.Prefix, preferencesDTO.PrefixNamespace);
+                } 
                 stringBuilder = stringBuilder.Replace (TagValuesDTO.ComponentName, componentSettingsDTO.ComponentName);
+            
                 stringBuilder = stringBuilder.Replace (TagValuesDTO.ViewName, methodDTO.ViewToResponse);
                 stringBuilder = stringBuilder.Replace (TagValuesDTO.ResponseName, methodDTO.ResponseMethod);
             }

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-29 13:46:21 UTC (rev 565)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/MainComponentBuilderForm.glade.bak	2005-10-30 14:23:55 UTC (rev 566)
@@ -1356,6 +1356,7 @@
 	      <property name="can_focus">True</property>
 	      <property name="relief">GTK_RELIEF_NORMAL</property>
 	      <property name="focus_on_click">True</property>
+	      <signal name="clicked" handler="OnBrowseButtonClicked" last_modification_time="Sat, 29 Oct 2005 13:16:19 GMT"/>
 
 	      <child>
 		<widget class="GtkAlignment" id="alignment1">

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template	2005-10-29 13:46:21 UTC (rev 565)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/BusinessObject.template	2005-10-30 14:23:55 UTC (rev 566)
@@ -7,7 +7,7 @@
 using ComponentModel;
 
 namespace ${prefix}${component_name}.Bo {
-    [Component ("${component_name}", "${component_name}.Exceptions.${exception_manager_class_name}")]
+    [Component ("${component_name}", "${prefix}${component_name}.Exceptions.${exception_manager_class_name}")]
     public sealed class ${component_name}ComponentModel : DefaultComponentModel {
 ${body} 
     }

Modified: BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/MethodBody.template
===================================================================
--- BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/MethodBody.template	2005-10-29 13:46:21 UTC (rev 565)
+++ BabuineComponentBuilder/trunk/src/ComponentBuilder/Resources/Templates/MethodBody.template	2005-10-30 14:23:55 UTC (rev 566)
@@ -1,3 +1,3 @@
-        [ComponentMethod ("${component_name}.Forms.${view_name}", "${response_name}")]
+        [ComponentMethod ("${prefix}${component_name}.Forms.${view_name}", "${response_name}")]
         public ${return_type} ${method_name} (${parameters}) {
         }



